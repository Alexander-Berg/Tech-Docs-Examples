feature: Страница всех объявлений
type: Шапка

specs-integration:
  beforeEach:
    - do: получить выдачу по запросу 'Пластиковые окна'
    - do: в адресной строке браузера добавить после 'search/' параметр 'direct' и нажать Enter (для планшетов /search/pad/direct)
    - assert: |
        на странице присутствуют объявления со сниппетами по заданному запросу,
        активен таб Предложения в шапке (подчеркнут)
  Нажатие на кнопку разместить объявление:
    - counter: /$page/$header/"button/add-n"
    - do: нажать на кнопку 'Разместить объявление'
    - assert: ссылка ведёт на страницу сайта 'direct.yandex.ru'
    - tech: проверить счётчик кнопки 'Разместить объявление'
    - assertMetrics: '*'
  Нажатие на кнопку разместить объявление на малых разрешениях:
    - do: изменить ширину окна браузера до 950px
    - assert: кнопка "Разместить объявление" пропала
    - do: увеличить ширину экрана браузера до 1200px
    - assert: кнопка "Разместить объявление" появилась

specs:
  beforeEach:
    - do: получить выдачу по запросу 'Пластиковые окна'
    - do: в адресной строке браузера добавить после 'search/' параметр 'direct' и нажать Enter (для планшетов /search/pad/direct)
    - assert: |
        на странице присутствуют объявления со сниппетами по заданному запросу,
        активен таб Предложения в шапке (подчеркнут)
  Внешний вид:
    - label: serp-header-ads-{{PLATFORM}}
    - screenshot: внешний вид шапки страницы объявлений [serp-header]
  Очистка строки поиска крестиком:
    - do: очистить поисковую строку, нажав крестик
    - assert: строка поиска пуста
    - assertMetrics: '*'
  Нажатие на кнопку найти и саджеста:
    - do: ввести в поисковую строку запрос 'Окна пвх'
    - do: нажать кнопку 'Найти'
    - assert: происходит ajax-перезапрос
    - assert: выдача состоит из объявлений по введённому запросу
    - assertMetrics: '*'
  Нажатие на кнопку разместить объявление:
    - counter: /direct_page/button/add-n
    - do: нажать на кнопку 'Разместить объявление'
    - assert: ссылка ведёт на страницу сайта 'direct.yandex.ru'
    - tech: проверить счётчик кнопки 'Разместить объявление'
    - assertMetrics: '*'
  Нажатие на кнопку разместить объявление на малых разрешениях:
    - counter: /direct_page/button/add-n
    - do: изменить ширину окна браузера до 950px
    - assert: кнопка "Разместить объявление" пропала
    - do: увеличить ширину экрана браузера до 1200px
    - assert: кнопка "Разместить объявление" появилась

files:
  - features/search-ads/search-ads_type_header@deskpad.hermione.js
  - features/search-ads/search-ads_type_header@deskpad.hermione.e2e.js

tags:
  - reviewed
  - adv_vertical
  - serp_header

v-team: Freshness

tlds:
  - ru
