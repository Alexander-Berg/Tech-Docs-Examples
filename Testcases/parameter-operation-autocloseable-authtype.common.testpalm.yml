feature: Работа параметра autocloseable и authType

specs:

    При включеном параметре autocloseable сворачивается виджет при клике на область вне виджета[manual]:
        - automation:
        - description: |
              Перед началом тестирования после открытия тестового стенда необходимо нажать кнопку "Сбросить конфиг"
              Авторизованы в мессенджере
        - do: Запустить тестовый стенд виджета
        - assert: Открыт тестовый стенд виджета
        - do: В тестовом стенде виджета выбрать сборку - Сервисы яндекса
        - assert: Была выбрана нужная сборка
        - do: Нажать на кнопку "Сбросить конфиг"
        - do: Найти параметр **autocloseable** в блоке "Параметры конструткора"
        - assert: По умолчанию чек-бокс не включен в данном параметре
        - do: Включить чек-бокс в данном параметре
        - do: Нажать на кнопку виджета
        - assert: |
              Разворачивается виджет
              В виджете загружены чаты пользователя
        - do: Сделать клик вне контейнера с виджетом
        - assert: Виджет был свернут

    При выключеном параметре autocloseable не сворачивается виджет при клике на область вне виджета[manual]:
        - automation:
        - description: |
              Перед началом тестирования после открытия тестового стенда необходимо нажать кнопку "Сбросить конфиг"
              Авторизованы в мессенджере
        - do: Запустить тестовый стенд виджета
        - assert: Открыт тестовый стенд виджета
        - do: В тестовом стенде виджета выбрать сборку - Сервисы яндекса
        - assert: Была выбрана нужная сборка
        - do: Нажать на кнопку "Сбросить конфиг"
        - do: Найти параметр **autocloseable** в блоке "Параметры конструткора"
        - assert: По умолчанию чек-бокс не включен в данном параметре
        - do: Нажать на кнопку виджета
        - assert: |
              Разворачивается виджет
              В виджете загружены чаты пользователя
        - do: Сделать клик вне контейнера с виджетом
        - assert: Виджет не сворачивается

    При значении own в параметре authType в виджете при автооризации появляется событие authRequest[manual]:
        - automation:
        - description: |
              Перед началом тестирования после открытия тестового стенда необходимо нажать кнопку "Сбросить конфиг"
              Не авторизованы в мессенджере
        - do: Запустить тестовый стенд виджета
        - assert: Открыт тестовый стенд виджета
        - do: В тестовом стенде виджета выбрать сборку - Сервисы яндекса
        - assert: Была выбрана нужная сборка
        - do: Нажать на кнопку "Сбросить конфиг"
        - do: Найти параметр **authType** в блоке "Параметры конструткора"
        - assert: По умолчанию в данном параметре выбрано значение **none**
        - do: Изменить значение параметра **authType** на **own** и нажать на кнопку виджета
        - assert: |
              Разворачивается виджет
              Есть кнопка "Войти в аккаунт"
        - do: Нажать на кнопку "Войти в аккаунт"
        - assert: |
              Ничего не происходит
              В блоке **События** появилось событие **type:"authRequest"**

    При значении none в параметре authType в виджете при автооризации открывается АМ[manual]:
        - automation:
        - description: |
              Перед началом тестирования после открытия тестового стенда необходимо нажать кнопку "Сбросить конфиг"
              Не авторизованы в мессенджере
        - do: Запустить тестовый стенд виджета
        - assert: Открыт тестовый стенд виджета
        - do: В тестовом стенде виджета выбрать сборку - Сервисы яндекса
        - assert: Была выбрана нужная сборка
        - do: Нажать на кнопку "Сбросить конфиг"
        - do: Найти параметр **authType** в блоке "Параметры конструткора"
        - assert: По умолчанию в данном параметре выбрано значение **none**
        - do: Нажать на кнопку виджета
        - assert: |
              Разворачивается виджет
              Есть кнопка "Войти в аккаунт"
        - do: Нажать на кнопку "Войти в аккаунт"
        - assert: Осуществляется переход в новой вкладдке в паспорт
        - do: Авторизоваться в паспорте
        - assert: |
              Возвращаемся на вкладку с виджетом
              Авторизованы в мессенджере, чаты корректно загрузились

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
    - chamb

