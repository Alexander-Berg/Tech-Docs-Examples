feature: Контекстное меню в результатах глобального поиска

specs:

    В результатах поиска из секции "Люди и чаты" нельзя вызвать контекстное меню[manual]:
        - automation: MSSNGRFRONT-5934
        - description: У авторизованного пользователя в списке чатов есть приватный / групповой чат / канал
        - do: Открыть список чатов
        - assert: Открывается окно списка чатов
        - do: В поле поиска в шапке списка чатов ввести название чата из description
        - assert: В результатах поиска в секции "Люди и чаты" есть чат из description
        - do: Кликнуть по чату и вызвать контекстное меню / Нажать лонгтапом по чату из description
        - assert: Контекстное меню для этого чата НЕ вызывается

    В результатах поиска из секции "Сообщения" можно вызвать контекстное меню[manual]:
        - tags: [advanced_smoke]
        - automation: MSSNGRFRONT-5934
        - description: |
              У авторизованного пользователя в списке чатов есть приватный / групповой чат
              В истории чата есть сообщение "Привет"
        - do: Открыть список чатов
        - assert: Открывается окно списка чатов
        - do: В поле поиска в шапке списка чатов ввести "Привет"
        - assert: В результатах поиска в секции "Сообщения" есть чат из description
        - do: Кликнуть ПКМ / Нажать лонгтапом по чату из description
        - assert: Появляется контекстное меню для этого чата

    В результатах поиска из секции "Сообщения" можно закрыть контекстное меню нажав в любую область вне меню[manual]:
        - automation: MSSNGRFRONT-5934
        - description: |
              У авторизованного пользователя в списке чатов есть приватный / групповой чат
              В истории чата есть сообщение "Привет"
        - do: Открыть список чатов
        - assert: Открывается окно списка чатов
        - do: В поле поиска в шапке списка чатов ввести "Привет"
        - assert: В результатах поиска в секции "Сообщения" есть чат из description
        - do: Кликнуть ПКМ / Нажать лонгтапом по чату из description
        - assert: Появляется контекстное меню для этого чата
        - do: Кликнуть ЛКМ на область вне меню / тапнуть на область вне меню
        - assert: Контекстное меню закрыто

    В результатах поиска из секции "Сообщения" можно закрыть контекстное меню нажав на кнопку "ESC"[manual]:
        - automation: MSSNGRFRONT-5934
        - description: |
              У авторизованного пользователя в списке чатов есть приватный / групповой чат
              В истории чата есть сообщение "Привет"
              Данный тест-кейс является неактуальным
        - do: Открыть список чатов
        - assert: Открывается окно списка чатов
        - do: В поле поиска в шапке списка чатов ввести "Привет"
        - assert: В результатах поиска в секции "Сообщения" есть чат из description
        - do: Кликнуть ПКМ / Нажать лонгтапом по чату из description
        - assert: Появляется контекстное меню для этого чата
        - do: Нажать на кнопку "ESC" на клавиатуре
        - assert: |
              Контекстное меню закрыто
              Отображаются результаты поиска

#     В результатах поиска из секции "Сообщения" можно скрыть приватный чат[manual]:
#         - automation: MSSNGRFRONT-5934
#         - description: |
#               У авторизованного А пользователя в списке чатов есть приватный чат с пользователем Б
#               В истории этого чата есть сообщение "Привет"
#         - do: Пользователем А открыть список чатов
#         - assert: Открывается окно списка чатов
#         - do: В поле поиска в шапке списка чатов ввести "Привет"
#         - assert: В результатах поиска в секции "Сообщения" есть приватный чат с пользователем Б
#         - do: Вызвать контекстное меню для чата из description
#         - assert: Показывается контекстное меню этого чата
#         - do: Выбрать "Скрыть чат"
#         - assert: Появляется попап информирующий пользователя с кнопками "Отмена" и "Скрыть чат"
#         - do: Нажать “Скрыть чат” в попапе
#         - assert: |
#               Попап пропадает
#               Скрываемый чат отображается в результатах поиска
#         - do: Закрыть режим поиска нажав на крестик в поле ввода поиска
#         - assert: |
#               Режим поиска закрыт
#               Скрываемый чат не отображается в списке чатов

    В результатах поиска из секции "Сообщения" можно выйти из публичного группового чата[manual]:
        - automation: MSSNGRFRONT-5934
        - description: |
              У авторизованного пользователя в списке чатов есть групповой чат
              В групповом чате включена Публичная ссылка
              В истории этого чата есть сообщение "Привет"
        - do: Открыть список чатов
        - assert: Открывается окно списка чатов
        - do: В поле поиска в шапке списка чатов ввести "Привет"
        - assert: В результатах поиска в секции "Сообщения" есть чата из description
        - do: Вызвать контекстное меню для чата из description
        - assert: Показывается контекстное меню этого чата
        - do: Выбрать "Покинуть чат"
        - assert: Появляется попап информирующий пользователя с кнопками "Отмена" и "Ок"
        - do: Нажать “Ок” в попапе
        - assert: |
              Попап пропадает
              Чат отображается в результатах поиска
        - do: Закрыть режим поиска нажав на крестик в поле ввода поиска
        - assert: |
              Режим поиска закрыт
              Чат из description не отображается в списке чатов

    В результатах поиска из секции "Сообщения" можно выйти из не публичного группового чата[manual]:
        - automation: MSSNGRFRONT-5934
        - description: |
              У авторизованного пользователя в списке чатов есть групповой чат
              В групповом чате выключена Публичная ссылка
              В истории этого чата есть сообщение "Привет"
        - do: Открыть список чатов
        - assert: Открывается окно списка чатов
        - do: В поле поиска в шапке списка чатов ввести "Привет"
        - assert: В результатах поиска в секции "Сообщения" есть чата из description
        - do: Вызвать контекстное меню для чата из description
        - assert: Показывается контекстное меню этого чата
        - do: Выбрать "Покинуть чат"
        - assert: Появляется попап информирующий пользователя с кнопками "Отмена" и "Ок"
        - do: Нажать “Ок” в попапе
        - assert: |
              Попап пропадает
              Чат пропадает из результатов поиска
        - do: Закрыть режим поиска нажав на крестик в поле ввода поиска
        - assert: |
              Режим поиска закрыт
              Чат из description не отображается в списке чатов

#     В результатах поиска из секции "Сообщения" можно скрыть чат с бизнесом[manual]:
#         - automation: MSSNGRFRONT-5934
#         - description: |
#               У авторизованного пользователя в списке чатов есть чат с бизнесом
#               В истории этого чата есть сообщение "Привет"
#         - do: Открыть список чатов
#         - assert: Открывается окно списка чатов
#         - do: В поле поиска в шапке списка чатов ввести "Привет"
#         - assert: В результатах поиска в секции "Сообщения" есть приватный чат из description
#         - do: Вызвать контекстное меню для чата из description
#         - assert: Показывается контекстное меню этого чата
#         - do: Выбрать "Скрыть чат"
#         - assert: Появляется попап информирующий пользователя с кнопками "Отмена" и "Скрыть чат"
#         - do: Нажать “Скрыть чат” в попапе
#         - assert: |
#               Попап пропадает
#               Скрываемый чат отображается в результатах поиска
#         - do: Закрыть режим поиска нажав на крестик в поле ввода поиска
#         - assert: |
#               Режим поиска закрыт
#               Скрываемый чат не отображается в списке чатов

    В результатах поиска из секции "Сообщения" можно отписаться от канала[manual]:
        - automation: MSSNGRFRONT-5934
        - description: |
              У авторизованного пользователя в списке чатов есть канал
              В истории канала есть сообщение "Привет"
        - do: Открыть список чатов
        - assert: Открывается окно списка чатов
        - do: В поле поиска в шапке списка чатов ввести "Привет"
        - assert: В результатах поиска в секции "Сообщения" есть канал из description
        - do: Вызвать контекстное меню для канала из description
        - assert: Показывается контекстное канала этого чата
        - do: Выбрать "Отписаться"
        - assert: Появляется попап информирующий пользователя с кнопками "Отмена" и "Ок"
        - do: Нажать “Ок” в попапе
        - assert: |
              Попап пропадает
              Канал отображается в результатах поиска
        - do: Закрыть режим поиска нажав на крестик в поле ввода поиска
        - assert: |
              Режим поиска закрыт
              Канал из description не отображается в списке чатов

    В результатах поиска из секции "Сообщения" можно пожаловаться на приватный чат[manual]:
        - automation: MSSNGRFRONT-5934
        - description: |
              У авторизованного пользователя в списке чатов есть приватный чат
              В истории чата есть сообщение "Привет"
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: В поле поиска в шапке списка чатов ввести "Привет"
        - assert: В результатах поиска в секции "Сообщения" есть приватный чат с пользователем Б
        - do: Вызвать контекстное меню для чата из description
        - assert: Показывается контекстное меню этого чата
        - do: Нажать на "Пожаловаться"
        - assert: Появляетсяс попап с причинами для жалобы "Спам" и "Неуместный материал"
        - do: Нажать "Спам"
        - assert: |
              Попап закрылся
              Появился временный тост "Жалоба принята"
        - do: Вызвать контекстное меню для чата из description
        - assert: Показывается контекстное меню этого чата
        - do: Нажать на "Пожаловаться"
        - assert: Появляетсяс попап с причинами для жалобы "Спам" и "Неуместный материал"
        - do: Нажать "Неуместный материал"
        - assert: |
              Попап закрылся
              Появился временный тост "Жалоба принята"

    В результатах поиска из секции "Сообщения" можно пожаловаться на групповой чат[manual]:
        - automation: MSSNGRFRONT-5934
        - description: |
              У авторизованного пользователя в списке чатов есть групповой чат
              В истории чата есть сообщение "Привет"
        - do: Открыть список чатов
        - assert: Открывается окно списка чатов
        - do: В поле поиска в шапке списка чатов ввести "Привет"
        - assert: В результатах поиска в секции "Сообщение" есть чата из description
        - do: Вызвать контекстное меню для чата из description
        - assert: Показывается контекстное меню этого чата
        - do: Нажать на "Пожаловаться"
        - assert: Появляетсяс попап с причинами для жалобы "Спам" и "Неуместный материал"
        - do: Нажать "Спам"
        - assert: |
              Попап закрылся
              Появился временный тост "Жалоба принята"
        - do: Вызвать контекстное меню для чата из description
        - assert: Показывается контекстное меню этого чата
        - do: Нажать на "Пожаловаться"
        - assert: Появляетсяс попап с причинами для жалобы "Спам" и "Неуместный материал"
        - do: Нажать "Неуместный материал"
        - assert: |
              Попап закрылся
              Появился временный тост "Жалоба принята"

    В результатах поиска из секции "Сообщения" можно пожаловаться на канал[manual]:
        - automation: MSSNGRFRONT-5934
        - description: |
              У авторизованного пользователя в списке чатов есть канал
              В истории канала есть сообщение "Привет"
        - do: Открыть список чатов
        - assert: Открывается окно списка чатов
        - do: В поле поиска в шапке списка чатов ввести "Привет"
        - assert: В результатах поиска в секции "Сообщение" есть канал из description
        - do: Вызвать контекстное меню для канала из description
        - assert: Показывается контекстное меню этого канала
        - do: Нажать на "Пожаловаться"
        - assert: Появляетсяс попап с причинами для жалобы "Спам" и "Неуместный материал"
        - do: Нажать "Спам"
        - assert: |
              Попап закрылся
              Появился временный тост "Жалоба принята"
        - do: Вызвать контекстное меню для канала из description
        - assert: Показывается контекстное меню этого канала
        - do: Нажать на "Пожаловаться"
        - assert: Появляетсяс попап с причинами для жалобы "Спам" и "Неуместный материал"
        - do: Нажать "Неуместный материал"
        - assert: |
              Попап закрылся
              Появился временный тост "Жалоба принята"

    В результатах поиска из секции "Сообщения" можно совершить аудиовызов[manual]:
        - automation: MSSNGRFRONT-5934
        - description: |
              У авторизованного пользователя А в списке чатов есть приватный чат с пользователем Б
              Тест-кейс неактуален для Safari, IE 11, Edge
              Тест-кейс неактуален для мобильных браузеров
              В истории чата есть сообщение "Привет"
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: В поле поиска в шапке списка чатов ввести "Привет"
        - assert: В результатах поиска в секции "Сообщения" есть приватный чат с пользователем Б
        - do: Вызвать контекстное меню для чата из description
        - assert: Показывается контекстное меню этого чата
        - do: Выбрать "Звонок"
        - assert: Осуществляется исходящий аудиозвонок пользователю Б

    В результатах поиска из секции "Сообщения" можно совершить видеовызов[manual]:
        - automation: MSSNGRFRONT-5934
        - description: |
              У авторизованного пользователя А в списке чатов есть приватный чат с пользователем Б
              Тест-кейс неактуален для Safari, IE 11, Edge
              Тест-кейс неактуален для мобильных браузеров
              В истории чата есть сообщение "Привет"
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: В поле поиска в шапке списка чатов ввести "Привет"
        - assert: В результатах поиска в секции "Сообщения" есть приватный чат с пользователем Б
        - do: Вызвать контекстное меню для чата из description
        - assert: Показывается контекстное меню этого чата
        - do: Выбрать "Видеозвонок"
        - assert: Осуществляется исходящий видеозвонок пользователю Б

    В результатах поиска из секции "Сообщения" можно открыть карточку пользователя[manual]:
        - automation: MSSNGRFRONT-5934
        - description: |
              У авторизованного пользователя А в списке чатов есть приватный чат с пользователем Б
              В истории чата есть сообщение "Привет"
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: В поле поиска в шапке списка чатов ввести "Привет"
        - assert: В результатах поиска в секции "Сообщения" есть приватный чат с пользователем Б
        - do: Вызвать контекстное меню для чата из description
        - assert: Показывается контекстное меню этого чата
        - do: Нажать на "Информация о чате"
        - assert: Открыввается карточка пользователя

    В результатах поиска из секции "Сообщения" можно карточаку группового чата[manual]:
        - automation: MSSNGRFRONT-5934
        - description: |
              У авторизованного пользователя в списке чатов есть групповой чат
              В истории чата есть сообщение "Привет"
        - do: Открыть список чатов
        - assert: Открывается окно списка чатов
        - do: В поле поиска в шапке списка чатов ввести "Привет"
        - assert: В результатах поиска в секции "Сообщения" есть чат из description
        - do: Вызвать контекстное меню для чата из description
        - assert: Показывается контекстное меню этого чата
        - do: Нажать на "Информация о чате"
        - assert: Открыввается карточка чата

    В результатах поиска из секции "Сообщения" можно карточаку канала[manual]:
        - automation: MSSNGRFRONT-5934
        - description: |
              У авторизованного пользователя в списке чатов есть канал
              В истории канала есть сообщение "Привет"
        - do: Открыть список чатов
        - assert: Открывается окно списка чатов
        - do: В поле поиска в шапке списка чатов ввести "Привет"
        - assert: В результатах поиска в секции "Сообщения" есть канал из description
        - do: Вызвать контекстное меню для канала из description
        - assert: Показывается контекстное меню этого канала
        - do: Нажать на "Информация о чате"
        - assert: Открыввается карточка канала

    В результатах поиска из секции "Сообщения" можно заблокировать / разблокировать пользователя[manual]:
        - automation: MSSNGRFRONT-5934
        - description: |
              У авторизованного А пользователя в списке чатов есть приватный чат с пользователем Б
              В истории чата есть сообщение "Привет"
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: В поле поиска в шапке списка чатов ввести "Привет"
        - assert: В результатах поиска в секции "Сообщения" есть приватный чат с пользователем Б
        - do: Вызвать контекстное меню для чата из description
        - assert: Показывается контекстное меню этого чата
        - do: Выбрать "Заблокировать и скрыть"
        - assert: Появляется попап с кнопками "Отмена" и "Ок"
        - do: Нажать "Ок"
        - assert: Пользолватель Б был заблокирован
        - do: Вызвать контекстное меню для чата из description
        - assert: Показывается контекстное меню этого чата
        - do: Выбрать "Разблокировать"
        - assert: Пользователь Б разблокирован

    В результатах поиска из секции "Сообщения" можно отключить / включить уведомления в чате[manual]:
        - automation: MSSNGRFRONT-5934
        - description: |
              У авторизованного пользователя в списке чатов есть приватный / групповой чат
              В чатах включены уведолмения
              В истории чата есть сообщение "Привет"
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: В поле поиска в шапке списка чатов ввести "Привет"
        - assert: В результатах поиска в секции "Сообщения" есть чат из description
        - do: Кликнуть ПКМ / Нажать лонгтапом по чату из description
        - assert: Появляется контекстное меню для этого чата
        - do: Нажать на "Отключить уведолмения"
        - assert: |
              Уведолмения отключены
              Временно появился тост "Уведомления отключены"
        - do: Кликнуть ПКМ / Нажать лонгтапом по чату из description
        - assert: Появляется контекстное меню для этого чата
        - do: Нажать на "Включтить уведолмения"
        - assert: |
              Уведолмения включены
              Временно появился тост "Уведомления включены"

    В результатах поиска из секции "Сообщения" можно открепить / закрепить приватный чат[manual]:
        - automation: MSSNGRFRONT-5934
        - description: |
              У авторизованного А пользователя в списке чатов есть приватный чат с пользователем Б
              Приватный чат с пользователем Б не закреплен
              В истории чата есть сообщение "Привет"
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: В поле поиска в шапке списка чатов ввести "Привет"
        - assert: В результатах поиска в секции "Сообщения" есть приватный чат с пользователем Б
        - do: Вызвать контекстное меню для чата из description
        - assert: Появляется контекстное меню для этого чата
        - do: Выбрать "Закрепить чат"
        - assert: |
              Чат был закреплен
              В результатах поиска чат не изменил свое положение
        - do: Закрыть режим поиска нажав на крестик в поле ввода поиска
        - assert: |
              Режим поиска закрыт
              Чат находится вверху и отделяется от других не закрепленных чатов разделительной линией
        - do: В поле поиска в шапке списка чатов ввести "Привет"
        - assert: В результатах поиска в секции "Сообщения" есть приватный чат с пользователем Б
        - do: Вызвать контекстное меню для чата из description
        - assert: Появляется контекстное меню для этого чата
        - do: Выбрать "Открепить чат"
        - assert: |
              Чат был откреплен
              В результатах поиска чат не изменил свое положение
        - do: Закрыть режим поиска нажав на крестик в поле ввода поиска
        - assert: |
              Режим поиска закрыт
              Чат откреплен и помещается в истории в зависимости от того, какое последнее сообщение было в нем

    В результатах поиска из секции "Сообщения" можно открепить / закрепить групповой чат[manual]:
        - automation: MSSNGRFRONT-5934
        - description: |
              У авторизованного пользователя в списке чатов есть групповой чат
              Данный чат не закреплен
              В истории чата есть сообщение "Привет"
        - do: Открыть список чатов
        - assert: Открывается окно списка чатов
        - do: В поле поиска в шапке списка чатов ввести "Привет"
        - assert: В результатах поиска в секции "Сообщения" есть чат из description
        - do: Вызвать контекстное меню для чата из description
        - assert: Появляется контекстное меню для этого чата
        - do: Выбрать "Закрепить чат"
        - assert: |
              Чат был закреплен
              В результатах поиска чат не изменил свое положение
        - do: Закрыть режим поиска нажав на крестик в поле ввода поиска
        - assert: |
              Режим поиска закрыт
              Чат находится вверху и отделяется от других не закрепленных чатов разделительной линией
        - do: В поле поиска в шапке списка чатов ввести название "Привет"
        - assert: В результатах поиска в секции "Сообщения" есть чат из description
        - do: Вызвать контекстное меню для чата из description
        - assert: Появляется контекстное меню для этого чата
        - do: Выбрать "Открепить чат"
        - assert: |
              Чат был откреплен
              В результатах поиска чат не изменил свое положение
        - do: Закрыть режим поиска нажав на крестик в поле ввода поиска
        - assert: |
              Режим поиска закрыт
              Чат откреплен и помещается в истории в зависимости от того, какое последнее сообщение было в нем


    В результатах поиска из секции "Сообщения" можно открепить / закрепить канал[manual]:
        - automation: MSSNGRFRONT-5934
        - description: |
              У авторизованного пользователя в списке чатов есть канал
              Данный канал не закреплен
              В истории канала есть сообещние "Привет"
        - do: Открыть список чатов
        - assert: Открывается окно списка чатов
        - do: В поле поиска в шапке списка чатов ввести "Привет"
        - assert: В результатах поиска в секции "Сообщения" есть канал из description
        - do: Вызвать контекстное меню для канала из description
        - assert: Появляется контекстное меню для этого канала
        - do: Выбрать "Закрепить чат"
        - assert: |
              Канал был закреплен
              В результатах поиска канал не изменил свое положение
        - do: Закрыть режим поиска нажав на крестик в поле ввода поиска
        - assert: |
              Режим поиска закрыт
              Канал находится вверху и отделяется от других не закрепленных чатов разделительной линией
        - do: В поле поиска в шапке списка чатов ввести "Привет"
        - assert: В результатах поиска в секции "Сообщения" есть канал из description
        - do: Вызвать контекстное меню для канала из description
        - assert: Появляется контекстное меню для этого канала
        - do: Выбрать "Открепить чат"
        - assert: |
              Канал был откреплен
              В результатах поиска канал не изменил свое положение
        - do: Закрыть режим поиска нажав на крестик в поле ввода поиска
        - assert: |
              Режим поиска закрыт
              Канал откреплен и помещается в истории в зависимости от того, какое последнее сообщение было в нем

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
