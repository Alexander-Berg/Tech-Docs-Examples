feature: Общие моменты авторизации

specs:

    Авторизация через кнопку "Войдите в аккаунт" на списке чатов[manual]:
        - tags: [advanced_smoke, b2b]
        - automation: MSSNGRFRONT-5926
        - description: Не автороизованы в паспорте
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: |
              Открывается мессенджер
              В верху списка чатов есть баннер с кнопкой "Войти в аккунт"
        - do: Нажать на кнопку "Войти в аккаунт"
        - assert: В новой вкладке открывается паспорт
        - do: Ввести корректный логин и пароль и нажать кнопку "Войти"
        - assert: |
              Вкладка с паспортом закрывается
              Осуществляетяс переход в ранее открытую вкладку месссенджера
              Загрузились чаты аккаунта, которым Вы были авторизованы
              Баннер с кнопкой "Войти в аккаунт" пропал со списка чатов

    Авторизация через паспорт[manual]:
        - automation: MSSNGRFRONT-5926
        - description: Не автороизованы в паспорте
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: |
              Открывается мессенджер
              В верху списка чатов есть баннер с кнопкой "Войти в аккунт"
        - do: Открыть в новой вкладке сайт https://passport.yandex.ru/ и авторизоваться
        - assert: Авторизация прошла успешно
        - do: Открыть вкладку с мессенджером и обвноить страницу браузера
        - assert: |
              Загрузились чаты аккаунта, которым Вы были авторизованы
              Баннер с кнопкой "Войти в аккаунт" пропал со списка чатов

    Авторизация через кнопку создания чата[manual]:
        - automation: MSSNGRFRONT-5926
        - description: Не автороизованы в паспорте
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: |
              Открывается мессенджер
              В верху списка чатов есть баннер с кнопкой "Войти в аккунт"
              В шапке спискаа чатов есть кнопка создания чата
        - do: Нажать на кнопку "Создать чат"
        - assert: Появляется попап с кнопками "Отмена" и "Авторизоваться"
        - do: Нажать на кнопку "Отмена"
        - assert: Попап закрылся
        - do: Нажать на кнопку "Создать чат"
        - assert: Появляется попап с кнопками "Отмена" и "Авторизоваться"
        - do: Нажать на кнопку "Авторизоватья"
        - assert: В новой вкладке открывается паспорт
        - do: Ввести корректный логин и пароль и нажать кнопку "Войти"
        - assert: |
              Вкладка с паспортом закрывается
              Осуществляетяс переход в ранее открытую вкладку месссенджера
              Загрузились чаты аккаунта, которым Вы были авторизованы
              Баннер с кнопкой "Войти в аккаунт" пропал со списка чатов

#     Авторизация через "плюсик"[manual]:
#         - automation: MSSNGRFRONT-5926
#         - description: Не автороизованы в паспорте
#         - do: Запустить тестовое приложениие и октрыть список чатов
#         - assert: |
#               Открывается мессенджер
#               В верху списка чатов есть баннер с кнопкой "Войти в аккунт"
#               В шапке спискаа чатов есть кнопка создания чата
#         - do: Перейти к блоку "Популярных каналов" и нажать на "Плюск" на один из каналов
#         - assert: В новой вкладке открывается паспорт
#         - do: Ввести корректный логин и пароль и нажать кнопку "Войти"
#         - assert: |
#               Вкладка с паспортом закрывается
#               Осуществляетяс переход в ранее открытую вкладку месссенджера
#               Открылось окно канала, на который осуществилась автоматическая подписка
#         - do: Проверить, что все чаты данного аккаунта были загружены
#         - assert: Все чаты были корректно загружены
# 
#     Авторизация через кнопку "Войдите, чтобы подпсаться"[manual]:
#         - automation: MSSNGRFRONT-5926
#         - description: Не автороизованы в паспорте
#         - do: Запустить тестовое приложениие и октрыть список чатов
#         - assert: |
#               Открывается мессенджер
#               В верху списка чатов есть баннер с кнопкой "Войти в аккунт"
#               В шапке спискаа чатов есть кнопка создания чата
#         - do: Перейти к блоку "Популярных каналов" и открыть один из каналов
#         - assert: |
#               Открылось окно канала
#               Вместо поля ввода есть кнопка "Войти, чтобы подписаться"
#         - do: Нажать на кнопку ""Войти, чтобы подписаться""
#         - assert: В новой вкладке открывается паспорт
#         - do: Ввести корректный логин и пароль и нажать кнопку "Войти"
#         - assert: |
#               Вкладка с паспортом закрывается
#               Осуществляетяс переход в ранее открытую вкладку месссенджера
#               Открылось окно канала, на который осуществилась автоматическая подписка
#         - do: Проверить, что все чаты данного аккаунта были загружены
#         - assert: Все чаты были корректно загружены
# 
#     Авторизация через выставление реакции[manual]:
#         - automation: MSSNGRFRONT-5926
#         - description: Не автороизованы в паспорте
#         - do: Запустить тестовое приложениие и октрыть список чатов
#         - assert: |
#               Открывается мессенджер
#               В верху списка чатов есть баннер с кнопкой "Войти в аккунт"
#               В шапке спискаа чатов есть кнопка создания чата
#         - do: Перейти к блоку "Популярных каналов" и открыть один из каналов
#         - assert: |
#               Открылось окно канала
#               Вместо поля ввода есть кнопка "Войти, чтобы подписаться"
#         - do: Выставить реаакцию любому посту
#         - assert: Появляется попап с кнопками "Отмена" и "Авторизоваться"
#         - do: Нажать на кнопку "Отмена"
#         - assert: |
#               Попап закрылся
#               Реакция не выставлена
#         - do: Выставить реаакцию любому посту
#         - assert: Появляется попап с кнопками "Отмена" и "Авторизоваться"
#         - do: Нажать на кнопку "Авторизоватья"
#         - assert: В новой вкладке открывается паспорт
#         - do: Ввести корректный логин и пароль и нажать кнопку "Войти"
#         - assert: |
#               Вкладка с паспортом закрывается
#               Осуществляетяс переход в ранее открытую вкладку месссенджера
#               Открылось окно канала
#               Есть кнопка "Подписаться на канал"
#               Реакция была не высталвена
#         - do: Проверить, что все чаты данного аккаунта были загружены
#         - assert: Все чаты были корректно загружены

#         - do: Проверить, что все чаты данного аккаунта были загружены
#         - assert: Все чаты были корректно загружены
# 
#     Авторизация через кнопку "Переслать"[manual]:
#         - automation: MSSNGRFRONT-5926
#         - description: Не автороизованы в паспорте
#         - do: Запустить тестовое приложениие и октрыть список чатов
#         - assert: |
#               Открывается мессенджер
#               В верху списка чатов есть баннер с кнопкой "Войти в аккунт"
#               В шапке спискаа чатов есть кнопка создания чата
#         - do: Перейти к блоку "Популярных каналов" и открыть один из каналов
#         - assert: |
#               Открылось окно канала
#               Вместо поля ввода есть кнопка "Войти, чтобы подписаться"
#         - do: Нажать на кнопку "Переслать" (самолетик)
#         - assert: Появляется попап с кнопками "Отмена" и "Авторизоваться"
#         - do: Нажать на кнопку "Отмена"
#         - assert: Попап закрылся
#         - do: Нажать на кнопку "Переслать" (самолетик)
#         - assert: Появляется попап с кнопками "Отмена" и "Авторизоваться"
#         - do: Нажать на кнопку "Авторизоватья"
#         - assert: В новой вкладке открывается паспорт
#         - do: Ввести корректный логин и пароль и нажать кнопку "Войти"
#         - assert: |
#               Вкладка с паспортом закрывается
#               Осуществляетяс переход в ранее открытую вкладку месссенджера
#               Открылось окно канала
#               Есть кнопка "Подписаться на канал"
#         - do: Проверить, что все чаты данного аккаунта были загружены
#         - assert: Все чаты были корректно загружены

    Пользователя не вылогинивает после авторизации и последующего холодного старта[manual]:
        - automation: MSSNGRFRONT-5926
        - description: Не автороизованы в паспорте
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: |
              Открывается мессенджер
              В верху списка чатов есть баннер с кнопкой "Войти в аккунт"
        - do: Нажать на кнопку "Войти в аккаунт"
        - assert: В новой вкладке открывается паспорт
        - do: Ввести корректный логин и пароль и нажать кнопку "Войти"
        - assert: |
              Вкладка с паспортом закрывается
              Осуществляетяс переход в ранее открытую вкладку месссенджера
              Загрузились чаты аккаунта, которым Вы были авторизованы
              Баннер с кнопкой "Войти в аккаунт" пропал со списка чатов
        - do: Обновить сстраницу браузера, где открыть мессенджер
        - assert: |
              Страница браузера обновлена
              Авторизация не слетела
              Все чаты пользователя корректно загрузились

    Перелогин в мессенджере[manual]:
        - tags: [advanced_smoke]
        - automation: MSSNGRFRONT-5926
        - description: Не автороизованы в паспорте
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: |
              Открывается мессенджер
              В верху списка чатов есть баннер с кнопкой "Войти в аккунт"
        - do: Нажать на кнопку "Войти в аккаунт"
        - assert: В новой вкладке открывается паспорт
        - do: Ввести корректный логин и пароль пользователя А и нажать кнопку "Войти"
        - assert: |
              Вкладка с паспортом закрывается
              Осуществляетяс переход в ранее открытую вкладку месссенджера
              Загрузились чаты аккаунта, которым Вы были авторизованы
              Баннер с кнопкой "Войти в аккаунт" пропал со списка чатов
        - do: Перейи в настройки и выйти из аккаунта
        - assert: Открылась главная страница Яндекса
        - do: Вернуться в мессенджер
        - assert: |
              Открывается мессенджер
              В верху списка чатов есть баннер с кнопкой "Войти в аккунт"
        - do: Нажать на кнопку "Войти в аккаунт"
        - assert: В новой вкладке открывается паспорт
        - do: Ввести корректный логин и пароль пользователя Б и нажать кнопку "Войти"
        - assert: |
              Вкладка с паспортом закрывается
              Осуществляетяс переход в ранее открытую вкладку месссенджера
              Загрузились чаты аккаунта, которым Вы были авторизованы
              Баннер с кнопкой "Войти в аккаунт" пропал со списка чатов
 
    Авторизация на чистом девайсе с помощью SSO аккаунта[manual]:
        - automation:
        - description: |
              Не автороизованы в паспорте
              Логин для авторизации win-sso-regress6@sso-adfs-test-domain.com 
              Пароль - testiwan
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: |
              Открывается мессенджер
              В верху списка чатов есть баннер с кнопкой "войти в аккунт"
        - do: Нажать на кнопку "Войти в аккаунт"
        - assert: В новой вкладке открывается паспорт
        - do: Ввести логин из Description, нажать "войти"
        - assert: Открывается страница sso-adfs-test login, с полями ввода логина и пароля
        - do: Ввести логин и пароль из Description, нажать вход
        - assert: |
              Страница sso-adfs-test login закрывается
              Открывается тестовое приложение
              Авторизованы аккаунтом из Description    

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
