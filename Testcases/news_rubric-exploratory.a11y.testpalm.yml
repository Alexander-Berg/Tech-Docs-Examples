feature: Колдунщик новостей
type: Доступность

browsers: 
  - chrome-desktop

specs:
  Рубричный с видеокаруселью [manual]:
    - params:
        foreverdata: '3467651562'
    - automation: SERP-114010
    - do: получить выдачу по запросу 'foreverdata'
    - assert: на выдаче в правой колонке присутствует колдунщик новостей с видеокаруселью
    - do: включить скринридер
    - do: c помощью клавиши tab перейти к заголовку колдунщика новостей
    - assert: ридер зачитывает 'Новости США ссылка'
    - do: нажать tab
    - assert: |
        фокус сместился на гринурл
        ридер зачитывает 'Яндекс.Новости ссылка'
    - do: нажать tab
    - assert: |
        фокус сместился на первое видео в карусели
        ридер зачитывает 'список из 5 элементов Видео ВВС США показали воздушную дозаправку своих истребителей ссылка'
    - do: нажать tab
    - assert: |
        фокус сместился на метку свежести видео
        ридер зачитывает 'Опубликовано 11:29 вчера ссылка'
    - do: пронавигировать клавишей tab по остальным видео в карусели
    - assert: |
        для каждого видео ридер зачитывает:
        при первом нажатии tab для видео в карусели - видео + название + ссылка
        при следующем нажатии tab для видео в карусели - опубликовано + дата + ссылка
    - do: нажать tab
    - assert: |
        фокус сместился на картинку новости
        ридер зачитывает 'Истребитель F-35B разбился после столкновения с самолетом-заправщиком ссылка'
    - do: нажать tab
    - assert: |
        фокус сместился на текст заголовка новости
        ридер зачитывает 'Истребитель F-35B разбился после столкновения с самолетом-заправщиком Опубликовано 2 часа назад ссылка'
    - do: пронавигировать клавишей tab по остальным новостным сниппетам в колдунщике
    - assert: |
        фокус смещается на выбранный элемент
        для картинки ридер зачитывает 'текст новости + ссылка'
        для заголовка новостного сниппета ридер зачитывает 'текст заголовка новости + опубликовано + дата + ссылка' 
    - do: нажать tab
    - assert: ридер зачитывает 'Читать все новости ссылка'
  Рубричный с одним видео [manual]:
    - params:
        foreverdata: '1427737778'
    - automation: SERP-114010
    - do: получить выдачу по запросу 'foreverdata'
    - assert: на выдаче в правой колонке присутствует колдунщик новостей с одним видео
    - do: включить скринридер
    - do: c помощью клавиши tab перейти к заголовку колдунщика новостей
    - assert: ридер зачитывает 'Новости Китая ссылка'
    - do: нажать tab
    - assert: |
        фокус сместился на гринурл
        ридер зачитывает 'Яндекс.Новости ссылка'
    - do: нажать tab
    - assert: |
        фокус сместился на видео
        ридер зачитывает 'Александр Осипов принял участие в заседании Российско-Китайской комиссии по сотрудничеству и развитию Дальнего Востока, Байкальского региона России и Северо-Востока КНР ссылка'
    - do: нажать tab
    - assert: |
        фокус сместился на заголовок видео
        ридер зачитывает 'Александр Осипов принял участие в заседании Российско-Китайской комиссии по сотрудничеству и развитию Дальнего Востока, Байкальского региона России и Северо-Востока КНР ссылка'
    - do: нажать tab
    - assert: |
        фокус сместился на картинку новости
        ридер зачитывает 'Товарооборот регионов Дальнего Востока и Китая вырос на 8% в 2019 году ссылка'
    - do: нажать tab
    - assert: |
        фокус сместился на текст заголовка новости
        ридер зачитывает 'Товарооборот регионов Дальнего Востока и Китая вырос на 8% в 2019 году Опубликовано 21:32 вчера ссылка'
    - do: пронавигировать клавишей tab по остальным новостным сниппетам в колдунщике
    - assert: |
        фокус смещается на выбранный элемент
        для картинки ридер зачитывает 'текст новости + ссылка'
        для заголовка новостного сниппета ридер зачитывает 'текст заголовка новости + опубликовано + дата + ссылка' 
    - do: нажать tab
    - assert: ридер зачитывает 'Читать все новости ссылка'
  Рубричный без видео [manual]:
    - params:
        foreverdata: '1064366751'
    - automation: SERP-114010
    - do: получить выдачу по запросу 'foreverdata'
    - assert: на выдаче в правой колонке присутствует колдунщик новостей без видео
    - do: включить скринридер
    - do: c помощью клавиши tab перейти к заголовку колдунщика новостей
    - assert: ридер зачитывает 'Новости Казахстана ссылка'
    - do: нажать tab
    - assert: |
        фокус сместился на гринурл
        ридер зачитывает 'Яндекс.Новости ссылка'
    - do: нажать tab
    - assert: |
        фокус сместился на картинку новости
        ридер зачитывает 'На западе Казахстана возобновили работу блокпостов ссылка'
    - do: нажать tab
    - assert: |
        фокус сместился на текст заголовка новости
        ридер зачитывает 'На западе Казахстана возобновили работу блокпостов Опубликовано 3 часа назад ссылка'
    - do: пронавигировать клавишей tab по остальным новостным сниппетам в колдунщике
    - assert: |
        фокус смещается на выбранный элемент
        для картинки ридер зачитывает 'текст новости + ссылка'
        для заголовка новостного сниппета ридер зачитывает 'текст заголовка новости + опубликовано + дата + ссылка' 
    - do: нажать tab
    - assert: ридер зачитывает 'Читать все новости ссылка'

files: []

tags:
  - A11y_serp
  - no_assessors
  - skip_manual_check
  - news

v-team: Freshness

tlds:
  - ru
