feature: Шапка
type: Поисковая строка

specs:
  beforeEach:
    - do: открыть страницу поиска /search
    - screenshot: на странице присутствует поисковая строка [https://jing.yandex-team.ru/files/alenka-deni/2020-04-17_19.02.07-fd6sg.png]
  Обычный поиск [manual]:
    - automation: ISEARCH-6441
    - do: ввести поисковой запрос
    - assert: |
        при вводе текст 'Поиск по интранету' из поисковой строки исчез
        появился крестик в поисковой строке
        появился саджест
    - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/alenka-deni/2020-04-17_21.52.56-wppbp.png]
    - do: клик на кнопку 'Найти'
    - assert: |
        получен результат поиска по заданному запросу
        в поисковой строке сохранен введенный запрос
        саджест скрылся
        справа от поисковой строки присутвует сообщение 'Найдено Х ответа(ов)'
    - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/alenka-deni/2020-04-17_21.39.11-c7lu1.png]
  Редактирование текста [manual]:
    - automation: ISEARCH-6441
    - do: ввести поисковый запрос
    - do: отредактировать введенный текст переставляя курсор с помощью стрелок на клавиатуре
    - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/grikyan91/Poisk_po_Intranetu_nashlos_0_2020-05-06_12-14-47.png]
    - do: отредактировать введенный текст переставляя курсор с помощью мышки
    - do: клик кнопку 'Найти'
    - assert: |
        исправленный запрос отображается в поисковой строке
        показалась выдача с исправленным запросом
    - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/grikyan91/privet_vsem__Poisk_po_Intranetu_nashlos_1307_2020-05-06_12-17-41.png]
  Пустой запрос [manual]:
    - automation: ISEARCH-6441
    - do: оставить поисковую строку пустой
    - do: клик на кнопку 'Найти'
    - assert: |
        поисковая строка осталась пустой
        справа от поисковой строки присутвует сообщение 'Ничего не найдено'
        в урле появился параметр ?text=
        под поисковой строкой присутвует сообщение 'Задан пустой поисковый запрос'
    - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/alenka-deni/2020-04-17_21.43.06-q4am6.png]
  Удаление запроса [manual]:
    - automation: ISEARCH-6441
    - do: ввести поисковой запрос
    - assert: |
        появился крестик в поисковой строке
        открылся саджест
    - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/grikyan91/Poisk_po_Intranetu_nashlos_0_2020-05-05_18-41-12.png]
    - do: нажать на крестик
    - assert: |
        запрос удален из поисковой строки
        саджест скрылся
  Поиск с кавычками [manual]:
    - automation: ISEARCH-6441
    - do: задать длинный поисковый запрос в двойных кавычках
    - do: нажать Enter
    - assert: показалась выдача, во всех элементах которых присутствуют все слова из кавычек
    - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/grikyan91/Podgotovte_primery_zaprosov_i_provedite_testy_proizvoditelnosti__Poisk_po_Intranetu_nashlos_1_2020-05-05_18-49-50.png]
  Поиск с исключением [manual]:
    - automation: ISEARCH-6441
    - do: задать запрос и перед одноим из слов указать знак '-' 
    - do: нажать 'Найти'
    - assert: показалась выдача, во всех элементах которых присутствуют все слова, но без слова после '-'
    - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/grikyan91/podgotovte_-primery__Poisk_po_Intranetu_nashlos_247_2020-05-05_18-54-51.png]
  Ничего не найдено [manual]:
    - automation: ISEARCH-6441
    - do: ввести набор символов в поисковую строку
    - do: нажать Enter
    - screenshot: выдало сообщение 'Искомая комбинация слов нигде не встречается' [https://jing.yandex-team.ru/files/grikyan91/fhhdrthdrhed__Poisk_po_Intranetu_nashlos_0_2020-05-06_11-58-27.png]
  Проверка скрипта [manual]:
    - automation: ISEARCH-6441
    - do: ввести в поисковую строку скрипт (пример '<script>alert('Test');</script>')
    - do: нажать 'Найти'
    - assert: |
        пояивлась выдача по указанному запросу
        скрипт никак не отработал на странице

tags:
  - reviewed

priority: blocker

browsers:
  - yandex-browser-desktop
  - firefox-desktop
  - safari-desktop
