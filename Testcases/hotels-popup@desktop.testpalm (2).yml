feature: Hotels / Колдунщик одной организации
type: Стандартный вид / Отель в попапе

specs-integration:
  Основные проверки:
    beforeEach:
      - do: получить выдачу по запросу 'ялта интурист'
      - assert: показался отельный 1орг справа
      - do: кликнуть адрес в фичах
      - assert: открылся попап с отельными табами
      - do: кликнуть во вкладку "про отель"
    Клик в тумбу открывает вкладку "фото":
      - counter: /$page/$parallel/$result/@type="wizard"/@wizard_name="companies"/@subtype="travel_company"/tabs/about/gallery/scroller/row/thumb
      - do: кликнуть тумбу
      - assert: открылась вкладка "фото"
    Клик в карту открывает вкладку "на карте":
      - counter: /$page/$parallel/$result/tabs/about/gallery/scroller/row/map/thumb
      - do: кликнуть карту
      - assert: открылась вкладка "на карте"
    Клик в адрес в key-values открывает вкладку "на карте":
      - counter: /$page/$parallel/$result/tabs/about/contacts/address
      - do: кликнуть адрес в key-values
      - assert: открылась вкладка "на карте"
    Клик в тайтл формы открывает вкладку "номера":
      - counter: /$page/$parallel/$result/tabs/about/hotel_prices/title
      - do: кликнуть тайтлы формы поиска номеров
      - assert: открылась вкладка "номера"
    Сабмит формы открывает вкладку "номера":
      - counter: /$page/$parallel/$result/tabs/about/hotel_prices/hotels-form/submit
      - do: кликнуть в кнопку "Показать"
      - assert: открылась вкладка "номера"
    Клик по табику "отзывы" открывает вкладку "отзывы":
      - counter: /$page/$parallel/$result/tabs/about/reviews-loader/reviews/title
      - do: кликнуть в таб "N отзывов"
      - assert: открылся попап с отывами

specs:
  beforeEach:
    - do: получить выдачу по запросу 'Рэдиссон Славянская'
    - assert: на выдаче присутствует колдунщик отеля в правой колонке
    - do: кликнуть в ссылку "Все предложения" в разделе "Цены на номера"
    - assert: открылся попап организации на вкладке "номера" с результатами поиска
  Внешний вид заголовка:
    - tags:
        - popup
    - screenshot: пример внешнего вида тайтла попапа [popup-header]
    - assertMetrics: '-'
  Внешний вид заголовка на узком экране:
    - tags:
        - popup
        - zoom
    - do: установить ширину экрана 900px
    - screenshot: пример внешнего вида тайтла попапа [popup-header-small]
    - assertMetrics: '-'
  Нажатие на кнопку номеров в шапке:
    - tags:
        - tabs
        - button
        - submit
        - offers
        - popup
    - do: кликнуть в таб "Про отель"
    - assert: открылась вкладка "Про отель"
    - assert: в тайтле попапа присутствует кнопка "Выбрать номер"
    - tech: проверить счетчик на кнопке "Выбрать номер"
    - do: кликнуть кнопку "Выбрать номер" в верхней части попапа
    - assert: открылась вкладка "Номера" с результатами поиска
    - assertMetrics: '-'

files:
  - features/companies/hotels/hotels-popup/hotels-popup@desktop.hermione.e2e.js
  - features/companies/hotels/hotels-popup/hotels-popup@desktop.hermione.js

counter: /parallel/result/wiz/companies/travel_map/upper/tabs/list/showcase/item/popup/form/submit

tags:
  - hasE2E

v-team: KotTeam

tlds: none
