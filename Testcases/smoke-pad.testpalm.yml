feature: AppPadSmoke
type: Асессоры

specs:

  beforeEach:
    - do: повернуть устройство в ландшафтную ориентацию
  Проверка колдунщика картинок [manual]:
    - automation: SERPTEST-549
    - v-team: Images
    - priority: high
    - tags: pp_new_core
    - do: получить выдачу по запросу 'кошка'
    - assert: появился колдунщик картинок
    - do: кликнуть по тайтлу в колдунщике
    - assert: |
        осуществился переход на сервис картинок в приложении,
        показана выдача Картинок по тому же запросу
    - do: тапнуть по табу 'Поиск' под поисковой стрелкой
    - assert: вернулись обратно на выдачу по сайтам по тому же запросу
  Кнопка Еще картинки в колдунщике картинок [manual]:
    - automation: SERPTEST-549
    - v-team: Images
    - priority: high
    - tags: pp_new_core
    - do: получить выдачу по запросу 'котики'
    - assert: |
        появился колдунщик картинок,
        появилась кнопка 'Еще картинки'
    - do: клик по кнопке 'Еще картинки'
    - assert: |
        осуществился переход на сервис картинок в приложении,
        показана выдача Картинок по тому же запросу
    - do: тапнуть по табу 'Поиск' под поисковой стрелкой
    - assert: вернулись обратно на выдачу по сайтам по тому же запросу,

  Проверка колдунщика видео [manual]:
    - automation: SERPTEST-549
    - v-team: Video
    - priority: high
    - do: получить выдачу по запросу 'enemy arch видео' (альтернативные запросы 'котики видео', 'как собрать кубик рубика', 'шрек мультфильм' )
    - assert: появился видео колдунщик
    - do: кликнуть по тайтлу в колдунщике
    - assert: |
        осуществился переход на сервис Видео в приложении,
        показана выдача Видео по тому же запросу
    - do: тапнуть по табу 'Поиск' или 'Сайты' (в ПП) под поисковой стрелкой
    - assert: вернулись обратно на выдачу по сайтам по тому же запросу
    - do: кликнуть по тайтлу первого видео
    - assert: |
        осуществился переход на сервис Видео в приложении,
        открылся просмотрщик Видео с выбранным роликом
    - do: нажать на кнопку назад в нижней строке меню
    - assert: вернулись обратно на выдачу по сайтам по тому же запросу
    - do: пролистать содержимое колдунщика видео до конца
    - assert: |
        появилась кнопка 'Показать больше видео'
    - do: кликнуть на кнопку 'Показать больше видео'
    - assert: |
        осуществился переход на сервис Видео в приложении,
        показана выдача Видео по тому же запросу

  Проверка перехода просмотрщика картинок в ОО [manual]:
    - automation: SERPTEST-549
    - v-team: OO
    - do: получить выдачу по запросу 'Гай Ричи'
    - assert: на странице отображается карточка объектного ответа
    - do: кликнуть по первой картинке в объектном ответе
    - assert: открылся просмоторщик картинок ('сырой вид' просмотрщика, когда много пустого места на падах - это норм)
  Проверка аякс перезапроса в Объектном ответе [manual]:
    - automation: SERPTEST-549
    - v-team: OO
    - do: получить выдачу по запросу 'мадонна'
    - assert: отображается карточка Мадонны
    - do: кликнуть на ссылку в поле 'В браке с:' - 'Гай Ричи' (или любой другой факт со ссылкой)
    - assert: загрузилась выдача по новому запросу
  Проверка открытия альбома в Объектном ответе [manual]:
    - automation: SERPTEST-549
    - v-team: OO
    - do: получить выдачу по запросу 'битлз'
    - assert: появилась карточка объекта
    - do: кликнуть в элемент 'Abbey road' списка альбомов (если данного альбома нет, выберите другой)
    - assert: произошел перезапрос серпа, открылась карточка ОО данного альбома
    - do: кликнуть в ссылку 'The Beatles' в поле 'Исполнитель'
    - assert: произошел перезапрос серпа, открылась карточка ОО группы
  Проверка работы карусели [manual]:
    - automation: SERPTEST-549
    - v-team: OO
    - do: получить выдачу по запросу 'фильмы 2018'
    - assert: появилась карусель с фильмами
    - do: просвайпить плитки фильмов справа-налево (около 20 постеров)
    - assert: карусель прокручивается
    - do: выбрать любое значение в выпадающем меню жанров фильма
    - assert: происходит обновление списка фильмов по жанру
  Открытие карточки 1 орг в Яндекс.Картах [manual]:
    - automation: SERPTEST-549
    - v-team: VanillaGeo
    - do: получить выдачу по запросу 'кафе'
    - assert: появился колдунщик сетей/рубрик
    - do: кликнуть на название организации в списке
    - assert: открылся сайдблок с информацией по организации, таб 'главное'
  Проверка наличия опечаточника [manual]:
    - automation: SERPTEST-549
    - v-team: Freshness
    - do: получить выдачу по запросу 'малоко'
    - assert: |
        на выдаче появился опечаточник,
        в поисковой строке запрос 'малоко' исправился на 'молоко'
    - do: кликнуть по кнопке "Отменить" опечаточника
    - assert: |
        результаты поисковой выдачи обновились,
        в поисковой строке запрос исправился на 'малоко'
  Разворачивание сниппета по тапу на контрол 'Читать еще' [manual]:
    - automation: SERPTEST-549
    - v-team: Beauty
    - do: получить выдачу по запросу 'тест'
    - assert: в результатах выдачи есть хотя бы один сниппет, содержащий ссылку 'Читать еще'
    - do: тапнуть по первой ссылке 'Читать еще'
    - assert: сниппет развернулся и отображается больше информации
  Прогрузка следующих страниц [manual]:
    - automation: SERPTEST-549
    - v-team: Beauty
    - do: получить выдачу по запросу 'вызвать врача'
    - do: проскроллить выдачу до конца
    - assert: отображается кнопка 'Показать еще'
    - do: кликнуть по кнопке 'Показать еще'
    - assert: |
        загружены новые результаты поиска,
        над загруженными результатами отображается горизонтальный разделитель '2 страница'
    - do: проскроллить выдачу до конца
    - assert: отображается кнопка 'Показать еще'
    - do: кликнуть по кнопке 'Показать еще'
    - assert: |
        загружены новые результаты поиска,
        над загруженными результатами отображается горизонтальный разделитель '3 страница'
  Отсутствует кнопка 'Показать еще' при пустом запросе [manual]:
    - automation: SERPTEST-549
    - v-team: Beauty
    - do: получить выдачу по запросу '" " "' (три двойные кавычки)
    - assert: |
        присутствует надпись 'По вашему запросу ничего не нашлось',
        внизу страницы отсутствует кнопка 'Показать еще'
  Проверка органической выдачи [manual]:
    - automation: SERPTEST-549
    - v-team: Beauty
    - do: получить выдачу по запросу ' тест'
    - do: кликнуть в тайтл любого сниппета
    - assert: в новой вкладке открылся выбранный результат поиска
    - do: кликнуть в кнопку 'Х' в левом верхнем углу экрана
    - assert: |
        вкладка закрылась,
        отображаются результаты поиска
    - do: кликнуть по гринурлу в сниппете
    - assert: в новой вкладке открылся выбранный результат поиска
    - do: нажать на стрелку Назад на устройстве (НЕ в браузере)
    - assert: |
        вкладка закрылась,
        отображаются результаты поиска
  Проверка исключенных результатов [manual]:
    - automation: SERPTEST-549
    - v-team: Freshness
    - do: получить выдачу по запросу 'ну -погоди'
    - assert: над первым сниппетом появилась надпись 'Исключены результаты со словом погоди' и кнопкой 'Отменить'
    - do: кликнуть по кнопке 'Отмена'
    - assert: |
        выдача обновилась,
        надпись 'Исключены результаты со словом погоди' исчезла
  Проверка соответствия выдачи региону, выбранному в настройках [manual]:
    - automation: SERPTEST-549
    - v-team: Weather
    - do: в Настройках приложения выставить город 'Архангельск'
    - do: в поисковой строке набрать 'погода в'
    - assert: в подсказках появилась 'погода в Архангельске'
    - do: кликнуть на подсказку 'погода в Архангельске'
    - assert: на выдаче отображается колдунщик Яндекс.Погода с прогнозом в Архангельске
  Проверка БНО и навигации [manual]:
    - automation: SERPTEST-549
    - v-team: Beauty
    - do:  получить выдачу по запросу 'ВТБ' (или 'цб рф' или 'lenta ru')
    - assert: появился сниппет БНО
    - do: тапнуть на первый сайтлинк
    - assert: в новой вкладке открылся выбранный раздел сайта

files: []

tags: [smoke, smoke_extended, required, skip_e2e_check, skip_manual_check]

v-team: Common

browsers:
  - searchapp-pad

tlds: none
