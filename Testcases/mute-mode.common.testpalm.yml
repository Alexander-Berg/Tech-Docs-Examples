feature: Счетчик непрочитанных сообщений в режиме мьюта

specs:

    В превью приватного чата счетчик уведомлений отображается берюзовым цветом, если уведомления для чата включены[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Между пользователем А и пользователем Б есть приватный чат, в котором включены уведомления
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем Б отправить сообщение в чат из description
        - assert: Сообщение отправляется
        - do: Пользователем А посмотреть на превью приватного чата с пользователем Б
        - assert: |
              Под временем отправки последнего сообщения отображается количество новых сообщений
              Цифра отображается берюзовым цветом

    В превью приватного чата при выключенных уведомлениях показывается иконка Mute, если нет непрочитанных сообщений[manual]:
        - automation:
        - description: У авторизованного пользователя в списке чатов есть приватный чат, в котором включены уведомления
        - do: Открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Кликнуть ПКМ / Нажать лонгтапом по чату из description
        - assert: Появляется контекстное меню для этого чата
        - do: Нажать на "Отключить уведолмения"
        - assert: |
              Уведолмения отключены
              В списке чатов в превью чата появился перечеркнутый колокольчик
              Временно появился тост "Уведомления отключены"

    В превью приватного чата при выключенных уведомлениях иконка Mute заменяется на счетчик непрочитанных сообщений, если появились непрочитанные сообщения[manual]:
        - tags: [b2b]
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Между пользователем А и пользователем Б есть приватный чат, в котором включены уведомления
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Кликнуть ПКМ / Нажать лонгтапом по чату из description
        - assert: Появляется контекстное меню для этого чата
        - do: Нажать на "Отключить уведолмения"
        - assert: |
              Уведолмения отключены
              В списке чатов в превью чата появился перечеркнутый колокольчик
              Временно появился тост "Уведомления отключены"
        - do: Под пользователем Б отправить сообщение в чат из description
        - assert: Сообщение отправляется
        - do: Пользователем А посмотреть на превью приватного чата с пользователем Б
        - assert: |
              Под временем отправки последнего сообщения отображается количество новых сообщений
              Цифра отображается серым цветом

    В превью приватного чата счетчик уведомлений в списке чатов отображается серым цветом, если уведомления для чата выключены.[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Между пользователем А и пользователем Б есть приватный чат, в котором выключены уведомления
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем Б отправить сообщение в чат из description
        - assert: Сообщение отправляется
        - do: Пользователем А посмотреть на превью приватного чата с пользователем Б
        - assert: |
              Под временем отправки последнего сообщения отображается количество новых сообщений
              Цифра отображается серым цветом

    В превью приватного чата на счетчике уведомлений отображается 1k, если непрочитанных сообщений >= 1000[manual]:
        - automation:
        - description: У авторизованного пользователя в списке чатов есть приватный чат с более чем непрочитанных 1000 сообщений
        - do: Открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Кликнуть ПКМ / Нажать лонгтапом по чату из description
        - assert: Появляется контекстное меню для этого чата
        - do: Нажать на "Отключить уведолмения"
        - assert: |
              Уведолмения отключены
              В списке чатов в превью чата отображается значок “1k” серого цвета (например, если непрочитанных сообщений больше 1100, то показывается 1.1k)
              Временно появился тост "Уведомления отключены"

    В превью группового чата при выключенных уведомлениях показывается иконка Mute, если нет непрочитанных сообщений[manual]:
        - automation:
        - description: У авторизованного пользователя в списке чатов есть групповой чат, в котором включены уведомления
        - do: Открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Кликнуть ПКМ / Нажать лонгтапом по чату из description
        - assert: Появляется контекстное меню для этого чата
        - do: Нажать на "Отключить уведолмения"
        - assert: |
              Уведолмения отключены
              В списке чатов в превью чата появился перечеркнутый колокольчик
              Временно появился тост "Уведомления отключены"

    В превью груцппового чата при выключенных уведомлениях иконка Mute заменяется на счетчик непрочитанных сообщений, если появились непрочитанные сообщения[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Между пользователем А и пользователем Б есть групповой чат, в котором включены уведомления
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Кликнуть ПКМ / Нажать лонгтапом по чату из description
        - assert: Появляется контекстное меню для этого чата
        - do: Нажать на "Отключить уведолмения"
        - assert: |
              Уведолмения отключены
              В списке чатов в превью чата появился перечеркнутый колокольчик
              Временно появился тост "Уведомления отключены"
        - do: Под пользователем Б отправить сообщение в чат из description
        - assert: Сообщение отправляется
        - do: Пользователем А посмотреть на превью группового чата с пользователем Б
        - assert: |
              Под временем отправки последнего сообщения отображается количество новых сообщений
              Цифра отображается серым цветом

    В превью группового чата счетчик непрочитанных сообщений в списке чатов отображается серым цветом, если уведомления для чата выключены[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Между пользователем А и пользователем Б есть групповой чат, в котором выключены уведомления
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем Б отправить сообщение в чат из description
        - assert: Сообщение отправляется
        - do: Пользователем А посмотреть на превью группового чата с пользователем Б
        - assert: |
              Под временем отправки последнего сообщения отображается количество новых сообщений
              Цифра отображается серым цветом

    В превью группового чвата на счетчике уведомлений отображается “1k”, если непрочитанных сообщений >= 1000[manual]:
        - automation:
        - description: У авторизованного пользователя в списке чатов есть групповой чат с более чем непрочитанных 1000 сообщений
        - do: Открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Кликнуть ПКМ / Нажать лонгтапом по чату из description
        - assert: Появляется контекстное меню для этого чата
        - do: Нажать на "Отключить уведолмения"
        - assert: |
              Уведолмения отключены
              В списке чатов в превью чата отображается значок “1k” серого цвета  (например, если непрочитанных сообщений больше 1100, то показывается 1.1k)
              Временно появился тост "Уведомления отключены"

    В превью группового чата счетчик уведомлений отображается берюзовым цветом, если уведомления для чата включены[manual]:
        - tags: [b2b]
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Между пользователем А и пользователем Б есть групповой чат, в котором включены уведомления
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем Б отправить сообщение в чат из description
        - assert: Сообщение отправляется
        - do: Пользователем А посмотреть на превью групповой чата с пользователем Б
        - assert: |
              Под временем отправки последнего сообщения отображается количество новых сообщений
              Цифра отображается берюзовым цветом

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
