feature: Меншен в окне чата

specs:

    Через поле ввода можно призвать человека, который состоит в чате[manual]:
        - tags: [advanced_smoke]
        - automation: MSSNGRFRONT-5924
        - description: У авторизованного пользователя есть групповой чат с пользователем Б (например, robot-msngr-test01)
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Ввести в поле ввода @ и начало имени пользователя Б
        - assert: Отображается подсказка
        - do: Выбрать из подсказки пользователя Б
        - assert: В поле ввода показывается меншен с отображаемым именем пользователя Б
        - do: Отправить сообщение
        - assert: Сообщение отправилось

    У собеседников имя пользователя в меншене отображается так же, как в их ЛАК[manual]:
        - automation: MSSNGRFRONT-5924
        - description: |
              У авторизованного пользователя А есть групповой чат с пользователем Б и с пользователем В
              Пользователь А есть в адресной книге пользователя Б и Пользователя В под разными именами
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Ввести в поле ввода @ и начало имени пользователя А
        - assert: Отображается подсказка
        - do: Выбрать из подсказки пользователя А
        - assert: В поле ввода показывается меншен с отображаемым именем пользователя А
        - do: Отправить сообщение
        - assert: Сообщение отправилось
        - do: Пользователем В открыть чат из description и посмотреть на меншен который отравил в чат Пользователь Б
        - assert: |
              Отображается сообщение с мешенном (Пользователя А)
              Имя пользователя А совпадает с тем, которое в адресной книге
              Имя пользователя А  не совпадает с именем, которое отображается у Пользователя Б

    Можно вызвать контекстное меню к собственному меншену[manual]:
        - automation: MSSNGRFRONT-5924
        - description: У авторизованного пользователя есть групповой чат, в истории которого есть собственный отправленный меншен (если такого сообщения нет - отправить)
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Кликнуть ПКМ / тапнуть на область рядом с собственным сообщением, содержащим меншен
        - assert: Открылось контекстное меню для этого сообщения

    Можно вызвать контекстное меню к меншену собеседника[manual]:
        - automation: MSSNGRFRONT-5924
        - description: У авторизованного пользователя есть групповой чат, в истории которого есть отправленный другим пользоватеелм меншен (если такого сообщения нет - отправить другим пользователем в чат меншен)
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Кликнуть ПКМ / тапнуть на область рядом с сообщением собеседника, содержащим меншен
        - assert: Открылось контекстное меню для этого сообщения

    Можно ответить на собственный меншен[manual]:
        - automation: MSSNGRFRONT-5924
        - description: У авторизованного пользователя есть групповой чат, в истории которого есть собственный отправленный меншен (если такого сообщения нет - отправить)
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Кликнуть ПКМ / тапнуть на область рядом с собственным сообщением, содержащим меншен
        - assert: Открылось контекстное меню для этого сообщения
        - do: Выбрать в меню пункт "Ответить"
        - assert: Сообщение прикрепляется над полем ввода
        - do: Ввести в поле ввода несколько символов и нажать "отправить"
        - assert: Отправленное сообщение отображается в чате
        - do: Другим пользователем состоящем в этом же чате посмотреть на сообщение, которое отправляли
        - assert: Сообщение отображается в чате

    Собственный меншен можно скопировать[manual]:
        - automation: MSSNGRFRONT-5924
        - description: У авторизованного пользователя есть групповой чат, в истории которого есть собственный отправленный меншен (если такого сообщения нет - отправить)
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Кликнуть ПКМ / тапнуть на область рядом с собственным сообщением, содержащим меншен
        - assert: Открылось контекстное меню для этого сообщения
        - do: В контекстном меню выберите "Скопировать текст"
        - assert: На короткое время всплывает сообщение о том, что текст скопирован
        - do: Вставить скопированную информацию в поле ввода
        - assert: Скопированная информация вставлена в поле ввода

    Собственный меншен можно переслать в другой чат[manual]:
        - automation: MSSNGRFRONT-5924
        - description: У авторизованного пользователя есть групповой чат, в истории которого есть собственный отправленный меншен (если такого сообщения нет - отправить)
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Кликнуть ПКМ / тапнуть на область рядом с собственным сообщением, содержащим меншен
        - assert: Открылось контекстное меню для этого сообщения
        - do: Выбрать "Переслать"
        - assert: Появляется список чатов для пересылки сообщения
        - do: Выбрать любой другой чат, в котором Вы можете проверить присланный Forward другим пользователем
        - assert: Сообщение прикрепляется над полем ввода
        - do: Нажать "отправить"
        - assert: Отправленное сообщение отображается в чате
        - do: Другим пользователем состоящем в этом же чате посмотреть на сообщение, которое отправляли
        - assert: Сообщение отображается в чате

    Собственный меншен можно выделить[manual]:
        - automation: MSSNGRFRONT-5924
        - description: У авторизованного пользователя есть групповой чат, в истории которого есть собственный отправленный меншен (если такого сообщения нет - отправить)
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Кликнуть ПКМ / тапнуть на область рядом с собственным сообщением, содержащим меншен
        - assert: Открылось контекстное меню для этого сообщения
        - do: Нажать на пункт "Выбрать"
        - assert: |
              Сообщение с меншеном было выделено
              Появилсь панель мультивыбораа

    Собственноое чообщение с меншеном можно редактировать[manual]:
        - automation: MSSNGRFRONT-5924
        - description: У авторизованного пользователя есть групповой чат, в истории которого есть собственное сообщение, которое содержит как текст так и меншен (если такого сообщения нет - отправить)
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Кликнуть ПКМ / тапнуть на область рядом с собственным сообщением, содержащим меншен
        - assert: Открылось контекстное меню для этого сообщения
        - do: Нажать "Редактировать"
        - assert: Открывается форма редактирования сообщения
        - do: Отредактировать сообщение (добавить/удалить символы) и нажать “отправить”
        - assert: |
              Отредактированное сообщение отображается в чате
              В балуне сообщения появился "Карандаш"
        - do: Другим пользователем состоящем в этом же чате посмотреть на сообщение, которое было отредактировано
        - assert: Отредактированное сообщение отображается в чате

    Собственное сообщение с меншеном можно удалить[manual]:
        - automation: MSSNGRFRONT-5924
        - description: У авторизованного пользователя есть групповой чат, в истории которого есть собственный отправленный меншен (если такого сообщения нет - отправить)
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Кликнуть ПКМ / тапнуть на область рядом с собственным сообщением, содержащим меншен
        - assert: Открылось контекстное меню для этого сообщения
        - do: В контекстном меню выбрать "Удалить" и подтвердить удаление
        - assert: Сообщение удаляется
        - do: Другим пользователем посмотреть на сообщение, которое удаляли
        - assert: В окне чата вместо сообщения появилась надпись "Сообщение было удалено"

    Можно ответить на меншен собеседника[manual]:
        - automation: MSSNGRFRONT-5924
        - description: У авторизованного пользователя есть групповой чат, в истории которого есть отправленный другим пользоватеелм меншен (если такого сообщения нет - отправить другим пользователем в чат меншен)
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Кликнуть ПКМ / тапнуть на область рядом с сообщением собеседника, содержащим меншен
        - assert: Открылось контекстное меню для этого сообщения
        - do: Выбрать в меню пункт "Ответить"
        - assert: Сообщение прикрепляется над полем ввода
        - do: Ввести в поле ввода несколько символов и нажать "отправить"
        - assert: Отправленное сообщение отображается в чат
        - do: Другим пользователем состоящем в этом же чате посмотреть на сообщение, которое отправляли
        - assert: Сообщение отображается в чате

    Меншен собеседника можно скопировать[manual]:
        - automation: MSSNGRFRONT-5924
        - description: У авторизованного пользователя есть групповой чат, в истории которого есть отправленный другим пользоватеелм меншен (если такого сообщения нет - отправить другим пользователем в чат меншен)
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Кликнуть ПКМ / тапнуть на область рядом с сообщением собеседника, содержащим меншен
        - assert: Открылось контекстное меню для этого сообщения
        - do: Выбрать пункт "Скопировать текст"
        - assert: На короткое время всплывает сообщение о том, что текст скопирован
        - do: Вставить скопированную информацию в поле ввода
        - assert: Скопированная информация вставлена в поле ввода

    Меншен собеседника можно переслать в другой чат[manual]:
        - automation: MSSNGRFRONT-5924
        - description: У авторизованного пользователя есть групповой чат, в истории которого есть отправленный другим пользоватеелм меншен (если такого сообщения нет - отправить другим пользователем в чат меншен)
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Кликнуть ПКМ / тапнуть на область рядом с сообщением собеседника, содержащим меншен
        - assert: Открылось контекстное меню для этого сообщения
        - do: Выбрать "Переслать"
        - assert: Появляется список чатов для пересылки сообщения
        - do: Выбрать любой другой чат, в котором Вы можете проверить присланный Forward другим пользователем
        - assert: Сообщение прикрепляется над полем ввода
        - do: Нажать "отправить"
        - assert: Отправленное сообщение отображается в чате
        - do: Другим пользователем состоящем в этом же чате посмотреть на сообщение, которое отправляли
        - assert: Сообщение отображается в чате

    Меншен собеседнка можно выделить[manual]:
        - automation: MSSNGRFRONT-5924
        - description: У авторизованного пользователя есть групповой чат, в истории которого есть отправленный другим пользоватеелм меншен (если такого сообщения нет - отправить другим пользователем в чат меншен)
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Кликнуть ПКМ / тапнуть на область рядом с сообщением собеседника, содержащим меншен
        - assert: Открылось контекстное меню для этого сообщения
        - do: Нажать на "Выбрать"
        - assert: |
              Мультивыбор вызван
              Выбранное сообщение выделено

    Нажатие по меншену пользователя, которого нет в ЛАК[manual]:
        - automation: MSSNGRFRONT-5924
        - description: |
              У авторизованного пользователя в списке чатов есть групповой чат в истории которого есть поменшенен пользователь А (если такого сообщения нет - то призвать Пользователя А в чат)
              Пользователь А (например, robot-msngr-test01) у Вас отсутствует в адресной книге
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Нажать по меншену пользователя А
        - assert: Открылась "Информация о контакте" пользователя А

    Знак «@» в названии чата должен быть нетапебелен[manual]:
        - automation: MSSNGRFRONT-5924
        - description: У авторизованного пользователя есть групповой чат в названии которого содержится знак "@"
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Нажать по шапке чата
        - assert: Открылась карточка чата
        - do: Нажать по «@» в названии чата
        - assert: Ничего не произошло

    Знак «@» в описании чата должен быть нетапабелен[manual]:
        - automation: MSSNGRFRONT-5924
        - description: У авторизованного пользователя есть групповой чат в описании которого содержится знак “@”
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Нажать по шапке чата
        - assert: Открылась карточка чата
        - do: Нажать по «@» в описании чата
        - assert: Ничего не произошло

    Нельзя призвать пользователя в приватном чате[manual]:
        - automation: MSSNGRFRONT-5924
        - description: У авторизованного пользователя в списке чатов есть приватный чат с Пользователем Б
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Ввести в поле ввода @ и начало имени пользователя Б
        - assert: Подсказка не отображается

    Призыв пользователя в групповом чате[manual]:
        - automation: MSSNGRFRONT-5924
        - description: У авторизованного пользователя в списке чатов есть общий групповой чат с Пользователем Б
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Ввести в поле ввода @ и начало имени пользователя Б
        - assert: Отображается подсказка
        - do: Выбрать из подсказки пользователя Б
        - assert: В поле ввода показывается меншен с отображаемым именем пользователя Б
        - do: Отправить сообщение
        - assert: Сообщение отправилось
        - do: Другим пользователем состоящем в этом же чате посмотреть на сообщение, которое отправляли
        - assert: Сообщение отображается в чате

    Через поле ввода можно призвать нескольких человек, которые состоят в чате[manual]:
        - automation: MSSNGRFRONT-5924
        - description: У авторизованного пользователя в списке чатов есть общий групповой чат с Пользователем Б и Пользователем В
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Ввести в поле ввода @ и начало имени пользователя Б
        - assert: Отображается подсказка
        - do: Выбрать из подсказки пользователя Б
        - assert: В поле ввода показывается меншен с отображаемым именем пользователя Б
        - do: Аналогично добавить пользователя В
        - assert: В поле ввода отображается два меншена
        - do: Отправить сообщение
        - assert: Сообщение отправилось

    Собственное сообещние с меншеном можно редактировать[manual]:
        - automation: MSSNGRFRONT-5924
        - description: У авторизованного пользователя есть групповой чат, в истории которого есть собственный отправленный меншен (если такого сообщения нет - отправить)
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Кликнуть ПКМ / тапнуть на область рядом с собственным сообщением, содержащим меншен
        - assert: Открылось контекстное меню для этого сообщения
        - do: Нажать "Редактировать"
        - assert: Открывается форма редактирования сообщения
        - do: Стереть текст из поля ввода
        - assert: Поле ввода пустое
        - do: Ввести в поле ввода @ и начало имени пользователя, который состоит в этом чате
        - assert: Отображается подсказка.
        - do: Выбрать из подсказки данного пользователя
        - assert: В поле ввода показывается меншен с отображаемым именем этого пользователя
        - do: Добавить еще какой-то текст и нажать кнопку “отправить”.
        - assert: |
              Отредактированное сообщение отображается в чате
              В балуне сообщения появился "карандашик"
        - do: Другим пользователем состоящем в этом же чате посмотреть на сообщение, которое было отредактировано
        - assert: Отредактированное сообщение отображается в чате

    В чате, где есть непрочитанные меншены, сверху от навигационной стрелки появляется кнопка с @[manual]:
        - automation:
        - description: Для прохождения кейса необходимо 2 аккаунта между которыми есть групповой чат и с историей.
        - do: Запустить тестовое приложениие и октрыть список чатов пользователем А
        - assert: Открывается список чатов
        - do: Пользователем Б отправить в чат 30 сообщений и призыв пользователя А
        - assert: У Пользователя А в превью чата отображается значок меншена и счетчик равный 31
        - do: Пользователем А открыть чат
        - assert: В окне чата сверху от навигационной стрелки появляется кнопка с @
        - do: Тапнуть по кнопке меншена над навигационной стрелкой
        - assert: Нажатие на эту кнопку переводит к первому непрочитанному меншену. Происходит подскролл к сообщению с меншеном

    Происходит переход к следующему непрочитанному меншену при нажатии на кнопку меншена над навигационной кнопкой[manual]:
        - automation:
        - description: Для прохождения кейса необходимо 2 аккаунта между которыми есть групповой чат и с историей.
        - do: Запустить тестовое приложениие и октрыть список чатов пользователем А
        - assert: Открывается список чатов
        - do: |
              Пользователем Б отправить в чат сообщения в следующем порядке
              30 любых сообщений кроме призыва , призыв пользователя А, еще 30 любых сообщений кроме призыва, призыв пользователя А, еще 5 любых сообщений
        - assert: У Пользователя А в превью чата отображается значок меншена и счетчик равный 67
        - do: Пользователем А открыть чат
        - assert: В окне чата сверху от навигационной стрелки появляется кнопка с @
        - do: Тапнуть по кнопке меншена 1 раз
        - assert: |
              Происходит подскролл к первому непрочитанному меншену
              Значок меншена НЕ пропадает над навигационной кнопкой
        - do: Тапнуть по кнопке меншена еще раз
        - assert: |
              Происходит подскролл к следующему и последнему непрочитанному меншену
              Значок меншена пропадает над навигационной кнопкой

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
