feature: Вакансии
type: Создание вакансии

specs:
  Выбор типа вакансии:
    - do: открыть страницу /vacancies/create/
    - screenshot: пример внешнего вида [empty_plain]
    - do: в поле 'Тип' выбрать 'Замена сотрудника'
    - screenshot: пример внешнего вида [replacement_plain]
    - do: в поле 'Тип' выбрать 'Стажировка'
    - screenshot: пример внешнего вида [internship_plain]
    - do: в поле 'Тип' выбрать 'Новая вакансия'
    - screenshot: пример внешнего вида [new_plain]
  Проверка ошибок формы:
    - do: открыть страницу /vacancies/create/?type=new
    - assert: в поле 'тип' выбрано значение 'Новый сотрудник'
    - screenshot: пример внешнего вида [error_plain]
    - do: кликнуть по кнопке 'Отправить заявку'
    - assert: |
        все обязательные поля выдали ошибку
        появилась ошибка о некорректности формы
    - screenshot: пример внешнего вида [error_form]
  Создание новой вакансии:
    - do: открыть страницу /vacancies/create/?type=new
    - assert: в поле 'тип' выбрано значение 'Новый сотрудник'
    - screenshot: пример внешнего вида [new_plain]
    - do: заполнить поле 'Название'
    - do: в поле 'Подразделение' выбрать 'Контест'
    - do: в поле 'Нанимающий менеджер' выбрать 'Марат Январев'
    - do: в поле 'Основной продукт' выбрать 'Контест'
    - do: в поле 'Локации для поиска и найма' выбрать 'Москва'
    - do: изменить поле 'Проф. направление'
    - do: изменить поле 'Профессия'
    - do: заполнить поле 'Цель открытия вакансии'
    - do: во втором поле в 'Проф. уровень (от/до)' выбрать 'Специалист'
    - screenshot: пример внешнего вида заполненной формы [new_filled]
    - do: кликнуть 'Отправить заявку'
    - assert: |
        появилась форма досоздания вакансии
    - screenshot: пример внешнего вида [new_success]
  Создание вакансии на замену:
    - do: открыть страницу /vacancies/create/replacement
    - assert:  в поле 'тип' выбрано значение 'Замена сотрудника'
    - screenshot: пример внешнего вида [replacement_plain]
    - do: заполнить поле 'Название'
    - do: в поле 'Нанимающий менеджер' выбрать 'Марат Январев'
    - do: в поле 'Уходящий сотрудник' выбрать 'Арнольд Снеговой'
    - do: в поле 'Причина замены' выбрать 'Увольнение'
    - do: в поле 'Дата увольнения или перевода' выбрать текущую дату
    - do: в поле 'Подразделение' выбрать 'Контест'
    - do: в поле 'Основной продукт' выбрать 'Контест'
    - do: в поле 'Локации для поиска и найма' выбрать 'Москва'
    - do: изменить поле 'Проф. направление'
    - do: изменить поле 'Профессия'
    - do: во втором поле в 'Проф. уровень (от/до)' выбрать 'Специалист'
    - screenshot: пример внешнего вида заполненной формы [replacement_filled]
    - do: кликнуть 'Отправить заявку'
    - assert: |
        появилась форма досоздания вакансии
    - screenshot: пример внешнего вида [replacement_success]
  Создание вакансии на стажировку:
    - do: открыть страницу /vacancies/create/internship
    - assert: в поле 'тип' выбрано значение 'Стажировка'
    - screenshot: пример внешнего вида [internship_plain]
    - do: заполнить поле 'Название'
    - do: в поле 'Нанимающий менеджер' выбрать 'Марат Январев'
    - do: в поле 'Подразделение' выбрать 'Контест'
    - do: в поле 'Основной продукт' выбрать 'Контест'
    - do: в поле 'Локации для поиска и найма' выбрать 'Москва'
    - do: изменить поле 'Проф. направление'
    - do: изменить поле 'Профессия'
    - screenshot: пример внешнего вида заполненной формы [internship_filled]
    - do: кликнуть 'Отправить заявку'
    - assert: |
        появилась форма досоздания вакансии
    - screenshot: пример внешнего вида [internship_success]

files:
  - tests/hermione/suites/desktop/vacancies/vacancies_create/vacancies_create.hermione.js

tags:
  - reviewed

priority: blocker

browsers:
  - yandex-browser-desktop
  - firefox-desktop
  - safari-desktop
