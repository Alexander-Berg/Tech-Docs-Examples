feature: Жалобщик в кебаб as is

specs:
  Пожаловаться на результат рекламы:
    beforeEach:
      - do: получить выдачу по запросу 'бытовки'
      - assert: |
          на выдаче присутствует рекламный сниппет
          в правом верхнем углу рекламного сниппета есть "три точки"
    Проверка внешнего вида:
      - screenshot: внешний вид рекламного сниппета [plain]
    Проверка меню:
      - do: кликнуть в "три точки"
      - assert: |
          появилось выпадающее меню,
          в меню есть пункт 'Информация о сайте',
          в меню есть пункт 'Не подходит по запросу'
      - screenshot: пример внешнего вида [menu]
    Закрытие меню:
      Скроллом:
        - do: кликнуть в "три точки"
        - do: просколлить выдачу внизу
        - assert: выпадающее меню закрылось
      Повторным кликом в "три точки":
        - do: кликнуть в "три точки"
        - do: еще раз кликнуть в "три точки"
        - assert: выпадающее меню закрылось
      Отправка жалобы:
        - do: кликнуть в три точки первого рекламного сниппета
        - assert: появилось выпадающее меню первого рекламного сниппета
        - do: кликнуть в пункт меню "Не подходит по запросу"
        - tech: отправилась жалоба в ручку yabs.yandex.ru/abuse
        - assert: появился попап с благодарностью
      Отправка жалобы с поворотом экрана:
        - do: повернуть экран в ландшафтную ориентацию
        - do: кликнуть в три точки первого рекламного сниппета
        - assert: появилось выпадающее меню первого рекламного сниппета
        - do: кликнуть в пункт меню "Не подходит по запросу"
        - tech: отправилась жалоба в ручку yabs.yandex.ru/abuse
        - assert: появился попап с благодарностью
  Пожаловаться на результат не рекламы:
    beforeEach:
      - do: получить выдачу по запросу 'bmw'
      - assert: в правом верхнем углу первого нерекламного сниппета есть "три точки"
      - do: кликнуть в "три точки"
      - assert: |
          появилось выпадающее меню,
          в меню есть пункт 'Пожаловаться'
    Закрытие меню:
      Скроллом:
        - do: просколлить выдачу внизу
        - assert: выпадающее меню закрылось
      Повторным кликом в "три точки":
        - do: еще раз кликнуть в "три точки"
        - assert: выпадающее меню закрылось
    Открытие меню другого сниппета:
      - do: кликнуть в "три точки" следующего сниппета
      - assert: открытое выпадающее меню закрылось
      - assert: появилось выпадающее меню для следующего сниппета
    Отправка жалобы:
      - do: кликнуть в пункт меню 'Пожаловаться'
      - assert: появился попап жалобщика
      - do: кликнуть на первый пункт
      - assert: появилось сообщение с благодарностью
    Закрытие жалобщика:
      beforeEach:
        - do: кликнуть в пункт меню 'Пожаловаться'
        - assert: появился попап жалобщика
      Кликом по паранже:
        - do: кликнуть мимо попапа
        - assert: попап жалобщика закрылся
      Кликом в кнопку:
        - do: кликнуть в кнопку 'Отмена'
        - assert: попап жалобщика закрылся
  Пожаловаться на колдунщик:
    Колдунщик видео:
      - do: получить выдачу по запросу 'котики видео'
      - assert: в правом верхнем углу колндунищка видео есть "три точки"
      - do: кликнуть в "три точки"
      - assert: |
          появилось выпадающее меню,
          в меню есть пункт 'Пожаловаться'
      - do: кликнуть в пункт меню 'Пожаловаться'
      - assert: появился попап жалобщика
      - do: кликнуть в первый пункт
      - assert: |
          попап жалобщика закрылся,
          появилось сообщение с благодарностью

files:
  - features/feedback/feedback@touch-phone.hermione.js

tlds: all

v-team: UGC

tags:
  - organic
  - reviewed
