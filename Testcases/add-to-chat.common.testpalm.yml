feature: Добавление в чат

specs:

    В групповой чат без истории администратор может добавить собеседника[manual]:
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Пользователь Б есть в контактах у пользователя А
              Есть групповой чат без истории, в котором пользователь А - администратор, а пользователь Б в нем отсутсттвует
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата тапом по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: |
              Открывается экран с учатсниками чата
              Есть кнопка "Добавить"
        - do: Нажать на кнопку "Добавить"
        - assert: Открывается окно со списком контактов пользователя
        - do: В списке контактов найти пользователя Б, нажать на него и после нажать кнопку "Добавить"
        - assert: |
              Карточка чата закрывается
              Открыто окно группового чата
              Пользователь Б был добавлен в чат
        - do: В блоке "Участники" проверить наличие пользователя Б
        - assert: В списке участников чата есть пользователь Б
        - do: Пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем Б открыть групповой чат, в который он был добавлен ранее
        - assert: |
              Открыто окно чата
              История чата отсутствует

    В групповой чат с историей администратор  может добавить собеседника[manual]:
        - tags: [advanced_smoke, b2b]
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Пользователь Б есть в контактах у пользователя А
              Есть групповой чат с историей, в котором пользователь А - администратор, а пользователь Б в нем отсутсттвует
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата тапом по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: |
              Открывается экран с учатсниками чата
              Есть кнопка "Добавить"
        - do:  Нажать на кнопку "Добавить"
        - assert: Открывается окно со списком контактов пользователя
        - do: В списке контактов найти пользователя Б, нажать на него и после нажать кнопку "Добавить"
        - assert: |
              Карточка чата закрывается
              Открыто окно группового чата
              Пользователь Б был добавлен в чат
        - do: В блоке "Участники" проверить наличие пользователя Б
        - assert: В списке участников чата есть пользователь Б
        - do: Пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем Б открыть групповой чат, в который он был добавлен ранее
        - assert: |
              Открыто окно чата
              Отображается история чата

    В групповой чат любой участник  может добавить собеседника[manual]:
        - tags: [advanced_smoke, b2b]
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Пользователь Б есть в контактах у пользователя А
              Есть групповой чат, в котором пользователь А - обычный участник (не администратор), а пользователь Б в нем отсутсттвует
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата тапом по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: |
              Открывается экран с учатсниками чата
              Есть кнопка "Добавить"
        - do:  Нажать на кнопку "Добавить"
        - assert: Открывается окно со списком контактов пользователя
        - do: В списке контактов найти пользователя Б, нажать на него и после нажать кнопку "Добавить"
        - assert: |
              Карточка чата закрывается
              Открыто окно группового чата
              Пользователь Б был добавлен в чат
        - do: В блоке "Участники" проверить наличие пользователя Б
        - assert: В списке участников чата есть пользователь Б
        - do: Пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем Б открыть групповой чат, в который он был добавлен ранее
        - assert: Открыто окно чата

    В ранее созданный приватный чат нельзя добавить собеседника[manual]:
        - automation: MSSNGRFRONT-5929
        - description: У авторизованного пользовтеля А в списке чатов есть приватный чат с пользователем Б
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Нажать на шапку чата
        - assert: |
              Открылась карточка пользователя
              В карточке пользователя отсутствует возможность добавления других пользователей

    В публичный чат (при включенной инвайт-ссылке) администратор может добавить собеседника[manual]:
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Пользователь Б есть в контактах у пользователя А
              Есть групповой чат, в котором пользователь А - администратор, а пользователь Б в нем отсутсттвует
              В настройках чата включена "Публичная ссылка"
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата тапом по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: |
              Открывается экран с учатсниками чата
              Есть кнопка "Добавить"
        - do:  Нажать на кнопку "Добавить"
        - assert: Открывается окно со списком контактов пользователя
        - do: В списке контактов найти пользователя Б, нажать на него и после нажать кнопку "Добавить"
        - assert: |
              Карточка чата закрывается
              Открыто окно группового чата
              Пользователь Б был добавлен в чат
        - do: В блоке "Участники" проверить наличие пользователя Б
        - assert: В списке участников чата есть пользователь Б
        - do: Пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем Б открыть групповой чат, в который он был добавлен ранее
        - assert: Открыто окно чата

    В непубличный чат (при отключенной инвайт-ссылке) администратор может добавить собеседника[manual]:
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Пользователь Б есть в контактах у пользователя А
              Есть групповой чат, в котором пользователь А - администратор, а пользователь Б в нем отсутсттвует
              В настройках чата выключена "Публичная ссылка"
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата тапом по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: |
              Открывается экран с учатсниками чата
              Есть кнопка "Добавить"
        - do:  Нажать на кнопку "Добавить"
        - assert: Открывается окно со списком контактов пользователя
        - do: В списке контактов найти пользователя Б, нажать на него и после нажать кнопку "Добавить"
        - assert: |
              Карточка чата закрывается
              Открыто окно группового чата
              Пользователь Б был добавлен в чат
        - do: В блоке "Участники" проверить наличие пользователя Б
        - assert: В списке участников чата есть пользователь Б
        - do: Пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем Б открыть групповой чат, в который он был добавлен ранее
        - assert: Открыто окно чата

    Нельзя добавть пользователя в отсутствии интернет-соединения[manual]:
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Пользователь Б есть в контактах у пользователя А
              Есть групповой чат, в котором пользователь А - администратор, а пользователь Б в нем отсутсттвует
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата тапом по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: |
              Открывается экран с учатсниками чата
              Есть кнопка "Добавить"
        - do:  Нажать на кнопку "Добавить"
        - assert: Открывается окно со списком контактов пользователя
        - do: Отключтить интернет
        - assert: Интернет-соединение было отключено
        - do: В списке контактов найти пользователя Б (искать пользователя не через поиск), нажать на него и после нажать кнопку "Добавить"
        - assert: |
              Карточка чата закрывается
              На экране появлиась ндпись "Не удалось загрузить данные"
              Пользователь Б не был добавлен в чат
        - do: Пользователем Б открыть список чатов
        - assert: |
              Открывается окно списка чатов
              В списке чатов отсутствует чат из description

    В групповой чат администратор может добавить пользователя из глобального поиска[manual]:
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Пользователя Б нет в контактах у пользователя А
              Вы знаете логин пользователя Б
              Есть групповой чат, в котором пользователь А - администратор, а пользователь Б в нем отсутсттвует
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата тапом по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: |
              Открывается экран с учатсниками чата
              Есть кнопка "Добавить"
        - do:  Нажать на кнопку "Добавить"
        - assert: Открывается окно со списком контактов пользователя
        - do: В списке контактов в поле поиска ввести логин пользователя Б, выбрать его и после нажать кнопку "Добавить"
        - assert: |
              Карточка чата закрывается
              Открыто окно группового чата
              Пользователь Б был добавлен в чат
        - do: В блоке "Участники" проверить наличие пользователя Б
        - assert: В списке участников чата есть пользователь Б
        - do: Пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем Б открыть групповой чат, в который он был добавлен ранее
        - assert: Открыто окно чата

    На экране добавления участников в чат можно стереть введенные данные[manual]:
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Пользователь Б есть в контактах у пользователя А
              Есть групповой чат с историей, в котором пользователь А - администратор, а пользователь Б в нем отсутсттвует
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата тапом по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: |
              Открывается экран с учатсниками чата
              Есть кнопка "Добавить"
        - do:  Нажать на кнопку "Добавить"
        - assert: Открывается окно со списком контактов пользователя
        - do: В поле ввода начать вводить отображаемое имя (disply name) пользователя Б
        - assert: |
              Появился саджест со всеми пользователями в disply name которых есть совпадения с вводимым
              В саджесте есть пользователь А
        - do: Стереть ранее введенные символы
        - assert: |
              Введеный текст в поле ввода был удален
              Результаты поиска были отменены

    На экране добавления участников корректно работает ввод имени пользователя, которого нет в списке контактов[manual]:
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Пользователь Б есть в контактах у пользователя А
              Есть групповой чат с историей, в котором пользователь А - администратор, а пользователь Б в нем отсутсттвует
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата тапом по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: |
              Открывается экран с учатсниками чата
              Есть кнопка "Добавить"
        - do:  Нажать на кнопку "Добавить"
        - assert: Открывается окно со списком контактов пользователя
        - do: В поле ввода ввести любые символы (так чтобы в результатах не было совпадений и никто не был найден)
        - assert: |
              Символы введены
              На экране появилась надписи "Ничего не найдено" и "Контактов с такими именами нет в вашей адресной книги"
              Фокус курсора находиться в поле ввода
        - do: Стереть ранее введенные символы
        - assert: |
              Введеный текст в поле ввода был удален
              Результаты поиска были отменены и отображается список контактов
              Фокус курсора находиться в поле ввода

    На экране добавления участников в чат можно отменить добавление пользователей[manual]:
        - automation: 
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Пользователь Б есть в контактах у пользователя А
              Есть групповой чат с историей, в котором пользователь А - администратор, а пользователь Б в нем отсутсттвует
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата тапом по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: |
              Открывается экран с учатсниками чата
              Есть кнопка "Добавить"
        - do:  Нажать на кнопку "Добавить"
        - assert: Открывается окно со списком контактов пользователя
        - do: В поле ввода начать вводить отображаемое имя (disply name) пользователя Б
        - assert: |
              Появился саджест со всеми пользователями в disply name которых есть совпадения с вводимым
              В саджесте есть пользователь А
        - do: Нажать на чек-бокс напротив пользователя Б
        - assert: |
              Чек-бокс был проставлен
              Пользователь Б был помещен в блок над полем поиска
        - do: Отменить добавления участников, нажав на кнопку в виде крестика в шапке модального окна
        - assert: |
              Закрылось модальное окно добавления участников
              Пользоваатель не был добавлен в чат

    В групповой чат с историей администратор  может добавить собеседника через блок "Администраторы"[manual]:
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Пользователь Б есть в контактах у пользователя А
              Есть групповой чат с историей, в котором пользователь А - администратор, а пользователь Б в нем отсутсттвует
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата тапом по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: |
              Открывается экран с учатсниками чата
              В блоке "Администраторы" есть кнопка "Добавить"
        - do:  Нажать на кнопку "Добавить"
        - assert: Открывается окно со списком контактов пользователя
        - do: В списке контактов найти пользователя Б, нажать на него и после нажать кнопку "Добавить"
        - assert: |
              Карточка чата закрывается
              Открыто окно группового чата
              Пользователь Б был добавлен в чат
        - do: В блоке "Администраторы" проверить наличие пользователя Б
        - assert: В списке участников в блоке "Администраторы" есть пользователь Б
        - do: Пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем Б открыть групповой чат, в который он был добавлен ранее
        - assert: |
              Открыто окно чата
              Отображается история чата
              Доступно администрирование чатом

    В групповой чат с историей администратор может добавить собеседника в блок "Администраторы" если собсесдник является обычным участником чата[manual]:
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Пользователь Б есть в контактах у пользователя А
              Есть групповой чат с историей, в котором пользователь А - администратор, а пользователь Б является обычным участником этого чата
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата тапом по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: |
              Открывается экран с учатсниками чата
              В блоке "Администраторы" есть кнопка "Добавить"
              Пользователь Б находится в блоке "Участники"
        - do:  Нажать на кнопку "Добавить" в блоке "Администраторы"
        - assert: Открывается окно со списком контактов пользователя
        - do: В списке контактов найти пользователя Б, нажать на него и после нажать кнопку "Добавить"
        - assert: |
              Карточка чата закрывается
              Открыто окно группового чата
              Пользователь Б был переммещен в блоке "Администраторы"
              В окне чата после этого не появилось никаких технических записей
        - do: В блоке "Администраторы" проверить наличие пользователя Б
        - assert: В списке участников в блоке "Администраторы" есть пользователь Б
        - do: Пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем Б открыть групповой чат из description
        - assert: |
              Открыто окно чата
              Доступно администрирование чатом

    В групповой чат с историей администратор не может добавить собеседника в блок "Администраторы" если собсесдник является администратором этого чата[manual]:
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Пользователь Б есть в контактах у пользователя А
              Есть групповой чат с историей, в котором пользователь А и Пользователь Б - администраторы этого чата
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата тапом по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: |
              Открывается экран с учатсниками чата
              В блоке "Администраторы" есть кнопка "Добавить"
              Пользователь Б находится в блоке "Администраторы"
        - do:  Нажать на кнопку "Добавить" в блоке "Администраторы"
        - assert: Открывается окно со списком контактов пользователя
        - do: В списке контактов найти пользователя Б
        - assert: |
              Пользователь Б отображается в списке контактов
              Пользователя Б нельзя никак выделить и добавить в чат

    В групповой чат любой участник не может добавить собеседника, через блок "Администраторы"[manual]:
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Пользователь Б есть в контактах у пользователя А
              Есть групповой чат, в котором пользователь А - обычный участник (не администратор), а пользователь Б в нем отсутсттвует
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата тапом по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: |
              Открывается экран с учатсниками чата
              В блоке "Администраторы" отсутствует кнопка "Добавить"

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
