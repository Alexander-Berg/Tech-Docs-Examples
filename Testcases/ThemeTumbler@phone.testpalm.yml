feature: Кнопка переключения темы

specs:
  Светлая тема (light):
    Внешний вид кнопки переключения темы:
      - do: перейти по ссылке https://yandex.ru/turbo?stub=themetumbler/default-light.json
      - assert: на странице есть кнопка переключения темы
      - screenshot: кнопка соответствует скриншоту [snippet-light]

    Внешний вид кнопки переключения темы на странице и после нажатия:
      - do: перейти по ссылке https://yandex.ru/turbo/narlos.ru/s/antivozrastnaya-maska-dlya-litsa-s-romashkoy-i-mindalnym-maslom/
      - assert: на странице есть сэндвич-меню
      - do: открыть сэндвич-меню
      - do: сменить тему на светлую (если тема стоит светлая то сначала сменить на темную а потом обратно на светлую)
      - do: перезагрузить страницу
      - do: открыть сэндвич-меню
      - screenshot: раскрытый сэндвич-меню соответствует скриншоту [snippet-menu-light]
      - do: сменить тему на темную
      - assert: меню стало темным
    
    Внешний вид кнопки переключения темы (light) со светлой темой браузера [manual]:
      - automation: TURBOUI-6524
      - browsers:
        - ios-safari-14-touch
        - android-yandex-browser-17-touch
      - tags: skip_manual_check
      - do: включить светлую тему на устройстве
      - do: открыть ссылку в режиме инкогнито https://yandex.ru/turbo?stub=themetumbler%2Fpage.json
      - assert: на странице есть сэндвич-меню
      - do: открыть сэндвич-меню
      - assert: сэндвич-меню раскрылся, пример внешнего вида [https://jing.yandex-team.ru/files/romanegorov/Снимок%20экрана%202021-11-29%20в%2014.35.41.png]
  
  Темная тема (dark):
    Внешний вид кнопки переключения темы:
      - do: перейти по ссылке https://yandex.ru/turbo?stub=themetumbler/default-dark.json
      - assert: на странице есть кнопка переключения темы
      - screenshot: кнопка соответствует скриншоту [snippet-dark]

    Внешний вид кнопки переключения темы на странице и после нажатия:
      - do: перейти по ссылке https://yandex.ru/turbo/narlos.ru/s/antivozrastnaya-maska-dlya-litsa-s-romashkoy-i-mindalnym-maslom/
      - assert: на странице есть сэндвич-меню
      - do: открыть сэндвич-меню
      - do: сменить тему на темную (если тема стоит темная то сначала сменить на светлую а потом обратно на темную)
      - do: перезагрузить страницу
      - do: открыть сэндвич-меню
      - screenshot: раскрытый сэндвич-меню соответствует скриншоту [snippet-menu-dark]
      - do: сменить тему на светлую
      - assert: меню стало светлым

    Внешний вид кнопки переключения темы (dark) со светлой темой браузера [manual]:
      - automation: TURBOUI-6524
      - browsers:
        - ios-safari-14-touch
        - android-yandex-browser-17-touch
      - tags: skip_manual_check
      - do: включить темную тему на устройстве
      - do: открыть ссылку в режиме инкогнито https://yandex.ru/turbo/narlos.ru/s/antivozrastnaya-maska-dlya-litsa-s-romashkoy-i-mindalnym-maslom/
      - assert: на странице есть сэндвич-меню
      - do: открыть сэндвич-меню
      - assert: сэндвич-меню раскрылся, пример внешнего вида [https://jing.yandex-team.ru/files/narbutovich/Maska_dlya_litsa_s_romashkoi_i_mindalnym_maslom_posle_40_2021-05-06_13-18-17.png]

  Переключение иконки в шапке:
    - tags: no_assessors
    - do: открыть страницу https://yandex.ru/turbo?stub=themetumbler/page.json
    - assert: иконка в шапке отображается и URL иконки заканчивается на "svg"
    - do: кликнуть в кнопку сэндвич-меню в шапке
    - do: проскроллить открывшиеся блок меню до самого низа
    - do: сменить тему на темную
    - do: закрыть меню
    - assert: иконка в шапке поменялась и URL иконки заканчивается на "logo_horizontal_s_x20"
    - do: кликнуть в кнопку сэндвич-меню в шапке
    - do: проскроллить открывшиеся блок меню до самого низа
    - do: сменить тему на темную
    - do: закрыть меню
    - assert: иконка в шапке поменялась и URL иконки заканчивается на "svg"

files:
  - platform/components/ThemeTumbler/ThemeTumbler.tests/ThemeTumbler@phone.hermione.js

v-team: Turbo

manager: mviktorov

qa-engineer: narbutovich

tlds: none
