feature: Видео-плеер

description: Кейсы для проверки функциональностей НЕ вёрстки сервиса "Яндекс Спорт", а видео-плеера.

specs:

  aliases:
    &goTo
    - do: открыть сервис Яндекс Спорт (Обратите внимание! В данном кейсе не важна верстка страницы Спорта - мы проверяем исключительно работу видео-плеера, поэтому не нужно заводить баги, если в самом сервисе что-то отображается не так!)
    - do: перейти в любой сюжет с видео (для поиска сюжета с видео, рекомендуется открыть сразу несколько карточек сюжетов, в разных вкладках)
    - assert: |
        в сюжете отображается медиаблок с видео,
        внешний вид - https://jing.yandex-team.ru/files/umansai5/2022-07-21%2015.08.32.jpg,
        видео запустилось автоматически, без звука
    - do: тапнуть по видео
    - assert: |
        появились контролсы, 
        внешний вид - https://jing.yandex-team.ru/files/umansai5/2022-07-21%2015.03.15.jpg,
        Обратите внимание! Если вы проходите кейс на устройстве с небольшой шириной экрана до 340px, как на iphone se, 
        в плеере будет отсутствовать контролл шэринга видео, таймер в плеере будет в другом месте,
        внешний вид - https://jing.yandex-team.ru/files/umansai5/Снимок%20экрана%202022-07-21%20в%2015.16.07.png
 
  дает возможность запускать/останавливать видео [manual]:
    - *goTo
    - do: тапнуть по видео
    - assert: появились контролсы 
    - do: тапнуть по иконке "Пауза" в центре видео
    - assert: видео остановилось
    - do: тапнуть по иконке "Плей" в центре видео
    - assert: видео продолжает проигрываться    

  дает возможность перематывать видео [manual]:
    - *goTo
    - assert: |
        справа и слева на экране присутствуют кнопки перемотки видео на 10 сек вперед (справа) и назад (слева),
        внешний вид кнопок перемотки - https://jing.yandex-team.ru/files/volkhonov/PeremotraButtonTouch.png
    - do: тапнуть по правой кнопке перемотки
    - assert: видео перемоталось на 10 секунд вперед
    - do: тапнуть по левой кнопке перемотки
    - assert: видео перемоталось на 10 секунд назад
    - do: на прогресс-баре видео (снизу над панелью контроллсов) - тапнуть в любое место
    - assert: видео продолжило воспроизводиться, с выбранного места на прогресс-баре

  дает возможность включать/выключать звук в видео [manual]:
    - *goTo
    - do: тапнуть по видео
    - assert: появились контролсы
    - do: кликнуть по иконке звука на панели контроллсов
    - assert: |
        если звук был выключен - он включился, звук видео слышно (если был включен - соответственно наоборот - выключился),
        Обратите внимание! Если вы проходите кейс на колхозе, также надо включить звук и в настройках колхоза - https://jing.yandex-team.ru/files/kossakovskaya/2022-03-23_19-51-06.png

  дает возможность воспроизводить видео в фуллскрине [manual]:
    - *goTo
    - do: кликнуть по иконке фуллскрина (самая правая на панели контроллсов),
    - assert: видео отобразилось в фуллскрине, продолжает воспроизводиться
    - do: перевернуть устройство в альбомную ориентацию
    - assert: видео растянулось на весь экран в альбомной ориентации
    - do: вернуть устройство в книжную ориентацию и тапнуть по иконке фуллскрина на панели контроллсов.
    - assert: видео отобразилось на странице без затемнения остальных элементов страниц (заголовка и прочих надписей)
    - do: тапнуть по иконке фуллскрина и затем перейти в альбомную ориентацию
    - assert: видео растянулось на весь экран

  дает возможность настраивать в видео скорость воспроизведения, а также сообщать о проблеме [manual]:
    - *goTo
    - do: тапнуть по кнопке шестеренки
    - assert: отобразился поп-ап с настройками качества, скорости, и возможностью сообщить о проблеме, внешний вид - https://jing.yandex-team.ru/files/vasekerka/2021-11-24_12-34-12.png
    - do: тапнуть в поп-апе по настройке "Скорость"
    - assert: открылся поп-ап со списком скоростей воспроизведения видео
    - do: поскроллить список вниз и вверх
    - assert: список в поп-апе скроллится, при этом остальная страница остается неподвижной
    - do: изменить скорость на х2
    - assert: воспроизведение видео продолжилось, скорость воспроизведения видео сильно увеличилась относительно первоначальной (обычной)
    - do: выбрать скорость х0.25
    - assert: видео продолжает воспроизведение, но уже заметно медленнее, чем воспроизводилось первоначально
    - do: в поп-апе настроек тапнуть по "Сообщить о проблеме"
    - assert: произошел переход на страницу Службы поддержки

  дает возможность настраивать в видео качество [manual]:
    - browsers:
        notFor:
          - ios-safari-9-touch
          - ios-safari-10-touch
          - ios-safari-11-touch
          - ios-safari-12-touch
          - ios-safari-13-touch
          - ios-safari-14-touch
          - ios-safari-touch
          - ios-yandex-browser-17-touch
          - ios-pp-3.2-touch
          - ios_pp
    - *goTo
    - do: тапнуть по кнопке шестеренки
    - assert: |
        отобразился поп-ап с настройками качества, скорости, и возможностью сообщить о проблеме,
        внешний вид - https://jing.yandex-team.ru/files/vasekerka/2021-11-24_12-34-12.png,
        Обратите Внимание! В iOS нет настройки качества в шестеренке, смените на смартфон с системой Android, Заводить Баг на это Не нужно
    - do: кликнуть по "Качество" и выбрать другое качество видео (настройки качества отсутствуют на Ios)
    - assert: в поп-апе отобразился список доступных разрешений видео
    - do: поскроллить список вниз и вверх
    - assert: список в поп-апе скроллится, при этом остальная страница остается неподвижной
    - do: выбрать любое, отличное от первоначального, разрешение видео и тапнуть по нему (допустима небольшая пауза для прогрузки видео),
    - assert: видео продолжило воспроизведение уже в выбранном разрешении

  дает возможность перейти на обратную связь [manual]:
    - *goTo
    - do: тапнуть по кнопке шестеренки на панели контроллсов
    - assert: |
        откроется выпадашка настроек - в этом окошке будет расположен пункт "Сообщить о проблеме",
        внешний вид - https://jing.yandex-team.ru/files/vasekerka/2021-11-24_12-34-12.png
    - do: тапнуть по пунтку "Сообщить о проблеме"
    - assert: произошел переход на страницу Службы поддержки

  содержит рекламу в нетраурных карточках [manual]:
    - browsers:
        notFor:
          - ios-safari-9-touch
    - do: открыть сюжет с видео длительностью > 40 сек (если таких нет, открыть другой сюжет)
    - assert: открывается сюжет с медиаблоком видео, видео воспроизводится автоматически, без звука
    - do: посмотреть 30 секунд видео (важно именно посмотреть, не промотать)
    - assert: на 30-ой секунде видео прерывается рекламой
    - do: дождаться окончания рекламы или тапнуть на "Пропустить"
    - assert: видео продолжает воспроизведение с места, на котором прервалось рекламой

  воспроизводит видео в траурных сюжетах [manual]:
    - do: тапнуть по наименованию траурного сюжета (траурный сюжет - это тот сюжет, который содержит информацию о смерти, убийствах, а под рубрикатором нет рекламы)
    - assert: |
        открылся соответствующий сюжет, который содержит медиаблок с видео,
        ВНИМАНИЕ! Если на странице сервиса в течение минуты, вы не нашли траурный сюжет, то кейс можно скипнуть,
        видео воспроизводится автоматически, без звука
    - do: проскроллить страницу вниз так, чтобы верхняя часть видео скрылась более, чем наполовину, палец с экрана не отпускайте (пропустить дальнейшие шаги, если проходите кейс в "Колхозе")
    - assert: видео НЕ воспроизводится
    - do: проскроллить страницу обратно
    - assert: видео продолжает воспроизводиться

  в траурном сюжете не содержит рекламу в видео [manual]:
    - browsers:
        notFor:
          - ios-safari-9-touch
          - android-browser-5.1-touch
    - do: перейти в траурный сюжет с видео, длительностью > 40сек тапом по заголовку в новостной карточке (траурный сюжет - это тот сюжет, который содержит информацию о смерти, убийствах, а под рубрикатором нет рекламы),
    - assert: |
        сюжет содержит медиаблок с видео (если в сюжете нет медиаблока с видео, открыть другой сюжет),
        ВНИМАНИЕ! Если на странице сервиса в течение минуты вы не нашли траурный сюжет, то кейс можно скипнуть,
        воспроизводится видео автоматически
    - do: подождать 30 секунд видео (надо именно подождать, перемотка не сработает)
    - assert: на 30-ой секунде видео НЕ прерывается рекламой   

files: []

tags:
  - playeronly

manager: mrwhite

qa-engineer: umansai5

tlds:
  - ru
  - by
  - kz
  - uz
  - com