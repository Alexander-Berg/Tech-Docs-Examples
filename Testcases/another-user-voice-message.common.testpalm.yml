feature: Вид голосовых сообщений собеседника

specs:

    Показывается кнопка Еще, если распознанный текст сообщения более трех строк[manual]:
        - automation:
        - description: Между пользователем А и Б есть приватный/групповой чат
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на микрофон и надиктовать текст на 20 - 30 сек
        - assert: Голосовое сообщение надиктовано
        - do: Нажать на кнопку Отправить
        - assert: |
             Сообщение отправляется и расшифрованный текст в три строки (может быть больше, в зависимости от размеров окна проверяемого оркужения)
             Видим что в бабле сообщения есть кнопка Еще
             Количество расшифрованных символов равно 180 (если символы заканчиваются на середине слова - то это слово не отображается)
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Найти отправленное голосовое сообщение отправленное пользователем А
        - assert: В бабле сообщения есть распознанный текст в три строки (может быть больше, в зависимости от размеров окна проверяемого оркужения) и кнопкаа Еще

    Можно просмотреть весь распознанный текст голосового сообщения, тапнув по кнопке Еще[manual]:
        - tags: [b2b]
        - automation:
        - description: Между пользователем А и Б есть приватный/групповой чат
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на микрофон и надиктовать текст на 20 - 30 сек
        - assert: Голосовое сообщение надиктовано
        - do: Нажать на кнопку Отправить
        - assert: |
             Сообщение отправляется и расшифрованный текст в три строки (может быть больше, в зависимости от размеров окна проверяемого оркужения)
             Видим что в бабле сообщения есть кнопка Еще
             Количество расшифрованных символов равно 180 (если символы заканчиваются на середине слова - то это слово не отображается)
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Найти отправленное голосовое сообщение отправленное пользователем А
        - assert: В бабле сообщения есть распознанный текст в три строки (может быть больше, в зависимости от размеров окна проверяемого оркужения) и кнопкаа Еще
        - do: Нажать по кнопке Еще
        - assert: Бабл расширяется и видим весь расшифрованный текст

    Состояние развернутости сообщений сохраняется, если в чат отправить сообщение[manual]:
        - automation:
        - description: Между пользователем А и Б есть приватный/групповой чат
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на микрофон и надиктовать текст на 20 - 30 сек
        - assert: Голосовое сообщение надиктовано
        - do: Нажать на кнопку Отправить
        - assert: |
             Сообщение отправляется и расшифрованный текст в три строки (может быть больше, в зависимости от размеров окна проверяемого оркужения)
             Видим что в бабле сообщения есть кнопка Еще
             Количество расшифрованных символов равно 180 (если символы заканчиваются на середине слова - то это слово не отображается)
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Найти отправленное голосовое сообщение отправленное пользователем А
        - assert: В бабле сообщения есть распознанный текст в три строки (может быть больше, в зависимости от размеров окна проверяемого оркужения) и кнопкаа Еще
        - do: Нажать по кнопке Еще
        - assert: Бабл расширяется и видим весь расшифрованный текст
        - do: Отправить в чат сообщение
        - assert: Бабл остался развернутым
        - do: Получить в чат от пользователя А сообщение
        - assert: Бабл голосового сообщения остался развернутым

    Состояние развернутости сообщений не сохраняется если чат был закрыт[manual]:
        - automation:
        - description: Между пользователем А и Б есть приватный/групповой чат
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на микрофон и надиктовать текст на 20 - 30 сек
        - assert: Голосовое сообщение надиктовано
        - do: Нажать на кнопку Отправить
        - assert: |
             Сообщение отправляется и расшифрованный текст в три строки (может быть больше, в зависимости от размеров окна проверяемого оркужения)
             Видим что в бабле сообщения есть кнопка Еще
             Количество расшифрованных символов равно 180 (если символы заканчиваются на середине слова - то это слово не отображается)
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Найти отправленное голосовое сообщение отправленное пользователем А
        - assert: В бабле сообщения есть распознанный текст в три строки (может быть больше, в зависимости от размеров окна проверяемого оркужения) и кнопкаа Еще
        - do: Нажать по кнопке Еще
        - assert: Бабл расширяется и видим весь расшифрованный текст
        - do: Открыть любой другой чат
        - assert: Открыто окно чата
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Найти голосовое сообщение, которое отправляли в этом кейсе
        - assert: Распознанный текст у голосового сообщения свернут и есть кнопка Еще

    Состояние развернутости сообщений сохраняется если если был скролл истории чата[manual]:
        - automation:
        - description: Между пользователем А и Б есть приватный/групповой чат
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на микрофон и надиктовать текст на 20 - 30 сек
        - assert: Голосовое сообщение надиктовано
        - do: Нажать на кнопку Отправить
        - assert: |
             Сообщение отправляется и расшифрованный текст в три строки (может быть больше, в зависимости от размеров окна проверяемого оркужения)
             Видим что в бабле сообщения есть кнопка Еще
             Количество расшифрованных символов равно 180 (если символы заканчиваются на середине слова - то это слово не отображается)
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Найти отправленное голосовое сообщение отправленное пользователем А
        - assert: В бабле сообщения есть распознанный текст в три строки (может быть больше, в зависимости от размеров окна проверяемого оркужения) и кнопкаа Еще
        - do: Нажать по кнопке Еще
        - assert: Бабл расширяется и видим весь расшифрованный текст
        - do: Проскроллить историю чата вверх
        - assert: Происходит скролл истории чата
        - do: Проскроллить историю чата обратно к голосовому сообщению
        - assert: Распознанный текст у голосового сообщения отсался развернут

    Показывается прогресс прослушивания, если прослушиваем голосовое сообщение[manual]:
        - automation:
        - description: Между пользователем А и Б есть приватный/групповой чат
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на микрофон и надиктовать текст на 20 - 30 сек
        - assert: Голосовое сообщение надиктовано
        - do: Нажать на кнопку Отправить
        - assert: |
             Сообщение отправляется и расшифрованный текст в три строки (может быть больше, в зависимости от размеров окна проверяемого оркужения)
             Видим что в бабле сообщения есть кнопка Еще
             Количество расшифрованных символов равно 180 (если символы заканчиваются на середине слова - то это слово не отображается)
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на кнопку Play и прослушать голосовое сообщение
        - assert: |
              При прослушивании сообщения кнопка Play меняется на Пауза
              Прокрашивается гистограмма согласно времени прослушивания
              Таймер уменьшается согласно времени прослушивани

    В списке чатов нераспознанное голосовое сообщение отображается с микрофоном и текстом Голосовое сообщение[manual]:
        - automation:
        - description: Между пользователем А и Б есть приватный/групповой чат
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на микрофон и ничего не говорить пару секунд
        - assert: Голосовое сообщение надиктовано
        - do: Нажать на кнопку Отправить
        - assert: Сообщение отправляется и нет расшифровки
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: В списке чатов найти чат из description и посмотреть на превью этого чата
        - assert: Видим - пользователь А (для группового чата), микрофон и текст Голосовое сообщение

    В списке чатов распознанное голосовое сообщение отображается с микрофоном и распознанный текст[manual]:
        - automation:
        - description: Между пользователем А и Б есть приватный/групповой чат
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на микрофон и надиктовать текст на 20 - 30 сек
        - assert: Голосовое сообщение надиктовано
        - do: Нажать на кнопку Отправить
        - assert: |
             Сообщение отправляется и расшифрованный текст в три строки (может быть больше, в зависимости от размеров окна проверяемого оркужения)
             Видим что в бабле сообщения есть кнопка Еще
             Количество расшифрованных символов равно 180 (если символы заканчиваются на середине слова - то это слово не отображается)
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: В списке чатов  найти чат из description и посмотреть на превью этого чата
        - assert: Видим пользователь А (для группового чата), микрофон и распознанный текст в две строки (если не помещается, то обрезается многоточием)

    Можно просмотреть весь распознанный текст голосового сообщения, тапнув по самому тексту сообщения[manual]:
        - automation:
        - description: Между пользователем А и Б есть приватный/групповой чат
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на микрофон и надиктовать текст на 20 - 30 сек
        - assert: Голосовое сообщение надиктовано
        - do: Нажать на кнопку Отправить
        - assert: |
             Сообщение отправляется и расшифрованный текст в три строки (может быть больше, в зависимости от размеров окна проверяемого оркужения)
             Видим что в бабле сообщения есть кнопка Еще
             Количество расшифрованных символов равно 180 (если символы заканчиваются на середине слова - то это слово не отображается)
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Найти отправленное голосовое сообщение отправленное пользователем А
        - assert: В бабле сообщения есть распознанный текст в три строки и кнопка Еще
        - do: Нажать по расшифрованному тексту
        - assert: Бабл расширяется и видим весь расшифрованный текст

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
