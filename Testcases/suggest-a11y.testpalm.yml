feature: Саджест
type: Доступность

specs:
  Роли и семантика подсказок:
    - do: получить выдачу по запросу 'вк'
    - do: кликнуть в поле ввода
    - assert: саджест открылся и виден список подсказок
    - tech: список подсказок должен иметь тэг ul и атрибут role='listbox'
    - assert: видна навигационная подсказка
    - tech: навигационная подсказка должна иметь тэг li и атрибут role='option'
    - tech: навигационная подсказка должна содержать ссылку
    - assert: видна полнотекстовая подсказка
    - tech: полнотекстовая подсказка должна иметь тэг li и атрибут role='option'
    - do: нажать на крестик для очистки поля ввода
    - assert: видна историческая подсказка
    - tech: историческая подсказка должна иметь тэг li и атрибут role='option'
    - do: нажать на крестик для очистки поля ввода
    - do: ввести в поле ввода текст 'масса электрона'
    - assert: видна фактовая подсказка
    - tech: фактовая подсказка должна иметь тэг li и атрибут role='option'
    - assertMetrics: '*'
  Навигация по саджесту:
    - do: получить выдачу по запросу 'тест'
    - do: кликнуть в поле ввода
    - assert: саджест открылся и виден список подсказок
    - tech: id контента попапа должен содержаться в aria-controls инпута
    - do: нажать стрелку вниз
    - tech: первая подсказка должна иметь aria-active установленный в true
    - tech: id первой подсказки должен быть в aria-activedescendant инпута
    - do: нажать стрелку вниз
    - tech: первая подсказка должна иметь aria-active установленный в false
    - assertMetrics: '*'
  Навигационная подсказка:
    - do: получить выдачу по запросу 'вк'
    - do: кликнуть в поле ввода
    - assert: саджест открылся и видна навигационная подсказка
    - tech: в навигационной подсказке присуствует элемент с описанием подсказки
    - tech: в навигационной подсказке должно содержаться локализованное описание "внешняя ссылка"
    - assertMetrics: '*'

files:
  - features/desktop/suggest/suggest-a11y.hermione.js

browsers: chrome-desktop

tags:
  - suggest
  - a11y_serp
  - reviewed
  - no_assessors

v-team: Suggest

priority: high

tlds:
  - ru
  - by
  - ua
  - kz
  - uz
  - com
  - com.tr
