feature: Редактирование цели

specs:
  beforeEach:
    - do: Залогиниться под пользователем user3993
  Положительные:
    1. Добавление/удаление участников (в главных ролях):
      - automation: GOALS-715
      - do: Перейти на страницу "/filter?goal=32827"
      - assert: Открылась страница цели
      - screenshot: Внешний вид страницы цели без участников [todo plain]
      - do: Кликнуть на кнопку "Редактировать цель"
      - assert: Открылась карточка редактирования цели
      - do: Ввести в поле "В главных ролях" значение "user3371", выбрать в саджесте Арнольд Снеговой
      - do: Ввести в поле "В главных ролях" значение "zomb-prj-204", выбрать в саджесте The Kitty
      - do: Ввести в поле "В главных ролях" значение "user3370", выбрать в саджесте Оксана Мидори
      - do: Нажать на кнопку "Сохранить цель"
      - assert: |
          - Карточка редактирования цели закрылась, открылась карточка цели
          - В главных ролях - Арнольд Снеговой, The Kitty, Оксана Мидори
      - screenshot: Внешний вид страницы цели с участниками [todo users-icons]
      - do: Кликнуть на кнопку "Редактировать цель"
      - assert: Открылась карточка редактирования цели
      - do: Очистить поле "В главных ролях"
      - do: Нажать на кнопку "Сохранить цель"
      - assert: |
          - Карточка редактирования цели закрылась, открылась страница цели
          - "В главных ролях" не отображается на карточке цели

  Отрицательные:
    1. Уже добавленных людей нельзя добавить повторно:
      - automation: GOALS-715
      - do: Перейти на страницу "/filter?goal=32828"
      - assert: Открылась страница цели
      - do: Кликнуть на кнопку "Редактировать цель"
      - assert: Открылась карточка редактирования цели
      - do: Ввести в поле "В главных ролях" значение "user3371", выбрать в саджесте Арнольд Снеговой
      - do: Нажать на кнопку "Сохранить цель"
      - assert: |
          - Карточка редактирования цели закрылась, открылась карточка цели
          - В главных ролях отображается только одна иконка пользователя Арнольд Снеговой
      - screenshot: Внешний вид страницы цели с участниками [todo users]
      - do: Кликнуть на кнопку "Редактировать цель"
      - assert: |
          - Открылась карточка редактирования целии
          - В главных ролях отображается только одно имя пользователя Арнольд Снеговой



priority: blocker

tags:
  - reviewed
