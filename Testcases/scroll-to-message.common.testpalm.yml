feature: Подскролл к сообщению


specs:

    Происходит переход к сообщению по линке, если оно не глубоко в истории и мы состоим в данном чате:
        - description: |
              Ссылка для прохождения тест-кейса - https://yandex.ru/chat/#/join/96dc6a87-11c1-4323-8de3-e9bccf10977e/1568294614802023
              Для авторизации пользователем использовать аккаунт yndx-mssngr-50/QazMssngr1
              Пользователь присоединен к чату "Дип-инвайт-линка"
              У пользователя есть чат Сохраненные сообщения
        - do: Авторизоваться пользователем используя аккаунт из description
        - assert: Авторизация прошла успешно, на экране список чатов
        - do: Открыть чат "Сохраненные сообщения" и отправить ссылку из description
        - assert: Открыт чат "Сохраненные сообщения", в нем есть отправленная ранее ссылка из description
        - do: Нажать на ранее отправленную ссылку
        - assert: |
              Происходит переход в чат "Дип-инвайт-линка" и нас скроллит к сообщению с текстом "Президент"
              Сообщение временно выделяется

    Происходит переход к сообщению по линке, если оно не глубоко в истории и мы не состоим в чате:
        - tags: [advanced_smoke]
        - description: |
              Ссылка для прохождения тест-кейса - https://yandex.ru/chat/#/join/96dc6a87-11c1-4323-8de3-e9bccf10977e/1568294614802023
              Для авторизации пользователем использовать аккаунт yndx-mssngr-49/QazMssngr1
              У пользователя есть чат Сохраненные сообщения
        - do: Авторизоваться пользователем используя аккаунт из description
        - assert: Авторизация прошла успешно, на экране список чатов
        - do: Открыть чат "Сохраненные сообщения" и отправить ссылку из description
        - assert: Открыт чат "Сохраненные сообщения", в нем есть отправленная ранее ссылка из description
        - do: Нажать на ранее отправленную ссылку
        - assert: |
              Происходит переход в новый чат "Дип-инвайт-линка" и нас скроллит к сообщению с текстом "Президент"
              Сообщение временно выделяется
        - do: Убедиться, что можно посмотреть предыдущие сообщения и проскролить к самому первому сообщению
        - assert: Можно посмотреть предыдущие сообщения

    Происходит переход к сообщению по линке, если оно глубоко в истории и мы состоим в чате:
        - description: |
              Ссылка для прохождения тест-кейса - https://yandex.ru/chat/#/join/96dc6a87-11c1-4323-8de3-e9bccf10977e/1568291209112023
              Пользователь присоединен к чату "Дип-инвайт-линка"
              Для авторизации пользователем использовать аккаунт yndx-mssngr-50/QazMssngr1
              У пользователя есть чат Сохраненные сообщения
        - do: Авторизоваться пользователем используя аккаунт из description
        - assert: Авторизация прошла успешно, на экране список чатов
        - do: Открыть чат "Сохраненные сообщения" и отправить ссылку из description
        - assert: Открыт чат "Сохраненные сообщения", в нем есть отправленная ранее ссылка из description
        - do: Нажать на ранее отправленную ссылку
        - assert: |
              Происходит переход чат "Дип-инвайт-линка" и нас скроллит к самому первому сообщению с текстом "Первое"
              Сообщение временно выделяется
        - do: Убедиться, что подгрузилась вся история сообщений чата
        - assert: История подгрузилась полностью, просколлив ее, мы видим все сообщения

    Происходит переход к сообщению по линке, если оно глубоко в истории и мы не состоим в чате:
        - description: |
            Ссылка для прохождения тест-кейса - https://yandex.ru/chat/#/join/96dc6a87-11c1-4323-8de3-e9bccf10977e/1568291209112023
            Для авторизации пользователем использовать аккаунт yndx-mssngr-49/QazMssngr1
            У пользователя есть чат Сохраненные сообщения
        - do: Авторизоваться пользователем используя аккаунт из description
        - assert: Авторизация прошла успешно, на экране список чатов
        - do: Открыть чат "Сохраненные сообщения" и отправить ссылку из description
        - assert: Открыт чат "Сохраненные сообщения", в нем есть отправленная ранее ссылка из description
        - do: Нажать на ранее отправленную ссылку
        - assert: |
            Происходит переход в новый чат "Дип-инвайт-линка" и нас скроллит к первому сообщению с текстом "Первое"
            Сообщение временно выделяется
        - do: Поскроллить вверх и вниз
        - assert: Загрузилась история чата, можно посмотреть сообщения

    Происходит переход к сообщению по линке, если оно было удалено и мы состоим в данном чате:
      - description: |
          Ссылка для прохождения тест-кейса - https://yandex.ru/chat/#/join/96dc6a87-11c1-4323-8de3-e9bccf10977e/1568291738761023
          Пользователь присоединен к чату "Дип-инвайт-линка"
          Для авторизации пользователем использовать аккаунт yndx-mssngr-50/QazMssngr1
          У пользователя есть чат Сохраненные сообщения
      - do: Авторизоваться пользователем используя аккаунт из description
      - assert: Авторизация прошла успешно, на экране список чатов
      - do: Открыть чат "Сохраненные сообщения" и отправить ссылку из description
      - assert: Открыт чат "Сохраненные сообщения", в нем есть отправленная ранее ссылка из description
      - do: Нажать на ранее отправленную ссылку
      - assert: |
          Происходит переход в новый чат “Дип-инвайт-линка” и нас скроллит к техническому сообщению "Сообщение было удалено"

    Происходит переход к сообщению по линке, если оно было удалено и мы не состоим в данном чате:
        - description: |
            Ссылка для прохождения тест-кейса - https://yandex.ru/chat/#/join/96dc6a87-11c1-4323-8de3-e9bccf10977e/1568291738761023
            Для авторизации пользователем использовать аккаунт yndx-mssngr-49/QazMssngr1
            У пользователя есть чат Сохраненные сообщения
        - do: Авторизоваться пользователем используя аккаунт из description
        - assert: Авторизация прошла успешно, на экране список чатов.
        - do: Открыть чат "Сохраненные сообщения" и отправить ссылку из description
        - assert: Открыт чат "Сохраненные сообщения", в нем есть отправленная ранее ссылка из description
        - do: Нажать на ранее отправленную ссылку
        - assert: |
            Происходит переход в новый чат “Дип-инвайт-линка” и нас скроллит к техническому сообщению "Сообщение было удалено"

    Подскролл к последнему сообщению:
        - do: Открыть чат по ссылке на одно из сообщений в истории
        - assert: Появилась кнопка подскролла к последнему сообщению
        - do: Нажать на кнопку подскролла к последнему сообщеню
        - assert: Список подскроллился к последнему сообщению
        - assert: Исчезла кнопка подскролла к последнему сообщению

files:
  - tests/hermione/suites/messenger/scrollToMessage/scroll-to-message.common.hermione.ts

v-team: Chat

tlds: ru

tags:
  - yamb
  - y-team
