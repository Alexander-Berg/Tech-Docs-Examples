feature: Недавно отправленные стикеры

specs:

    Нет блока Недавно отправлены, если не отправляли стикер[manual]:
        - automation: MSSNGRFRONT-5342
        - description: |
              У авторизованного пользователя есть приватный/групповой чат
              Аккаунтом еще не отправляли стикер
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Кликнуть ЛКМ/Тапнуть на иконку "смайлика" в поле ввода
        - assert: Появляется панель стикеров
        - do: Убедиться что нет блока "Недавно отправлены" в виде часов
        - assert: Блока нет

    Отображается блок Недавно отправлены, если пользователь отправил стикер[manual]:
        - automation: MSSNGRFRONT-5342
        - description: |
              У авторизованного пользователя есть приватный/групповой чат
              Аккаунтом еще  не отправляли стикер
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Кликнуть ЛКМ/Тапнуть на иконку "смайлика" в поле ввода
        - assert: Появляется панель стикеров
        - do: Кликнуть ЛКМ/Тапнуть на любой стикер из коллекции стикеров
        - assert: Выбранный стикер сразу же отравляется и появляется в окне чата
        - do: Убедиться что в панели стикеров появился блок  “Недавно отправлены”
        - assert: Блок появляется в самом начале перед всеми стикер-паками в виде часов

    В блоке максимальное количество стикеров 20[manual]:
        - automation: MSSNGRFRONT-5342
        - description: |
              У авторизованного пользователя есть приватный/групповой чат
              Аккаунтом еще не отправляли стикер
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Кликнуть ЛКМ/Тапнуть на иконку "смайлика" в поле ввода
        - assert: Появляется панель стикеров
        - do: Отправить в чат 20 разных стикеров
        - assert: Видим в блоке “Недавно отправлены” 20 стикеров
        - do: Отправить еще 1 стикер
        - assert: В блоке “Недавно отправлены” остается 20 стикеров (последний 20 стикер убирается, а новый добавляется в начало)

    Сохраняются данные по блоку "Недавно отправлены" при перелогине[manual]:
        - automation: MSSNGRFRONT-5342
        - description: |
              У авторизованного пользователя есть приватный/групповой чат
              У аккаунта А уже есть блок "Недавно отправлены" в панели стикеров (если нет, то отправить любой стикер в чат)
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Кликнуть ЛКМ/Тапнуть на иконку "смайлика" в поле ввода
        - assert: |
              Появляется панель стикеров
              Есть  блок “Недавно отправлены”
        - do: Вылогиниться и авторизоваться опять пользователем А
        - assert: Авторизованы пользователем А
        - do: Открыть любой чат и открыть раздел "стикеры"
        - assert: В панели стикеров есть блок "Недавно отправлены”

    В блок "Недавно отправлены" не попадают стикеры, присланные собеседниками[manual]:
        - automation: MSSNGRFRONT-5342
        - description: |
              У авторизованного пользователя А есть приватный/групповой чат с собеседником Б
              Аккаунтом еще не отправляли стикер после авторизации
        - do: Под пользователем А запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Собеседником Б отправить в данный чат стикер
        - assert: Стикер отправлен
        - do: Пользоваателем А кликнуть ЛКМ/Тапнуть на иконку "смайлика" в поле ввода
        - assert: Появляется панель стикеров
        - do: Убедиться, что нет блока “Недавно отправлены”
        - assert: Блока нет

    Можно вызвать пак со стикерами, если стикер отправили из блока "Недавно отправлены"[manual]:
        - automation: MSSNGRFRONT-5342
        - description: |
              У авторизованного пользователя есть приватный/групповой чат
              У аккаунта А уже есть блок "Недавно отправлены" в панели стикеров (если нет, то отправить любой стикер в чат)
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Кликнуть ЛКМ/Тапнуть на иконку "смайлика" в поле ввода.
        - assert: Появляется панель стикеров
        - do: Открыть блок "Недавно отправлены"
        - assert: Блок "Недавно отправлены" в панели стикеров был открыт
        - do: Кликнуть ЛКМ/Тапнуть на любой стикер из данного блока
        - assert: Выбранный стикер сразу же отравляется и появляется в окне чата
        - do: Кликнуть ЛКМ/Тапнуть по только что отправленному стикеру в окне чата
        - assert: Вызывается пак со стикерами

    Стикер не удаляется из блока "Недавно отправлены", если пак был удален пользователем[manual]:
        - automation: MSSNGRFRONT-5342
        - description: |
              У авторизованного пользователя есть приватный/групповой чат
              У аккаунта уже есть блок для стикеров "Недавно отправлены" (если нет, то отправить любой  стикер в чат)
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Кликнуть ЛКМ/Тапнуть на иконку "смайлика" в поле ввода
        - assert: Появляется панель стикеров
        - do: Отправить стикер из любого блока
        - assert: Стикер отправлен и появляется в окне чата
        - do: Кликнуть ЛКМ/Тапнуть по только что отправленному стикеру в окне чата
        - assert: Вызывается пак со стикерами
        - do: Кликнуть ЛКМ/Тапнуть по кнопке "Удалить стикеры"
        - assert: |
              Надпись "Удалить стикеры" меняется на "Добавить стикеры"
              Стикерпак удален
        - do: Кликнуть ЛКМ/Тапнуть на иконку "смайлика" в поле ввода
        - assert: Появляется панель стикеров
        - do: Открыть блок "Недавно отправлены"
        - assert: Блок "Недавно отправлены" в панели стикеров был открыт
        - do: Кликнуть ЛКМ/Тапнуть по стикеру в блоке “Недавно отправлены”, стикер-пак которого удалили
        - assert: Стикер отправляется и корректно отображается в окне чат

    После отправки любого стикера, он становится на первое место в блоке "Недавно отправлены"[manual]:
        - automation: MSSNGRFRONT-5342
        - description: |
              У авторизованного пользователя есть приватный/групповой чат
              У пользователя есть более 1 стикерпака
              Аккаунтом еще не отправляли стикер
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Кликнуть ЛКМ/Тапнуть на иконку "смайлика" в поле ввода
        - assert: Появляется панель стикеров
        - do: Отправить в чат 10 разных стикеров
        - assert: Все стикеры отправлены и корректно отображются в окне чата
        - do: Открыть панель стикеров и блок "Недавно отправлены"
        - assert: Видим в блоке “Недавно отправлены” 10 стикеров
        - do: Отправить в чат стикер из стикерпака (не из блока "Недавно отправлены" ) и открыть блок "Недавно отправлены"
        - assert: |
              Стикер отправился в чат
              Стикер отображается первым в блоке “Недавно отправлены”
        - do: Отправить в чат первый стикер из блока “Недавно отправлены” и посмотреть на блок “Недавно отправлены”
        - assert: |
              Стикер отправился в чат
              Стикер отображается первым в блоке “Недавно отправлены”
        - do: Отправить в чат последний стикер из блока “Недавно отправлены” и посмотреть на блок “Недавно отправлены”
        - assert: |
              Стикер отправился в чат
              Стикер отображается первым в блоке “Недавно отправлены”

    Корректно работает перестановка стикеров, отправляемых из блока "Недавно отправлены"[manual]:
        - tags: [advanced_smoke]
        - automation: MSSNGRFRONT-5342
        - description: |
              У авторизованного пользователя есть приватный/групповой чат
              У пользователя есть более 1 стикерпака
              У аккаунта уже есть блок для стикеров “Недавно отправлены” (если нет, то отправить 10 стикеров в чат)
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Кликнуть ЛКМ/Тапнуть на иконку "смайлика" в поле ввода
        - assert: Появляется панель стикеров
        - do: Открыть блок "Недавно отправлены" в виде часов и кликнуть ЛКМ/тапнуть на второй стикер из блока
        - assert: Стикер отправился в чат
        - do: Кликнуть ЛКМ/Тапнуть на иконку "смайлика" и открыть блок "Недавно отправлены"
        - assert: |
              Блок "Недавно отправлены" открылся
              Первый и второй стикеры меняются местами
              Остальные стикеры остались на месте
        - do: Кликнуть ЛКМ/Тапнуть на иконку "смайлика" и открыть блок "Недавно отправлены"
              Блок "Недавно отправлены" открылся
        - do: Кликнуть ЛКМ/Тапнуть на 7 стикер из блока “Недавно отправлены”
        - assert: Стикер отправился в чат
        - do: Кликнуть ЛКМ/Тапнуть на иконку "смайлика" и открыть блок "Недавно отправлены"
        - assert: |
              Блок "Недавно отправлены" открылся
              Отправленный стикер становится первым,
              8-10 остались на месте
              Cтикеры между 2 и 6 смещаются на один

    Коректно работает блок "Недавно отправлены" без интернета[manual]:
        - automation: MSSNGRFRONT-5342
        - description: |
              У авторизованного пользователя есть приватный/групповой чат
              У пользователя есть более 1 стикерпака
              Аккаунтом еще не отправляли стикер
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Кликнуть ЛКМ/Тапнуть на иконку "смайлика" в поле ввода
        - assert: Появляется панель стикеров
        - do: Убедиться что нет блока “Недавно отправлены”
        - assert: Блока нет
        - do: Выключить интернет на устройстве
        - assert: Нет сети
        - do: Кликнуть ЛКМ/Тапнуть на любой стикер из коллекции стикеров
        - assert: Выбранный стикер появляется в окне чата, но не отправляется
        - do: Убедиться, что появился блок “Недавно отправлены”
        - assert: |
              Блок появляется в самом начале перед всеми стикер-паками
              В блоке находится 1 стикер, отправленный в предыдущем шаге
        - do: Отправить в чат другой стикер
        - assert: |
              Стикер появляется в окне чата, но не отправляется
              Первый и второй стикеры меняются местами
        - do: Отправить в чат 20 разных стикеров
        - assert: Видим в блоке “Недавно отправлены” 20 стикеров
        - do: Отправить еще 1 стикер
        - assert: |
              В блоке “Недавно отправлены” остается 20 стикеров
              Последний 20 стикер убирается, а новый добавляется в начало

    Стикеры в блоке "Недавно отправлены" не повторяются[manual]:
        - automation: MSSNGRFRONT-5342
        - description: |
              У авторизованного пользователя есть приватный/групповой чат
              У пользователя есть стикерпаки
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Кликнуть ЛКМ/Тапнуть на иконку "смайлика" в поле ввода
        - assert: Появляется панель стикеров
        - do: Отправить в чат несколько раз один и тот же стикер
        - assert: В окне чата отображаются 2 одинаковых сообщения со стикерами
        - do: Посмотреть блок Недавно отправлены
        - assert: В блоке недавно отправлены, отображается один стикер из одинаковых отправленных

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
