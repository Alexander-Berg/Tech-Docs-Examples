feature:  Сторисы
type: с колонкой и УД

files:
  - tests/hermione/suites/touch/newsfeed/news-feed-all.hermione.js

tags:
    - https://testpalm.yandex-team.ru/alice/testcases/3107
    - release_Webview
    - platform_ios
    - platform_android

specs:
    beforeEach:
      - do: Добавить на аккаунт устройство УД
      - do: Добавить колонку

    Лента сторей:
        - tags: webview_regress
        - do: Открыть список устройств
        - screenshot: Отображаются сторисы в правильном порядке [newsfeed]

    Кнопка Все новости:
        - tags: webview_regress
        - do: Проскроллить ленту сторей
        - assert: В конце ленты кнопка Все новости
        - do: Тапнуть на кнопку
        - screenshot: Отображаются все сторисы в правильном порядке [all-news]

    Анимация открытия [manual]:
        - tags: webview_regress
        - do: Открыть любую сторю из ленты
        - assert: Сторя открывается с плавной анимацией, не дёргается

    Возможно перейти на следующую сторю [manual]:
        - tags: webview_regress
        - do: Открыть любую сторю из ленты
        - do: Тапнуть на картинку чуть правее от центра несколько раз
        - assert: Стори перелистываются на следующую с плавной анимацией
        - do: Перелистнуть сторю свайпом справа налево несколько раз
        - assert: Стори перелистываются на следующую с плавной анимацией

    Сторя отображается просмотренной:
        - tags: webview_regress
        - do: Открыть любую сторю из ленты
        - do: Тапнуть на крестик в правом углу
        - assert: Страница закрылась, просмотренные сторисы отображаются без фиолетовой обводки

    Что нового:
        - tags: webview_regress
        - do: Тапнуть на Что нового
        - screenshot: Отображается сторя Добро пожаловать [whatsnew-1]
        - do: Тапнуть на картинку чтобы пролисталась сторя
        - screenshot: Отображается сторя До сценария один клик [whatsnew-2]
        - do: Тапнуть на картинку чтобы пролисталась сторя
        - screenshot: Отображается сторя Любимые устройства [whatsnew-3]
        - do: Тапнуть на картинку чтобы пролисталась сторя
        - screenshot: Отображается сторя Разные фоны [whatsnew-4]
        - do: Тапнуть на картинку чтобы пролисталась сторя
        - screenshot: Отображается сторя А ещё темная тема с кнопкой [whatsnew-5]
        - assert: Тап на `Выбрать тему и фон` ведет в настройки оформления

    Что нового в сценариях:
        - tags: webview_regress
        - do: Тапнуть на Что нового в сценариях и пролистать до последней стори
        - screenshot: Отображается сторя Одно устройство - нексколько команд [newscenario-1]
        - screenshot: Отображается сторя Пауза между действиями [newscenario-2]
        - screenshot: Отображается сторя Больше навыков у колонок с кнопкой [newscenario-3]
        - assert: Тап на `Создать сценарий` ведет на экран создания нового сценария

    Сценарий создаётся после перехода со стори [manual]:
        - tags: webview_regress
        - do: Тапнуть на Что нового в сценариях и пролистать до последней стори,
        - do: Тапнуть на `Создать сценарий`
        - assert: Открывается экран создания нового сценария
        - do: Создать любой сценарий, сохранить
        - assert: Сценарий сохранился, отображается в списке

    Когда важно не шуметь:
        - do: Тапнуть на сторю Когда важно не шуметь
        - screenshot: Отображается сторя без кнопки [whisper]

    Соберите тандем - с одним модулем:
        - tags: webview_regress
        - do: Добавить на аккаунт модуль (должен быть только 1 модуль)
        - do: Тапнуть на сторю Соберите тандем
        - screenshot: Отображается сторя c кнопкой [tandem-1]
        - assert: Тап на кнопку ведёт в настройки тандема с модулем

    Соберите тандем - больше одного модуля:
        - do: Добавить на аккаунт больше 1 модуля
        - do: Тапнуть на сторю Соберите тандем
        - screenshot: Отображается сторя без кнопки [tandem-2]

    Эквалайзер:
        - do: Тапнуть на сторю Настройте эквалайзер
        - screenshot: Отображается сторя [equalizer]

    Пульт от музыки:
        - do: Тапнуть на сторю Пульт от музыки
        - screenshot: Отображается сторя [muspult-1]
        - do: Перейти на следующую сторю
        - screenshot: Отображается сторя с кнопкой [muspult-2]
        - assert: При установленном приложении Я.Музыки открывается плейлист с видеошотами (https://music.app.link/0GDkApJamjb) и сразу запускается первый трек; При не установленной Я.Музыке ссылка ведет на AppStore/Google Play; Оба варианта ок

    Дома:
        - do: Тапнуть на сторю Все по домам
        - screenshot: Отображается сторя [households]

    Уведомления:
        - do: Тапнуть на сторю Расскажу о новом
        - screenshot: Отображается сторя с кнопкой [notifications-1]
        - assert: Тап на Настроить уведомления ведёт на страницу настроек уведомлений
        - do: Вернуться назад, тапнуть на картинку
        - screenshot: Отображается следующая сторя с кнопкой [notifications-2]
        - assert: Тап на Настроить уведомления ведёт на страницу настроек уведомлений

    Лампочка:
        - do: Тапнуть на сторю Волшебная лампа
        - screenshot: Отображается сторя [lamp]

    Группы колонок:
        - automation: QUASARUI-2883
        - do: Тапнуть на сторю Группы колонок
        - screenshot: Отображается сторя с кнопкой [multiroom]
        - assert: Тап на кнопку ведёт на страницу создания группы

    Расписания:
        - do: Тапнуть на сторю Расписания
        - screenshot: Отображается сторя с кнопкой [timetable-1]
        - assert: Тап на Настроить расписание ведёт на страницу создания сценария
        - do: Вернуться назад, тапнуть на картинку
        - screenshot: Отображается следующая сторя с кнопкой [timetable-2]
        - assert: Тап на Настроить расписание ведёт на страницу создания сценария

    Как там дома:
        - do: Тапнуть на сторю Как там дома
        - screenshot: Отображается сторя [voice-status]

    Команды с таймером:
        - do: Тапнуть на сторю Команды с таймером
        - screenshot: Отображается сторя [timer-1]
        - do: Тапнуть на картинку
        - screenshot: Отображается следующая сторя [timer-2]

    Сценарии:
        - do: Тапнуть на сторю Одна фраза для всего
        - screenshot: Отображается сторя с кнопкой [scenario]
        - assert: Тап на Создать сценарий ведёт на страницу создания сценария

    Музыка:
        - do: Тапнуть на сторю Получайте от Музыки максимум удовольствия
        - screenshot: Отображается сторя Признайтесь что вы любите [music-1]
        - do: Тапнуть на картинку чтобы пролисталась сторя
        - screenshot: Отображается сторя Концерт любимой музыки [music-2]
        - do: Тапнуть на картинку чтобы пролисталась сторя
        - screenshot: Отображается сторя Ничего если забыли название [music-3]
        - do: Тапнуть на картинку чтобы пролисталась сторя
        - screenshot: Отображается сторя Музыка под настроение [music-4]
        - do: Тапнуть на картинку чтобы пролисталась сторя
        - screenshot: Отображается сторя Слушайте что нравится [music-5]
        - do: Тапнуть на картинку чтобы пролисталась сторя
        - screenshot: Отображается сторя Весь вечер на повторе [music-6]
        - do: Тапнуть на картинку чтобы пролисталась сторя
        - screenshot: Отображается сторя Сладких снов [music-7]

    Будильники:
        - do: Тапнуть на сторю Вставайте с той ноги
        - screenshot: Отображается сторя Просыпайтесь вовремя [alarm-1]
        - do: Тапнуть на картинку чтобы пролисталась сторя
        - screenshot: Отображается сторя Начините день с музыки [alarm-2]
        - do: Тапнуть на картинку чтобы пролисталась сторя
        - screenshot: Отображается сторя Расслабьтесь перед сном [alarm-3]
        - do: Тапнуть на картинку чтобы пролисталась сторя
        - screenshot: Отображается сторя Колонка тоже может уснуть [alarm-4]

    Таймеры и дела:
        - do: Тапнуть на сторю Таймеры, списки дел и покупок
        - screenshot: Отображается сторя Как не сжечь пирог [timer-1]
        - do: Тапнуть на картинку чтобы пролисталась сторя
        - screenshot: Отображается сторя Как ничего не забыть [timer-2]
        - do: Тапнуть на картинку чтобы пролисталась сторя
        - screenshot: Отображается сторя Как планировать покупки [timer-3]

    Новости и шоу:
        - do: Тапнуть на сторю Новости и шоу Алисы
        - screenshot: Отображается сторя про Утреннее шоу [show-1]
        - do: Тапнуть на картинку чтобы пролисталась сторя
        - screenshot: Отображается сторя Темы и новости с кнопкой [show-2]
        - assert: Тап на Настроить шоу Алисы ведёт на страницу настроек шоу

    Навыки:
        - do: Тапнуть на сторю Тысячи навыков
        - screenshot: Отображается сторя про навыки с кнопкой [skills]
        - assert: Тап на Перейти в каталог навыков ведёт на сайт Яндекс Диалоги во внешнем браузере со списком навыков Алисы

    Биометрия:
        - do: Тапнуть на сторю Только ваша
        - screenshot: Отображается сторя про запоминание голоса [biometry]

    Детский режим:
        - do: Тапнуть на сторю Если у вас есть дети
        - screenshot: Отображается сторя про настройки режима поиска с кнопкой [child-mode]
        - assert: Тап на Перейти в настройки ведёт на настройки режимов поиска

