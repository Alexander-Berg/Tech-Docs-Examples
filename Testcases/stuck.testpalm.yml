feature: Эксперименты

specs:
    Залипание:
        beforeEach:
            - do: перейти по адресу "/"
            - do: дождаться появления жучка
            - do: нажать на иконку жука
            - do: кликнуть на вкладку Эксперименты
            - do: дождаться открытия вкладки Залипание в "Эксперименты"

        Количество экспериментов на старте:
            - assert: Не должно быть экспериментов

        Залипнуть в чистом яндексе:
            - do: ввести в поле ввода "Чистый Яндекс"
            - assert: чистый яндекс должен отображаться в общем списке экспериментов
            - do: нажать на кнопку залипнуть у чистого яндекса
            - assert: |
                  чистый яндекс должен быть в куке залипнутых экспериментов
                  чистый яндекс должен отображаться в списке залипнутых экспериментов
                  чистый яндекс не должен отображаться в общем списке экспериментов
        
        Отлипнуть от чистого яндекса:
            - do: ввести в поле ввода "Чистый Яндекс"
            - assert: должна появиться кнопка "залипнуть" у чистого яндекса
            - do: нажать на кнопку "залипнуть" у чистого яндекса
            - assert: |
                  чистый яндекс должен быть в куке залипнутых экспериментов
                  чистый яндекс должен отображаться в списке залипнутых экспериментов
            - do: нажать на кнопку отлипнуть у чистого яндекса
            - assert: |
                  чистый яндекс не должен быть в куке залипнутых экспериментов
                  чистый яндекс не должен отображаться в списке залипнутых экспериментов
                  чистый яндекс должен отображаться в общем списке экспериментов
      
        Отлипнуть от всех:
            - do: ввести в поле ввода "1"
            - assert: должен отображаться список экспериментов
            - do: залипнуть в первом эксперименте
            - do: залипнуть в третьем эксперименте
            - do: залипнуть в последнем эксперименте
            - assert: должен отображаться список залипнутых экспериментов
            - do: нажать на кнопку отлипнуть
            - assert: |
                  список залипнутых экспериментов не должен отображаться
                  в куке залипнутых экспериментов не должно быть ничего

        Скрыть залипнутые эксперименты:
            - do: ввести в поле ввода "1"
            - do: залипнуть в первом отображаемом эксперименте
            - do: дождаться появления списка залипнутых экспериментов
            - do: нажать кнопку "Скрыть залипнутые эксперименты"
            - assert: список залипнутых экспериментов не должен отображаться

        Показать залипнутые эксперименты:
            - do: ввести в поле ввода "1"
            - do: запомнить id первого эксперимента
            - do: залипнуть в первом отображаемом эксперименте
            - do: дождаться появления списка залипнутых экспериментов
            - do: нажать кнопку "Скрыть залипнутые эксперименты"
            - assert: список залипнутых экспериментов не должен отображаться
            - do: нажать кнопку "Показать залипнутые эксперименты"
            - assert: список залипнутых экспериментов должен отображаться
            - do: получить id эксперимента в списке залипнутых
            - assert: запомненный в начале id должен совпадать с полученным 


v-team: Butterfly

files:
    - tests/hermione/suites/common/tabs/AB/stuck.hermione.js
