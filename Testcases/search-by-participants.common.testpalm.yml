feature: Поиск по участникам

specs:

    Поиск доступен для администратора чата[manual]:
        - tags: [advanced_smoke]
        - automation:
        - description: |
              Пользователь А yndx-mssngr-940 / QazMssngr1
              Пользователь Б yndx-mssngr-831 / QazMssngr1
              Между пользователями А и Б есть групповой чат "Проверка поиска участников в чате", где пользователь А является администратором чата
        - do: Авторизоваться пользователем А, введя корректные логин/пароль и открыть список чатов
        - assert: |
              Авторизация прошла успешно
              Открыт список чатов
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на шапку чата
        - assert: Открыта карточка чата
        - do: Нажать на блок "Участники"
        - assert: |
              Открыт экран "Участники"
              Есть поле ввода для поиска участников чата

    Поиск доступен для участников чата[manual]:
        - tags: [advanced_smoke]
        - automation:
        - description: |
              Пользователь А yndx-mssngr-940 / QazMssngr1
              Пользователь Б yndx-mssngr-831 / QazMssngr1
              Между пользователями А и Б есть групповой чат "Проверка поиска участников в чате", где пользователь Б является участником чата
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль и открыть список чатов
        - assert: |
              Авторизация прошла успешно
              Открыт список чатов
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на шапку чата
        - assert: Открыта карточка чата
        - do: Нажать на блок "Участники"
        - assert: |
              Открыт экран "Участники"
              Есть поле ввода для поиска участников чата

    Плейсхолдер в поле поиска верный для чата [manual]:
        - automation:
        - description: |
              Пользователь А yndx-mssngr-940 / QazMssngr1
              Пользователь Б yndx-mssngr-831 / QazMssngr1
              Между пользователями А и Б есть групповой чат "Проверка поиска участников в чате", где пользователь А является администратором чата
        - do: Авторизоваться пользователем А, введя корректные логин/пароль и открыть список чатов
        - assert: |
              Авторизация прошла успешно
              Открыт список чатов
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на шапку чата
        - assert: Открыта карточка чата
        - do: Нажать на блок "Участники"
        - assert: |
              Открыт экран "Участники"
              Есть поле ввода для поиска участников чата
        - do: Убедиться что плейсхолдер в поле поиска верный
        - assert: Плейсхолдер в поле ввода "Поиск"

    Поиск начинает работать с одного символа[manual]:
        - automation:
        - description: |
              Пользователь А yndx-mssngr-940 / QazMssngr1
              Пользователь Б yndx-mssngr-831 / QazMssngr1
              Между пользователями А и Б есть групповой чат "Проверка поиска участников в чате", где пользователь А является администратором чата
        - do: Авторизоваться пользователем А, введя корректные логин/пароль и открыть список чатов
        - assert: |
              Авторизация прошла успешно
              Открыт список чатов
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на шапку чата
        - assert: Открыта карточка чата
        - do: Нажать на блок "Участники"
        - assert: |
              Открыт экран "Участники"
              Есть поле ввода для поиска участников чата
        - do: В поле поиска и ввести первый символ из имени одного из участников чата
        - assert: Происходит поиск и показывается выдача по поиску

    Участник отображается в группе Администраторы, если он является администратор чата[manual]:
        - automation:
        - description: |
              Пользователь А yndx-mssngr-940 / QazMssngr1
              Пользователь Б yndx-mssngr-831 / QazMssngr1
              Между пользователями А и Б есть групповой чат "Проверка поиска участников в чате", где пользователь А является администратором чата
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль и открыть список чатов
        - assert: |
              Авторизация прошла успешно
              Открыт список чатов
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на шапку чата
        - assert: Открыта карточка чата
        - do: Нажать на блок "Участники"
        - assert: |
              Открыт экран "Участники"
              Есть поле ввода для поиска участников чата
        - do: В поле поиска и ввести имя администратора чата
        - assert: Поиск отдает результат, где исковый участник отображается в группе Администраторы

    Участник отображается в группе Участники, если он является участником чата[manual]:
        - automation:
        - description: |
              Пользователь А yndx-mssngr-940 / QazMssngr1
              Пользователь Б yndx-mssngr-831 / QazMssngr1
              Между пользователями А и Б есть групповой чат "Проверка поиска участников в чате", где пользователь А является администратором чата
        - do: Авторизоваться пользователем А, введя корректные логин/пароль и открыть список чатов
        - assert: |
              Авторизация прошла успешно
              Открыт список чатов
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на шапку чата
        - assert: Открыта карточка чата
        - do: Нажать на блок "Участники"
        - assert: |
              Открыт экран "Участники"
              Есть поле ввода для поиска участников чата
        - do: В поле поиска и ввести имя пользователя Б
        - assert: Поиск отдает результат, где исковый участник отображается в группе Участники

    При нажатии по найденному контакту, происходит переход в карточку контакта[manual]:
        - automation:
        - description: |
              Пользователь А yndx-mssngr-940 / QazMssngr1
              Пользователь Б yndx-mssngr-831 / QazMssngr1
              Между пользователями А и Б есть групповой чат "Проверка поиска участников в чате", где пользователь А является администратором чата
        - do: Авторизоваться пользователем А, введя корректные логин/пароль и открыть список чатов
        - assert: |
              Авторизация прошла успешно
              Открыт список чатов
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на шапку чата
        - assert: Открыта карточка чата
        - do: Нажать на блок "Участники"
        - assert: |
              Открыт экран "Участники"
              Есть поле ввода для поиска участников чата
        - do: В поле поиска и ввести имя пользователя Б
        - assert: Поиск отдает результат, где исковый участник отображается в группе Участники
        - do: Нажать по найденному контакту
        - assert: Открывается карточка данного пользователя

    Ранее введенный запрос можно удалить по кнопке X[manual]:
        - automation:
        - description: |
              Пользователь А yndx-mssngr-940 / QazMssngr1
              Пользователь Б yndx-mssngr-831 / QazMssngr1
              Между пользователями А и Б есть групповой чат "Проверка поиска участников в чате", где пользователь А является администратором чата
        - do: Авторизоваться пользователем А, введя корректные логин/пароль и открыть список чатов
        - assert: |
              Авторизация прошла успешно
              Открыт список чатов
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на шапку чата
        - assert: Открыта карточка чата
        - do: Нажать на блок "Участники"
        - assert: |
              Открыт экран "Участники"
              Есть поле ввода для поиска участников чата
        - do: В поле поиска и ввести имя пользователя Б
        - assert: Поиск отдает результат, где исковый участник отображается в группе Участники
        - do: Нажать по кнопке Х
        - assert: |
              Запрос с результатами поиска очищается
              Отображается весь список контактов

    Список найденных участников можно проскроллить, если это позволят выдача[manual]:
        - automation:
        - description: |
              Пользователь А yndx-mssngr-940 / QazMssngr1
              Пользователь Б yndx-mssngr-831 / QazMssngr1
              Между пользователями А и Б есть групповой чат "Проверка поиска участников в чате", где пользователь А является администратором чата
        - do: Авторизоваться пользователем А, введя корректные логин/пароль и открыть список чатов
        - assert: |
              Авторизация прошла успешно
              Открыт список чатов
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на шапку чата
        - assert: Открыта карточка чата
        - do: Нажать на блок "Участники"
        - assert: |
              Открыт экран "Участники"
              Есть поле ввода для поиска участников чата
        - do: Ввести запрос, чтобы по нему выдало N результатов
        - assert: Выдано N результатов
        - do: Проскроллить их
        - assert: Результаты можно проскроллить и при скролле нет артефактов

    Корректный экран поиска, если ничего не найдено[manual]:
        - automation:
        - description: |
              Пользователь А yndx-mssngr-940 / QazMssngr1
              Пользователь Б yndx-mssngr-831 / QazMssngr1
              Между пользователями А и Б есть групповой чат "Проверка поиска участников в чате", где пользователь А является администратором чата
        - do: Авторизоваться пользователем А, введя корректные логин/пароль и открыть список чатов
        - assert: |
              Авторизация прошла успешно
              Открыт список чатов
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на шапку чата
        - assert: Открыта карточка чата
        - do: Нажать на блок "Участники"
        - assert: |
              Открыт экран "Участники"
              Есть поле ввода для поиска участников чата
        - do: В поле поиска ввести запрос, на который бекенд точно не отдаст выдачу, например, несколько спецсимволов 
        - assert: Показывается корректный экран когда ничего не найдено

    Поиск доступен для администратора канала[manual]:
        - automation:
        - description: |
              Пользователь А yndx-mssngr-940 / QazMssngr1
              Пользователь Б yndx-mssngr-831 / QazMssngr1
              Между пользователями А и Б есть канал "Канал проверки персональной ссылки №3", где пользователь А является администратором канала
        - do: Авторизоваться пользователем А, введя корректные логин/пароль и открыть список чатов
        - assert: |
              Авторизация прошла успешно
              Открыт список чатов
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Нажать на шапку канала
        - assert: Открыта карточка канала
        - do: Нажать на "Подписчики и администраторы"
        - assert: |
              Открыт экран "Подписчики и администраторы"
              Есть поле ввода для поиска участников канала

    Поиск не доступен для подписчиков канала[manual]:
        - automation:
        - description: |
              Пользователь А yndx-mssngr-940 / QazMssngr1
              Пользователь Б yndx-mssngr-831 / QazMssngr1
              Между пользователями А и Б есть канал "Канал проверки персональной ссылки №3", где пользователь Б является администратором канала
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль и открыть список чатов
        - assert: |
              Авторизация прошла успешно
              Открыт список чатов
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Нажать на шапку канала
        - assert: Открыта карточка канала
        - do: Найти в карточке канала есть пункт "Подписчики и администраторы"
        - assert: В карточке канала нет пункта "Подписчики и администраторы"

    Плейсхолдер в поле поиска верный для канала[manual]:
        - automation:
        - description: |
              Пользователь А yndx-mssngr-940 / QazMssngr1
              Пользователь Б yndx-mssngr-831 / QazMssngr1
              Между пользователями А и Б есть канал "Канал проверки персональной ссылки №3", где пользователь А является администратором канала
        - do: Авторизоваться пользователем А, введя корректные логин/пароль и открыть список чатов
        - assert: |
              Авторизация прошла успешно
              Открыт список чатов
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Нажать на шапку канала
        - assert: Открыта карточка канала
        - do: Нажать на "Подписчики и администраторы"
        - assert: |
              Открыт экран "Подписчики и администраторы"
              Есть поле ввода для поиска участников канала
              Плейсхолдер в поле ввода - "Поиск"

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
    - chamb

