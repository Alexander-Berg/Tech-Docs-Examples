feature: БНО с галереей статей

params:
  foreverdata: '2018211497'

specs:
  beforeEach:
    - do: получить выдачу по запросу 'foreverdata'
    - assert: появился сниппет с галереей статей и БНО
  Внешний вид:
    - screenshot: БНО с сайтлинками и с галереей статей [plain]
    - assertMetrics: '*'
  Проверка заголовка и гринурла:
    - assert: проверить ссылку в заголовке
    - tech: проверить счётчик в заголовке
    - assert: проверить ссылку в гринурле
    - tech: проверить счётчик в гринурле
    - assertMetrics: '*'
  Проверка сайтлинков:
    - assert: проверить ссылку на первом сайтлинке
    - tech: проверить счётчик на первом сайтлинке
    - assertMetrics: '*'
  Проверка счетчиков и ссылок в галерее:
    - do: кликнуть на тумбe первого элемента галереи
    - assert: открылась выбранная новость
    - tech: проверить счётчик на тумбe первого элемента галереи
    - do: кликнуть на тайтл первого элемента галереи
    - assert: открылась выбранная новость
    - tech: проверить счётчик на тайтл первого элемента галереи
    - do: кликнуть на гринурл первого элемента галереи
    - assert: открылся сайт-источник новостей
    - tech: проверить счётчик на гринурле первого элемента галереи
    - do: проскроллить галерею до последнего элемента
    - do: кликнуть на 'еще на сайте'
    - assert: открылся сайт сайт-источник новостей
    - tech: проверить счётчик в последнем элементе галереи 'еще на сайте'
    - do: проскроллить галерею обратно
    - assert: скролл галереи работает
    - do: проскроллить галерею до конца
    - assert: видна ссылка 'еще на сайте'
    - screenshot: ссылка 'еще на сайте' [arrow]
    - assertMetrics: '*'

specs-integration:
  Присутствует на странице:
    - do: получить выдачу по запросу 'новая газета'
    - assert: появился сниппет с галереей статей и БНО
    - counter: /$page/$main/$result/bno/showcase/item/thumb

files:
  - features/bno-media/bno-media@desktop.hermione.js
  - features/bno-media/bno-media@desktop.hermione.e2e.js

v-team: Beauty

tlds:
  - ru
  - ua
  - by
  - kz
  - uz
  - com.tr
  - com
