feature: Специальные события
type: Биатлон

specs:
  Основные проверки:
    params:
      foreverdata: '4230772974'
    beforeEach:
      - do: получить выдачу по запросу "foreverdata"
      - assert: получена выдача по указанному запросу
      - assert: на выдаче присутствует колдунщик кубка мира по биатлону
      - assert: под тайтлом присутствует информация о сезоне, этапе и дате проведения
      - assert: в шапке колдунщика присутствуют табы "Результаты", "Расписание", "Лидеры сезона" (Также в табе "Результаты" может отображаться название гонки такое как масс-старт, спринт или преследование)
      - screenshot: примерный внешний вид [special-event_type_sport-biathlon-{{SET_NAME}} >> plain]
    Внешний вид:
      - label: special-event_type_sport-biathlon-{{SET_NAME}}
      - screenshot: примерный внешний вид [plain]
    Внешний вид - горизонтальная ориентация:
      - do: поверните телефон в горизонтальную ориентацию
      - screenshot: примерный внешний вид [landscape]
    Результаты - листалка и переход:
      - do: клик в листалку "Вправо" в нижней части таблицы "Результаты"
      - assert: страница таблицы изменилась
      - assert: содержимое таблицы изменилось
      - tech: сработал счетчик '/$page/$main/$result/tabs/pane/sport-table/pager/next[@behaviour@type="dynamic"]'
      - do: клик в имя первого спортсмена в списке
      - assert: в поисковой строке отображается имя выбранного спортсмена
      - assert: получена поисковая выдача по указанному спортсмену
      - tech: сработал счетчик '/$page/$main/$result/tabs/pane/sport-table/body/standings'
    Результаты - таб и переход:
      - assert: под табами "Результаты", "Расписание", "Лидеры сезона" присутствуют табы "Мужчины" и "Женщины"
      - assert: один из табов активен
      - do: клик в неактивный таб
      - assert: значение активного таба изменилось
      - tech: сработал счетчик '/$page/$main/$result/tabs/pane/sport-table/pager/next[@behaviour@type="dynamic"]'
      - assert: содержимое таблицы изменилось
      - do: клик в имя первого спортсмена в списке
      - assert: в поисковой строке отображается имя выбранного спортсмена
      - assert: получена поисковая выдача по указанному спортсмену
      - tech: сработал счетчик '/$page/$main/$result/tabs/pane/sport-table/body/standings'
    Расписание - переход:
      - do: клик в таб "Расписание"
      - assert: отображается таблица с расписанием гонок
      - do: клик в дату в первой колонке
      - assert: в поисковой строке отображается название гонки
      - assert: получена поисковая выдача по заданному запросу
      - tech: сработал счетчик '/$page/$main/$result/tabs/pane/sport-table/body/standings'
    Лидеры сезона - листалка и переход:
      - do: клик в таб "Лидеры сезона"
      - assert: отображается таблица со спортсменами
      - tech: сработал счетчик '/$page/$main/$result/tabs/controls/radio-button/"tab/table"[@behaviour@type="dynamic"]'
      - do: клик в листалку "Вправо" в нижней части таблицы "Лидеры сезона"
      - assert: страница таблицы изменилась
      - assert: содержимое таблицы изменилось
      - tech: сработал счетчик '/$page/$main/$result/tabs/pane/sport-table/pager/next[@behaviour@type="dynamic"]'
      - do: клик в имя первого спортсмена в списке
      - assert: в поисковой строке отображается имя выбранного спортсмена
      - assert: получена поисковая выдача по указанному спортсмену
      - tech: сработал счетчик '/$page/$main/$result/body/standings'
    Лидеры сезона - таб и переход:
      - assert: под табами "Результаты", "Лидеры сезона" присутствуют табы "Мужчины" и "Женщины"
      - do: клик в таб "Лидеры сезона"
      - assert: отображается таблица со спортсменами
      - tech: сработал счетчик '/$page/$main/$result/tabs/controls/radio-button/"tab/table"[@behaviour@type="dynamic"]'
      - assert: один из табов ("Мужчины" или "Женщины") активен
      - do: клик в неактивный таб
      - assert: значение активного таба изменилось
      - assert: содержимое таблицы изменилось
      - tech: сработал счетчик '/$page/$main/$result/tabs/pane/sport-table/tabs/controls'
      - do: клик в имя первого спортсмена в списке
      - assert: в поисковой строке отображается имя выбранного спортсмена
      - assert: получена поисковая выдача по указанному спортсмену
      - tech: сработал счетчик '/$page/$main/$result/body/standings'

#specs-integration:
#  Основные проверки:
#    - tags: no_assessors
#    - do: получить выдачу по запросу "кубок мира по биатлону" (также можно попробовать "биатлон антерсельва 2020" или "биатлон поклюка 2020") _ALTERNATIVE_SEARCH_QUERIES_
#    - assert: на выдаче присутствует колдунщик по биатлону
#    - assert: в верхнем части колдунщика присутствует название
#    - assert: колдунщик биатлона не пуст

tags:
  - sport
  - reviewed
  - biathlon

files:
  - features/touch-phone/adapter-special-event/adapter-special-event_type_sport/adapter-special-event_type_sport-biathlon.hermione.js
  - features/adapter-special-event/adapter-special-event_type_sport-biathlon/adapter-special-event_type_sport-biathlon@common.hermione.e2e.js

v-team: Sport

counter: /$page/$main/$result[@wizard_name="special/event" and @subtype="sport/biathlon"]/title

tlds:
  - ru
  - by
  - ua
  - kz
  - uz
