feature: Колдунщик картинок

specs:
  beforeEach:
    - do: получить выдачу по запросу 'природа'
    - assert: появился колдунщик яндекс картинок
   # - screenshot: на выдаче появился колдунщик Яндекс.Картинок (запрос и картинки могут отличаться) [adapters/adapter-images/default-153-{{PLATFORM}} >> plain]
    - screenshot: на выдаче появился колдунщик Яндекс.Картинок (запрос и картинки могут отличаться) [https://jing.yandex-team.ru/files/shandraan/Screen%20Shot%202021-11-02%20at%2015.34.22.png]
  проверка ссылок:
    - do: нажать на заголовок колдунщика
    - assert: в новой вкладке открылся сервис картинок (в табе Картинки для приложения Я.Поиск) (в той же вкладке на Windows Phone 8)
    - tech: проверить счетчик в тайтле колдунщика
    - do: нажать на первую предложенную картинку в колдунщике
    - assert: |
        сервис картинок открылся в табе картинки для приложения Я.Поиск
        сервис картинок открылся в той же вкладке на Windows Phone 8
        сервис картинок открылся в новой вкладке группы для Chrome (если настроено открытие ссылок в группах)
        для остальных случаев - сервис картинок открылся в новой вкладке  
        в сервисе картинок открылся просмотрщик с выбранной картинкой (в Я.Поиск приложении версии 4.99 выбранная картинка не открывается автоматически - это ожидаемо)
    - tech: проверить счетчик в первой картинке
    - tech: проверить счетчик во второй картинке
    - tech: проверить счетчик в третьей картинке
    - do: поскроллить картинки влево-вправо
    - assert: картинки скроллятся влево и вправо
    - tech: проверить счетчик в четвертой картинке
    - tech: hermione [adapters/adapter-images/default-153-{{PLATFORM}} >> scrolled]
    - tech: внешний вид при наличии битых тумб [adapters/adapter-images/broken-154-{{PLATFORM}} >> plain]
    - tech: внешний вид при наличии битых тумб после свайпа [adapters/adapter-images/broken-154-{{PLATFORM}} >> scrolled]

files:
# - features/touch-phone/adapters/adapter-images.autogenerated.hermione.js
  - hermione/test-suites/touch-phone/images.hermione.js

v-team: Images

manager:
  - tkatliarova

tags:
  - smoke
  - smoke_extended
  - thumb
  - scroll
  - image
  - smart
  - winphone7
  - reviewed

selector: .t-construct-adapter__images

description: '
в android 2.3, старых операх мини с экстремальным сжатием трафика не работают скроллы - это не будет исправлено (особенности телефонов на всех сайтах)
'

counter: /$page/$main/$result[@wizard_name="images"]/title

tlds: none
