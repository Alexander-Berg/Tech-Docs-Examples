feature: Колдунщик видео
type: Нон-стоп превью

tlds:
  - ru
  - ua
  - by
  - kz

browsers:
  notFor:
    - ios-pp-3.2-touch

specs:
  aliases:
    - &nonBlockingNonStop
      - assert: запустилось превью
      - do: тапнуть на превью
      - assert: превью не остановилось
      - do: тапнуть на вторую тумбу
      - assert: превью в первой тумбе остановилось
  Функциональность нон-стопа:
    - tags:
        - smoke
    - do: получить выдачу по запросу 'enemy arch видео' (альтернативные запросы 'nirvana видео', 'bmw видео')
    - assert: появился колдунщик Видео
    - assert: проигрывание превью началось в первой тумбе (если превью не началось попробуйте альтернативный запрос, т.к. не у всех роликов нет превью)
    - do: дождаться окончания превью в первой тумбе
    - assert: проигрывание превью началось во второй тумбе (если у следующего видео нет превью, то запустится в тумбе дальше по очереди, это не баг)
    - do: зажать любую тумбу в колдунщике
    - assert: в тумбе запустилось проигрывание видео
    - do: дождаться окончанию превью в первой тумбе
    - assert: больше играющих превью в колдунщике нет
  Запуск со второго ролика при отсутствии превью в первом:
    В вертикальном:
      - params:
          foreverdata: '1921743392'
      - do: получить выдачу по запросу 'foreverdata'
      - assert: превью запустилось во втором ролике
  Не блокирует нон-стоп при наведении на тумбу под флагом:
    В вертикальном:
      - do: получить выдачу по запросу "Arch enemy we will rise"
      - *nonBlockingNonStop

files:
  - features/touch-phone/adapter-videowiz/adapter-videowiz_non-stop_preview.hermione.js

v-team: Video

priority: normal
