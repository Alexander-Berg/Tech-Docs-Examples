feature: Колдунщик видео
type: Доступность

browsers: chrome-phone
priority: minor

specs:
  Проверка на доступность:
    - do: получить выдачу по запросу 'arch enemy clips'
    - assert: отобразился колдунщик видео с большой тумбой
    - tech: |
        у ссылки с тумбой есть элемент a11y-descr с названием видео
        у метки времени есть aria-label с читаемой длительностью ролика
        ссылка с названием содержит аттрибут aria-hidden=true
  
  Навигация по tab [manual]:
    - automation: SERP-113406
    - tags:
      - skip_manual_check
    - do: получить выдачу по запросу 'arch enemy clips'
    - assert: открылся XL-колдунщик (если нет, сменить запрос и повторить сначала)
    - do: с помощью кнопки tab найти колдунщик видео
    - do: с помощью кнопки tab поставит фокус в большую тумбу
    - assert: скринридер читает в формате видео {Название видео} {Источник} Длительность {Длительность}
    - do: с помощью кнопки tab выделить первую тумбу в списке роликов колдуна видео
    - assert: скринридер прочитывает описание в формате "Видео {Название видео} Длительность {Длительность}"
    - do: переключиться на следующий элемент
    - assert: |
        ссылка на ролик пропущена
        фокус на источнике
        скринридер зачитывает источник в фомате "источник {имя хостинга}"

  Cценарные кейсы:
    tags:
      - a11y_scenario
      - skip_manual_check # исследовательский сценарий для незрячего ассессора
      - manual

    XL колдунщик:
      Общий сценарий:
        - automation: SERP-99999
        - tags: a11y_scenario_smoke
        - params:
            foreverdata: '3477272198'
        - do: получить выдачу по запросу 'foreverdata' (видео)
        - do: найти на выдаче в колдунщике Видео первый видеоролик
        - do: найти источник этого ролика
        - do: найти дату публикации этого ролика
        - do: тапнуть на этот ролик (или на его источник)
        - assert: произошёл переход на страницу с этим роликом

      Сценарий с фрагментом:
        - automation: SERP-99999    
        - params:
            foreverdata: '3477272198'
        - do: получить выдачу по запросу 'foreverdata' (как плавать брассом/как варить борщ)
        - do: найти на выдаче в колдунщике Видео видеоролик с меткой "Ответ на вопрос"
        - do: тапнуть на этот ролик
        - assert: произошёл переход на страницу с этим роликом

      Сценарий с кейпоинтами:
        - automation: SERP-99999 
        - tags: [empry_test, no_assessors, draft] # кейпоинты пока не готовы

    Списочный колдунщик:
      Общий сценарий:
        - automation: SERP-99999    
        - params:
            foreverdata: '4036009283'
        - do: получить выдачу по запросу 'foreverdata' (собачки видео)
        - do: найти на выдаче в колдунщике Видео любой видеоролик
        - do: найти источник этого ролика
        - do: найти дату публикации этого ролика
        - do: тапнуть на этот ролик (или на его источник)
        - assert: произошёл переход на страницу с этим роликом
        

files:
  - features/touch-phone/adapter-videowiz/adapter-videowiz-a11y.hermione.js

v-team: Video

tlds: [ru]

tags:
  - A11y_serp
  - skip_e2e_check
  - no_assessors
