feature: Колдунщик погоды
type: На сегодня

params:
  foreverdata: '661363645'

specs:
  Неполные данные:
    Отсутствуют некоторые дни:
      - params:
          foreverdata: '3987709154'
      - do: получить выдачу по запросу 'foreverdata'
      - assert: внизу должен быть виден прогноз на 7 дней, но дни не по порядку, отсутствуют четверг, воскресенье, понедельник
      - screenshot: колдунщик погоды соответствует виду [some_empty_data]
    Только 1 день в прогнозе:
      - params:
          foreverdata: '1847128035'
      - do: получить выдачу по запросу 'foreverdata'
      - assert: не должно быть колдунщика погоды и каких-либо ошибок в консоли
  Внешний вид:
    beforeEach:
      - do: получить выдачу по запросу 'foreverdata'
      - assert: появился колдунщик погоды
    Портретная ориентация:
      - label: adapters/adapter-weather/today/plain-{{PLATFORM}}-{{BROWSER_TYPE}}
      - screenshot: колдунщик погоды соответствует виду [plain]
    Ландшафтная ориентация:
      - label: adapters/adapter-weather/today/horizontal-{{PLATFORM}}-{{BROWSER_TYPE}}
      - do: повернуть устройство в горизонтальную ориентацию
      - screenshot: колдунщик погоды соответствует виду [horizontal]
  Основная проверка:
    beforeEach:
      - do: получить выдачу по запросу 'foreverdata'
      - assert: появился колдунщик погоды
      - screenshot: колдунщик погоды соответствует виду [adapters/adapter-weather/today/plain-{{PLATFORM}}-{{BROWSER_TYPE}} >> plain]
    Количество прогнозов:
      - do: проверить количество дней, для которых строится прогноз внизу
      - assert: внизу должен быть виден прогноз на 7 дней
      - assert: текущий день выделен в прогнозе на 7 дней
    Проверить свайп скроллера:
      - do: свайпнуть почасовой прогноз
      - assert: почасовой прогноза свайпается
      - tech: проверить ошибки на странице
    Спецсимволы в данных:
      - params:
          foreverdata: '3284928401'
      - do: получить выдачу по запросу 'foreverdata'
      - assert: на выдаче есть колдунщик погоды
      - assert: страница загружена без ошибок

files:
  - features/touch-phone/adapter-weather/adapter-weather_type_today.hermione.js

v-team: Weather

tlds:
  - ru
  - by
  - ua
  - kz
  - com.tr

counter: /$page/$main/$result[@wizard_name="weather"]
