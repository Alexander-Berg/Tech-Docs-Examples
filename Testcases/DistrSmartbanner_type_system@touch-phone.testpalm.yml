feature: Смартбаннер React
type: system

params:
  exp_flags:
    - smartbanner_atom=1

specs-integration:
  Присутствует на странице:
    - params:
        banner-id: '72057605999441502'
    - tags: no_assessors
    - do: почистить куки
    - do: получить выдачу по запросу txt
    - assert: на выдаче присутствует смартбаннер
    - assert: кнопки в колдунщике кликабельны

specs:
  Внешний вид смартбаннера:
    - params:
        foreverdata: '1992922841'
        srcskip: 'YABS_DISTR'
    - do: получить выдачу по запросу 'foreverdata'
    - assert: появился смартбаннер с предложением установить поисковую систему по умолчанию
    - screenshot: Пример внешнего вида смартбаннера [smartbanner-system]
    - do: кликнуть в кнопку 'Не надо'
    - assert: смартбаннер исчез
    - tech: сработал счётчик /$page/distr-smartbanner/close[@tags@close=1 and @behaviour@type="dynamic" and @layout="system"]

  Внешний вид центрированного смартбаннера:
    - params:
        foreverdata: '2681850791'
        srcskip: 'YABS_DISTR'
    - do: получить выдачу по запросу 'foreverdata'
    - assert: в центре страницы появился смартбаннер с предложением установить поисковую систему по умолчанию
    - screenshot: Пример внешнего вида смартбаннера [smartbanner-system-center]
    - do: кликнуть в кнопку 'Не надо'
    - assert: смартбаннер исчез
    - tech: сработал счётчик /$page/distr-smartbanner/close[@tags@close=1 and @behaviour@type="dynamic" and @layout="system" and @theme="modal"]

  Внешний вид нижнего баннера с кнопкой согласия слева:
    - params:
        foreverdata: '2151686246'
        srcskip: 'YABS_DISTR'
    - do: получить выдачу по запросу 'foreverdata'
    - assert: внизу появился смартбаннер с предложением установить поисковую систему по умолчанию
    - assert: кнопка согласия слева, кнопка отказа справа
    - screenshot: Пример внешнего вида (текст, наличие элементов и цвет может отличаться) [smartbanner-bottom-left]

  Внешний вид нижнего баннера с кнопкой согласия справа:
    - params:
        foreverdata: '44057023'
        srcskip: 'YABS_DISTR'
    - do: получить выдачу по запросу 'foreverdata'
    - assert: внизу появился смартбаннер с предложением установить поисковую систему по умолчанию
    - assert: кнопка согласия справа, кнопка отказа слева
    - screenshot: Пример внешнего вида (текст, наличие элементов и цвет может отличаться) [smartbanner-bottom-right]

  Внешний вид баннера по центру с кнопкой согласия слева:
    - params:
        foreverdata: '957529940'
        srcskip: 'YABS_DISTR'
    - do: получить выдачу по запросу 'foreverdata'
    - assert: по центру появился смартбаннер с предложением установить поисковую систему по умолчанию
    - assert: кнопка согласия слева, кнопка отказа справа
    - screenshot: Пример внешнего вида (текст, наличие элементов и цвет может отличаться) [smartbanner-center-left]

  Внешний вид баннера по центру с кнопкой согласия справа:
    - params:
        foreverdata: '408614183'
        srcskip: 'YABS_DISTR'
    - do: получить выдачу по запросу 'foreverdata'
    - assert: по центру появился смартбаннер с предложением установить поисковую систему по умолчанию
    - assert: кнопка согласия справа, кнопка отказа слева
    - screenshot: Пример внешнего вида (текст, наличие элементов и цвет может отличаться) [smartbanner-center-right]

files:
  - src/features/DistrSmartbannerReact/DistrSmartbannerReact.test/distr-smartbanner_type_system/DistrSmartbanner_type_system@touch-phone.hermione.js
  - src/features/DistrSmartbannerReact/DistrSmartbannerReact.test/distr-smartbanner_type_system/DistrSmartbanner_type_system@touch-phone.hermione.e2e.js

tags:
  - distribution
  - smartbanner

browsers:
  notFor:
    - searchapp-phone
    - chrome-phone

v-team: Distribution

tlds: [ru, by]
