feature: Семейный поиск

specs-integration:
  Порно запрос должен фильтроваться при включенной куке:
    - browsers:
        notFor:
          - searchapp-phone
    - do: получить выдачу по запросу 'sex'
    - assert: выдача должна появиться
    - do: включить семейный поиск
    - do: получить выдачу по запросу 'bdsm'
    - assert: сообщение о пустой выдаче должно присутствовать
    - assert: выдача должна отсутствовать
    - do: выключить семейный поиск
    - do: получить выдачу по запросу 'porno'
    - assert: сообщение о пустой выдаче должно отсутствовать
    - assert: выдача должна присутствовать
  Обычный запрос не должен фильтроваться при включенной куке:
    - browsers:
        notFor:
          - searchapp-phone
    - do: получить выдачу по запросу '1'
    - assert: выдача должна появиться
    - assert: сообщение о пустой выдаче должно отсутствовать
    - do: включить семейный поиск
    - do: получить выдачу по запросу '2'
    - assert: выдача должна появиться
    - assert: сообщение о пустой выдаче должно отсутствовать
    - do: получить выдачу по запросу '3'
    - assert: выдача должна быть видна
    - assert: сообщение о пустой выдаче должно отсутствовать
  С флагом family=yes должна показываться выдача на обычном запросе:
    - do: получить выдачу по запросу '1'
    - do: в адресной строке браузера дописать параметр '&family=yes' и нажать Enter
    - assert: выдача должна появиться
  С флагом family=yes не должна показываться выдача на порно запросе:
    - do: получить выдачу по запросу 'bdsm'
    - do: в адресной строке браузера дописать параметр '&family=yes' и нажать Enter
    - assert: сообщение о пустой выдаче должно присутствовать
    - assert: выдача должна отсутствовать
  С флагом family=no должна показываться выдача на порно запросе:
    - do: получить выдачу по запросу 'bdsm'
    - do: в адресной строке браузера дописать параметр '&family=no' и нажать Enter
    - assert: сообщение о пустой выдаче должно отсутствовать
    - assert: выдача должна присутствовать

files:
  - features/common/family-search/family-search.hermione.e2e.js

v-team: Beauty

qa-engineer:
  - marrrusya

tlds: none
