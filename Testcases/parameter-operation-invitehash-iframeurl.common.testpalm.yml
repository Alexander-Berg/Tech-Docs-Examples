feature: Работа параметра inviteHash и iframeUrl

specs:

    Корректно работатет параметр inviteHash для сборки - Внешние сайты (полный мессенджера), когда пользователь не авторизован[manual]:
        - automation:
        - description: |
              Перед началом тестирования после открытия тестового стенда необходимо нажать кнопку "Сбросить конфиг"
              Для тестирования необходимо использоввать данный inviteHash - 7d18cd3a-0cb7-40d9-913e-feb3a0b65584
              Не авторизованы в мессенджере
        - do: Запустить тестовый стенд виджета
        - assert: Открыт тестовый стенд виджета
        - do: В тестовом стенде виджета выбрать сборку - Внешние сайты (полный мессенджера)
        - assert: Была выбрана нужная сборка
        - do: Нажать на кнопку "Сбросить конфиг"
        - do: Найти параметр **inviteHash** в блоке "Параметры конструткора
        - assert: В данном параметре по умолчанию ничего не введено, рядом есть кнопка с тремя точками
        - do: В параметр inviteHash ввести inviteHash из description
        - assert: inviteHash был введен
        - do: Нажать на кнопку с виджетом
        - assert: |
              Разворачивается виджет
              Открыто окно чата с историей сообщений
              Вместо поля ввода отображается кнопка "Войдите, чтобы присоединиться"

    Корректно работатет параметр inviteHash для сборки - Внешние сайты (полный мессенджера), когда пользователь авторизован[manual]:
        - automation:
        - description: |
              Перед началом тестирования после открытия тестового стенда необходимо нажать кнопку "Сбросить конфиг"
              Для тестирования необходимо использоввать данный inviteHash - 7d18cd3a-0cb7-40d9-913e-feb3a0b65584
              Авторизованы в мессенджере
        - do: Запустить тестовый стенд виджета
        - assert: Открыт тестовый стенд виджета
        - do: В тестовом стенде виджета выбрать сборку - Внешние сайты (полный мессенджера)
        - assert: Была выбрана нужная сборка
        - do: Нажать на кнопку "Сбросить конфиг"
        - do: Найти параметр **inviteHash** в блоке "Параметры конструткора
        - assert: В данном параметре по умолчанию ничего не введено, рядом есть кнопка с тремя точками
        - do: В параметр inviteHash ввести inviteHash из description
        - assert: inviteHash был введен
        - do: Нажать на кнопку с виджетом
        - assert: |
              Разворачивается виджет
              Открыто окно чата с историей сообщений
              Вместо поля ввода отображается кнопка "Присоединиться" (если пользователь не состоит в чате) или отображается поле ввода (если пользоватлеь состоит в данном чате)

    Корректно работатет параметр inviteHash для сборки - Сервисы Яндекса, когда пользователь не авторизован[manual]:
        - automation:
        - description: |
              Перед началом тестирования после открытия тестового стенда необходимо нажать кнопку "Сбросить конфиг"
              Для тестирования необходимо использоввать данный inviteHash - 7d18cd3a-0cb7-40d9-913e-feb3a0b65584
              Не авторизованы в мессенджере
        - do: Запустить тестовый стенд виджета
        - assert: Открыт тестовый стенд виджета
        - do: В тестовом стенде виджета выбрать сборку - Сервисы Яндекса
        - assert: Была выбрана нужная сборка
        - do: Нажать на кнопку "Сбросить конфиг"
        - do: Найти параметр **inviteHash** в блоке "Параметры конструткора
        - assert: В данном параметре по умолчанию ничего не введено, рядом есть кнопка с тремя точками
        - do: В параметр inviteHash ввести inviteHash из description
        - assert: inviteHash был введен
        - do: Нажать на кнопку с виджетом
        - assert: |
              Разворачивается виджет
              Открыто окно чата с историей сообщений
              Вместо поля ввода отображается кнопка "Войдите, чтобы присоединиться"

    Корректно работатет параметр inviteHash для сборки - Сервисы Яндекса, когда пользователь авторизован[manual]:
        - automation:
        - description: |
              Перед началом тестирования после открытия тестового стенда необходимо нажать кнопку "Сбросить конфиг"
              Для тестирования необходимо использоввать данный inviteHash - 7d18cd3a-0cb7-40d9-913e-feb3a0b65584
              Авторизованы в мессенджере
        - do: Запустить тестовый стенд виджета
        - assert: Открыт тестовый стенд виджета
        - do: В тестовом стенде виджета выбрать сборку - Сервисы Яндекса
        - assert: Была выбрана нужная сборка
        - do: Нажать на кнопку "Сбросить конфиг"
        - do: Найти параметр **inviteHash** в блоке "Параметры конструткора
        - assert: В данном параметре по умолчанию ничего не введено, рядом есть кнопка с тремя точками
        - do: В параметр inviteHash ввести inviteHash из description
        - assert: inviteHash был введен
        - do: Нажать на кнопку с виджетом
        - assert: |
              Разворачивается виджет
              Открыто окно чата с историей сообщений
              Вместо поля ввода отображается кнопка "Присоединиться" (если пользователь не состоит в чате) или отображается поле ввода (если пользоватлеь состоит в данном чате)

    Корректно работатет параметр inviteHash для сборки - Внешние сайты (полный мессенджера), когда пользователь авторизован и неактуальный inviteHash[manual]:
        - automation:
        - description: |
              Перед началом тестирования после открытия тестового стенда необходимо нажать кнопку "Сбросить конфиг"
              Для тестирования необходимо использоввать данный inviteHash - 5283ef3a-20d2-4297-954c-eaf5c159e132
              Авторизованы в мессенджере
        - do: Запустить тестовый стенд виджета
        - assert: Открыт тестовый стенд виджета
        - do: В тестовом стенде виджета выбрать сборку - Внешние сайты (полный мессенджера)
        - assert: Была выбрана нужная сборка
        - do: Нажать на кнопку "Сбросить конфиг"
        - do: Найти параметр **inviteHash** в блоке "Параметры конструткора
        - assert: В данном параметре по умолчанию ничего не введено, рядом есть кнопка с тремя точками
        - do: В параметр inviteHash ввести inviteHash из description
        - assert: inviteHash был введен
        - do: Нажать на кнопку с виджетом
        - assert: |
              Разворачивается виджет
              Открыт список чатов
              На экране появилась ошибка "Не удалось присоединиться к чату"

    Корректно работатет параметр inviteHash для сборки - Сервисы Яндекса, когда пользователь не авторизован и неактуальный inviteHash[manual]:
        - automation:
        - description: |
              Перед началом тестирования после открытия тестового стенда необходимо нажать кнопку "Сбросить конфиг"
              Для тестирования необходимо использоввать данный inviteHash - 5283ef3a-20d2-4297-954c-eaf5c159e132
              Не авторизованы в мессенджере
        - do: Запустить тестовый стенд виджета
        - assert: Открыт тестовый стенд виджета
        - do: В тестовом стенде виджета выбрать сборку - Сервисы Яндекса
        - assert: Была выбрана нужная сборка
        - do: Нажать на кнопку "Сбросить конфиг"
        - do: Найти параметр **inviteHash** в блоке "Параметры конструткора
        - assert: В данном параметре по умолчанию ничего не введено, рядом есть кнопка с тремя точками
        - do: В параметр inviteHash ввести inviteHash из description
        - assert: inviteHash был введен
        - do: Нажать на кнопку с виджетом
        - assert: |
              Разворачивается виджет
              Открыт список чатов в неавторизованном состоянии
              На экране появилась ошибка "Не удалось присоединиться к чату"

    Корректно работатет параметр iframeUrl в стенде виджета[manual]:
        - automation:
        - description: |
              Перед началом тестирования после открытия тестового стенда необходимо нажать кнопку "Сбросить конфиг"
              Авторизованы в мессенджере
        - do: Запустить тестовый стенд виджета
        - assert: Открыт тестовый стенд виджета
        - do: В тестовом стенде виджета выбрать сборку - Внешние сайты (single chat)
        - assert: Была выбрана нужная сборка
        - do: Нажать на кнопку "Сбросить конфиг"
        - do: Найти параметр **iframeUrl** в блоке "Параметры конструткора"
        - assert: В параметр **iframeUrl**  введена ссылка https://yandex.ru/chat?build=widget
        - do: Нажать на кнопку с виджетом
        - assert: |
              Разворачивается виджет
              В виджете просто белый фон
        - do: В параметре **iframeUrl** изменить ссылку на https://yandex.ru/chat?build=chamb
        - assert: Ссылка была заменена
        - do: Нажать на кнопку с виджетом
        - assert: |
              Разворачивается виджет
              В виджете загрузились чаты пользователя

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
    - chamb

