feature: Онбординг для организации без домена

specs:
  Положительные:
    1. Экран приветствия и переход на экран подписки на сервисы:
      - do: авторизоваться под администратором организации без домена и перейти по ссылке "/start"
      - assert: отображается экран приветствия
      - screenshot: внешний вид экрана с приветствием [welcome]
      - do: нажать на кнопку "Продолжить"
      - assert: произошел переход на экран подписки на сервисы
      - screenshot: внешний вид экрана подписки на сервисы [subscribe]
    2. Подписка на сервисы на экране подписки:
      - do: авторизоваться под администратором организации без домена и перейти по ссылке "/start?step=1"
      - assert: отображается экран подписки на сервисы
      - do: нажать на кнопку "Подписаться на новости и продолжить"
      - assert: на кнопке "Подписаться на новости и продолжить" отображается прогресс
      - assert: произошел переход на экран приглашения
    3. Экран подписки и переход на экран приглашения без подписки:
      - do: авторизоваться под администратором организации без домена и перейти по ссылке "/start?step=1"
      - assert: отображается экран подписки на сервисы
      - do: нажать на кнопку "Подписаться позже"
      - assert: произошел переход на экран приглашения
      - screenshot: внешний вид экрана приглашения [invite]
    4. Приглашение сотрудников в организацию на экране приглашения:
      - do: авторизоваться под администратором организации без домена и перейти по ссылке "/start?step=2"
      - assert: отображается экран приглашения
      - assert: кнопка "Отправить приглашения" неактивна
      - do: ввести в инпут "testemail@test.ru"
      - assert: кнопка "Отправить приглашения" стала активной
      - do: нажать на кнопку "Отправить приглашения"
      - assert: произошел переход на экран сервисов
    5. Экран приглашения и переход на экран сервисов без приглашения:
      - do: авторизоваться под администратором организации без домена и перейти по ссылке "/start?step=2"
      - assert: отображается экран приглашения
      - do: нажать на кнопку "Пригласить позже"
      - assert: произошел переход на экран сервисов
      - screenshot: внешний вид экрана сервисов [services]
    6. Экран сервисов и переход на страницу дашборда:
      - do: авторизоваться под администратором организации без домена и перейти по ссылке "/start?step=3"
      - assert: отображается экран сервисов
      - do: нажать на кнопку "Подключить"
      - assert: произошел переход на страницу дашборда "/portal/home"

  Отрицательные:
    1. Некорректная почта на экране приглашения:
      - do: авторизоваться под администратором организации без домена и перейти по ссылке "/start?step=2"
      - assert: отображается экран приглашения
      - do: ввести в инпут "testemail"
      - do: нажать на кнопку "Отправить приглашения"
      - assert: отображается ошибка "Укажите корректный адрес почты"
      - screenshot: внешний вид формы с ошибкой при некорректном адресе почты [invalid-email]

files:
  - tests/hermione/suites/onboarding/yo.js

priority: critical

tlds:
 - ru
 - com

tags:
  - smoke_test_assessors
  - regression
  - smoke_test
  - reviewed
