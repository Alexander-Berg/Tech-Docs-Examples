feature: Непрочитанные сообщения

specs:

    В приватном чате появляется надпись "Непрочитанные сообщения" когда в чате есть непрочитанные[manual]:
        - automation:
        - description: |
              Для проверки необходимо два аккаунта - Пользователь А и Пользователь Б, между которыми есть общий приватный чат
              Пользователем А необходимо авторизоваться в основном браузере, пользователем Б необходимо авторизоваться в другом браузере или на устройстве на ферме (мобильном девайсе)
        - do: Под пользователем А запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Под пользователем Б открыть чат из description
        - assert: Открывается чат из description
        - do: Отправить текстовое сообщение в чат
        - assert: |
              Сообщение отправлено
              У пользователя А на списке чатов в превью чата из description появился счетчик непрочитанных сообщений
        - do: Пользователем А открыть чат из description
        - assert: |
              Открыто окно чата
              В окне чата отображается сообщение отправленное ранее пользователем Б
              Над новым сообщением отображается надпись "Непрочитанные сообщения"

    В групповом чате появляется надпись "Непрочитанные сообщения" когда в чате есть непрочитанные[manual]:
        - automation:
        - description: |
              Для проверки необходимо два аккаунта - Пользователь А и Пользователь Б, между которыми есть общий групповой чат
              Пользователем А необходимо авторизоваться в основном браузере, пользователем Б необходимо авторизоваться в другом браузере или на устройстве на ферме (мобильном девайсе)
        - do: Под пользователем А запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Под пользователем Б открыть чат из description
        - assert: Открывается чат из description
        - do: Отправить текстовое сообщение в чат
        - assert: |
              Сообщение отправлено
              У пользователя А на списке чатов в превью чата из description появился счетчик непрочитанных сообщений
        - do: Пользователем А открыть чат из description
        - assert: |
              Открыто окно чата
              В окне чата отображается сообщение отправленное ранее пользователем Б
              Над новым сообщением отображается надпись "Непрочитанные сообщения"

    В канале появляется надпись "Непрочитанные сообщения" когда в чате есть непрочитанные[manual]:
        - automation:
        - description: |
              Для проверки необходимо два аккаунта - Пользователь А и Пользователь Б, между которыми есть общий канал
              Пользователь Б является администратором этого канала
              Пользователем А необходимо авторизоваться в основном браузере, пользователем Б необходимо авторизоваться в другом браузере или на устройстве на ферме (мобильном девайсе)
        - do: Под пользователем А запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Под пользователем Б открыть канал из description
        - assert: Открывается канал из description
        - do: Отправить текстовое сообщение в канал
        - assert: |
              Сообщение отправлено
              У пользователя А на списке чатов в превью канала из description появился счетчик непрочитанных сообщений
        - do: Пользователем А открыть канал из description
        - assert: |
              Открыто окно канала
              В окне канала отображается сообщение отправленное ранее пользователем Б
              Над новым сообщением отображается надпись "Непрочитанные сообщения"

    Надпись "Непрочитанные сообщения" пропадает если в чат отправить сообщение[manual]:
        - tags: [advanced_smoke]
        - automation:
        - description: |
              Для проверки необходимо два аккаунта - Пользователь А и Пользователь Б, между которыми есть общий приватный / групповой чат
              Пользователем А необходимо авторизоваться в основном браузере, пользователем Б необходимо авторизоваться в другом браузере или на устройстве на ферме (мобильном девайсе)
        - do: Под пользователем А запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Под пользователем Б открыть чат из description
        - assert: Открывается чат из description
        - do: Отправить текстовое сообщение в чат
        - assert: |
              Сообщение отправлено
              У пользователя А на списке чатов в превью чата из description появился счетчик непрочитанных сообщений
        - do: Пользователем А открыть чат из description
        - assert: |
              Открыто окно чата
              В окне чата отображается сообщение отправленное ранее пользователем Б
              Над новым сообщением отображается надпись "Непрочитанные сообщения"
        - do: Отправить в чат сообщение
        - assert: |
              Сообщение было отправлено
              В окне чата пропала надпись "Непрочитанные сообщения"

    Надпись "Непрочитанные сообщения" пропадает если перезайти в чат[manual]:
        - automation:
        - description: |
              Для проверки необходимо два аккаунта - Пользователь А и Пользователь Б, между которыми есть общий приватный / групповой чат
              Пользователем А необходимо авторизоваться в основном браузере, пользователем Б необходимо авторизоваться в другом браузере или на устройстве на ферме (мобильном девайсе)
        - do: Под пользователем А запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Под пользователем Б открыть чат из description
        - assert: Открывается чат из description
        - do: Отправить текстовое сообщение в чат
        - assert: |
              Сообщение отправлено
              У пользователя А на списке чатов в превью чата из description появился счетчик непрочитанных сообщений
        - do: Пользователем А открыть чат из description
        - assert: |
              Открыто окно чата
              В окне чата отображается сообщение отправленное ранее пользователем Б
              Над новым сообщением отображается надпись "Непрочитанные сообщения"
        - do: Открыть любой другой чат
        - assert: Открыто окно чата
        - do: Открыть чат из description
        - assert: |
              Открыто окно чата из description
              В окне чата отсутствует надпись "Непрочитанные сообщения"

    Надпись "Непрочитанные сообщения" пропадает если обновить страницу браузера[manual]:
        - automation:
        - description: |
              Для проверки необходимо два аккаунта - Пользователь А и Пользователь Б, между которыми есть общий приватный / групповой чат
              Пользователем А необходимо авторизоваться в основном браузере, пользователем Б необходимо авторизоваться в другом браузере или на устройстве на ферме (мобильном девайсе)
              Данный тесст-кейс для десктопного приложения не актуален
        - do: Под пользователем А запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Под пользователем Б открыть чат из description
        - assert: Открывается чат из description
        - do: Отправить текстовое сообщение в чат
        - assert: |
              Сообщение отправлено
              У пользователя А на списке чатов в превью чата из description появился счетчик непрочитанных сообщений
        - do: Пользователем А открыть чат из description
        - assert: |
              Открыто окно чата
              В окне чата отображается сообщение отправленное ранее пользователем Б
              Над новым сообщением отображается надпись "Непрочитанные сообщения"
        - do: Обновить страницу браузера
        - assert: |
              Страница браузера была обновлена
              В окне чата пропала надпись "Непрочитанные сообщения"

    Надпись "Непрочитанные сообщения" не появляется если в момент получения сообщений открыто окно этого чата[manual]:
        - automation:
        - description: |
              Для проверки необходимо два аккаунта - Пользователь А и Пользователь Б, между которыми есть общий приватный / групповой чат
              Пользователем А необходимо авторизоваться в основном браузере, пользователем Б необходимо авторизоваться в другом браузере или на устройстве на ферме (мобильном девайсе)
        - do: Под пользователем А запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть чат из description
        - assert: Открыто окно чата из description
        - do: Под пользователем Б открыть чат из description
        - assert: Открывается чат из description
        - do: Отправить текстовое сообщение в чат
        - assert: Сообщение отправлено
        - do: Под пользователем А убедиться, что в окне чата не появилась надпись "Непрочитанные сообщения"
        - assert: В окне чата отсутствует надпись "Непрочитанные сообщения"

    Надпись "Непрочитанные сообщения" не появляется у отправителя[manual]:
        - automation:
        - description: У авторизованного пользователя в списке чатов есть приватный / групповой чат или канал в котором он является администратором
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть чат из description
        - assert: Открыто окно чата из description
        - do: Отправить текстовое сообщение в чат
        - assert: |
              Сообщение отправляется
              В окне чата отсутствует надпись "Непрочитанные сообщения"

    Надпись "Непрочитанные сообщения" появляется после технических сообщений[manual]:
        - automation:
        - description: |
              Для проверки необходимо два аккаунта - Пользователь А и Пользователь Б, между которыми есть общий групповой чат, в котором пользователь Б является администратором
              Пользователем А необходимо авторизоваться в основном браузере, пользователем Б необходимо авторизоваться в другом браузере или на устройстве на ферме (мобильном девайсе)
        - do: Под пользователем А запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Под пользователем Б открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на шапку чата
        - assert: Открывается карточка чата
        - do: Нажать на "Настройки чата"
        - assert: Открываются настройки чата
        - do: Изменить публичность чата и сохранить изменения
        - assert: |
              Публичность чата была изменена
              В окне чата появилась техническаая запись
        - do: Под пользователем А открыть чат из description и убедиться, что в окне чата появилась надпись "Непрочитанные сообщения"
        - assert: В окне чата над техническим сообщением есть надпись "Непрочитанные сообщения"


files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team


