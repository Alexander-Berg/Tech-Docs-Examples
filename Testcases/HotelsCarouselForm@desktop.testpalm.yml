feature: Hotels / Карусель

specs:
  Внешний вид:
    - do: получить выдачу по запросу 'отели в алуште'
    - assert: появилась карусель отелей c фильтрами для выбора дат и гостей
    - screenshot: Пример внешнего вида в режиме списка [list-view]
    - do: Нажать на кнопку открытия карты
    - screenshot: Пример внешнего вида в режиме карты [map-view]
  Внешний вид на узких экранах:
    - do: получить выдачу по запросу 'отели в алуште'
    - assert: появилась карусель отелей c фильтрами для выбора дат и гостей
    - do: установить ширину окна браузера 1280px
    - screenshot: внешний вид соответствует скриншоту [list-view_1080]
    - do: установить ширину окна браузера 940px
    - screenshot: внешний вид соответствует скриншоту [list-view_940]
  Внешний вид с подскрольными рекомендациями:
    - do: получить выдачу по запросу 'отели в алуште'
    - assert: появилась карусель отелей c фильтрами для выбора дат и гостей
    - do: проскроллить страницу вниз
    - do: проскроллить страницу вверх
    - assert: появились подскрольные рекомендации
    - screenshot: внешний вид соответствует скриншоту [plain-with-related-above]
    - do: раскрыть карту на всю ширину
    - screenshot: внешний вид соответствует скриншоту [opened-with-related-above]
  Взаимодействия с контролами в режиме списка:
    - do: получить выдачу по запросу 'отели в Алуште'
    - assert: появился колдунщик - карусель
    - do: изменить диапазон дат для посещения отеля
    - assert: |
        появился прогресс-бар
        скрылся прогресс бар
        список карточек отелей обновился
        цены в предложениях в карточках увеличились
    - do: увеличить число гостей
    - assert: |
        появился прогресс-бар
        скрылся прогресс бар
        список карточек отелей обновился
        цены в предложениях в карточках увеличились
    - do: изменить диапазон цены
    - assert: |
        появился прогресс-бар
        скрылся прогресс бар
        список карточек отелей обновился
        цены в предложениях входят в выбранный диапазон
  Взаимодействия с контролами в режиме карты:
    - do: получить выдачу по запросу 'отели в Алуште'
    - assert: появился колдунщик - карусель
    - do: нажать на карту - элемент карусели
    - assert: колдунщик перешел в режим карты
    - do: изменить диапазон дат для посещения отеля
    - assert: |
        появился прогресс-бар
        скрылся прогресс бар
        цены в пинах на карте увеличились
    - do: изменить количество гостей
    - assert: |
        появился прогресс-бар
        скрылся прогресс бар
        цены в пинах на карте увеличились
  Взаимодействия между картой и списком:
    - do: получить выдачу по запросу 'отели в Алуште'
    - assert: появился колдунщик - карусель
    - do: |
        запомнить цены в предложениях в карточках
        нажать на карту - элемент карусели
    - assert: колдунщик перешел в режим карты
    - do: изменить количество гостей
    - assert: |
        появился прогресс-бар
        скрылся прогресс бар
        цены в пинах на карте увеличились
    - do: закрыть режим карты
    - assert: |
        колдунщик перешел в режим списка
        список карточек отелей обновился
        цены в предложениях в карточках увеличились
  Взаимодействия между формой и всплывающим окном:
    - do: получить выдачу по запросу 'отели в Алуште'
    - assert: появился колдунщик - карусель
    - do: изменить диапазон дат для посещения отеля
    - assert: |
        появился прогресс-бар
        скрылся прогресс бар
    - do: кликнуть в карточку первого отеля в карусели
    - assert: |
        появилось всплывающее окно
        во всплывающем окне есть форма выбора дат
        значения в форме выбора дат такие же, как в колдунщике
  Сброс ценового фильтра после смены количества ночей:
    - do: получить выдачу по запросу 'отели в Алуште'
    - assert: появился колдунщик - карусель
    - do: изменить фильтр по цене
    - do: изменить диапазон дат для посещения отеля
    - assert: фильтр по цене сброшен на значение по умолчанию
    - tech: в запросе отсутствует параметр hotel_price_range

files:
  - src/features/Companies/Companies.features/HotelsCarouselForm/HotelsCarouselForm.test/HotelsCarouselForm@desktop.hermione.js

v-team: KotTeam

tlds: all

counter: /$page/$top/$result[@wizard_name="companies" and @subtype="travel_map"]
