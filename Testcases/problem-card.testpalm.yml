feature: Карточка задачи

description: карточка задачи и все виды эл-тов на ней

specs:
    Задача с картинкой:
        - tags: smoke
        - do: перейти на страницу задачи "T811", номер задачи в параметре урла problem_id '/tutor/subject/problem/?problem_id=T811'
        - assert: открылась страница задачи
        - screenshot: внешний вид карточки задания с картинкой [plain]
    Задача с таблицей:
        - tags: smoke
        - do: перейти на страницу задачи "T1339", номер задачи в параметре урла problem_id '/tutor/subject/problem/?problem_id=T1339'
        - assert: открылась страница задачи
        - screenshot: внешний вид карточки задания с таблицей [plain]
        - do: кликнуть по ссылке, вставленной в текст "Это задание взято из демоварианта ФИПИ для ЕГЭ-2019"
        - assert: в новой вкладке открыт портал "fipi.ru"
    Задача с блоком кода с табуляцией:
        - tags: smoke
        - do: перейти на страницу задачи "T4819", номер задачи в параметре урла problem_id '/tutor/subject/problem/?problem_id=T4819'
        - assert: открылась страница задачи
        - screenshot: внешний вид карточки задания с блоком кода с табуляцией [plain]
        - do: выбрать язык программирования "C++"
        - assert: содержание задания (блок кода) изменилось
        - assert: выбранный язык подсвечен/выделен
        - screenshot: внешний вид карточки задания с блоком кода с табуляцией [another-tab]
    Задача с блоком кода:
        - tags: smoke
        - do: перейти на страницу задачи "Т787", номер задачи в параметре урла problem_id '/tutor/subject/problem/?problem_id=T787'
        - assert: открылась страница задачи
        - screenshot: внешний вид карточки задания с блоком кода [plain]
    Задача с блоком текста - >500 символов:
        - tags: smoke
        - do: перейти на страницу задачи "Т70", номер задачи в параметре урла problem_id '/tutor/subject/problem/?problem_id=T70'
        - assert: открылась страница задачи
        - screenshot: внешний вид карточки задания с блоком текста [plain]
        - do: кликнуть по кнопке "Показать полностью" или блоку текста
        - screenshot: внешний вид карточки задания с развернутым блоком текста [open]
        - assert: блок текста развернулся, отобразился целиком
        - do: кликнуть по кнопке "Свернуть"
        - assert: блок текста свернулся, отображаются лишь первые 500 знаков (на тачах пропорционально меньше)
    Задача с блоком текста - <500 символов:
        - tags: smoke
        - do: перейти на страницу задачи "Т398", номер задачи в параметре урла problem_id '/tutor/subject/problem/?problem_id=T398'
        - assert: открылась страница задачи
        - screenshot: внешний вид карточки задания с блоком текста [plain]
    Задача со списком:
        - tags: smoke
        - do: перейти на страницу задачи "Т7745", номер задачи в параметре урла problem_id '/tutor/subject/problem/?problem_id=T7745'
        - assert: открылась страница задачи
        - screenshot: внешний вид карточки задания с блоком списка [plain]
    Задача с буквенным списком:
        - tags: smoke
        - do: перейти на страницу задачи "Т7536", номер задачи в параметре урла problem_id '/tutor/subject/problem/?problem_id=T7536'
        - assert: открылась страница задачи
        - screenshot: внешний вид карточки задания с блоком списка [plain]
    Задача с множественным списком:
        - tags: smoke
        - do: перейти на страницу задачи "Т388", номер задачи в параметре урла problem_id '/tutor/subject/problem/?problem_id=T388'
        - assert: открылась страница задачи
    Задача с критериями:
        - tags: smoke
        - do: перейти на страницу задачи "T7295", номер задачи в параметре урла problem_id '/tutor/subject/problem/?problem_id=T7295'
        - assert: открылась страница задачи
        - screenshot: внешний вид критериев [plain]
    Проверка ответа - неверный:
        beforeEach:
            - do: перейти на страницу задачи "Т979", номер задачи в параметре урла problem_id '/tutor/subject/problem/?problem_id=T979'
            - assert: открылась страница задачи
        Ввод пустого ответа:
            - tags: smoke
            - do: кликнуть в кнопку "Проверить ответ"
            - screenshot: внешний вид карточки задания с пустым ответом [plain]
            - assert: в поле ввода ответа указано в правой части "Неверно"
            - assert: границы поля ввода ответа подсвечены красным
            - assert: рядом с номером задания присутствует крестик и текст "Задание было решено неверно"
        Ввод неверного ответа:
            - tags: smoke
            - do: ввести в поле ответа 25 любых символов (например +=-)(;*&.,^:%$%#№@"!±<[~] )
            - do: кликнуть в кнопку "Проверить ответ"
            - screenshot: внешний вид карточки задания с неверным ответом [plain]
            - assert: в поле ввода ответа указано в правой части "Неверно"
            - assert: границы поля ввода ответа подсвечены красным
            - assert: рядом с номером задания присутствует крестик и текст "Задание было решено неверно"
    Проверка ответа - верный:
        - tags: smoke
        - do: перейти на страницу задачи "Т979", номер задачи в параметре урла problem_id '/tutor/subject/problem/?problem_id=T979'
        - assert: открылась страница задачи
        - do: ввести в поле ввода ответа "3241" и кликнуть в кнопку "Проверить ответ"
        - screenshot: внешний вид карточки задания с верным ответом [plain]
        - assert: в поле ввода ответа указано в правой части "Верно"
        - assert: рядом с номером задания присутствует галочка и текст "Задание было решено верно"
        - do: кликнуть по кнопке "Показать ответ"
        - assert: под кнопкой появилась надпись с верным ответом
        - screenshot: внешний вид карочки задания с ответом [opened-answer]
        - do: кликнуть по кнопке "Скрыть ответ"
        - assert: надпись с верным ответом пропала
        - assert: кнопка "Скрыть ответ" изменилась на "Показать ответ"
    Проверка ссылки на форму жалобы:
        - do: перейти на страницу задачи "Т979", номер задачи в параметре урла problem_id '/tutor/subject/problem/?problem_id=T979'
        - assert: открылась страница задачи
        - assert: в карточке задачи есть иконка - треугольник с восклицательным знаком внутри
        - do: кликнуть на иконку
        - assert: в новой вкладке открылась страница "https://yandex.ru/support/tutor/troubleshooting/mistake.html"
        - assert: в ссылке присутствует параметр с номером задачи 'form-answer_short_text_24039=T979'
    Валидация правильного формата ответа:
        Показывать попап по клику:
            - do: перейти на страницу задачи "T900", номер задачи в параметре урла problem_id '/tutor/subject/problem/?problem_id=T900'
            - do: кликнуть на информационную иконку в правой части текстого поля
            - assert: появился попап
            - screenshot: внешний вид попапа [plain]
            - do: кликнуть в любое другое место
            - assert: попап исчез
        Показывать попап при вводе пробела в русском:
            - do: перейти на страницу задачи "T69", номер задачи в параметре урла problem_id '/tutor/subject/problem/?problem_id=T69'
            - do: ввести комбинацию букв через пробел "a b"
            - assert: появился попап о том, что данные введены некорректно
            - screenshot: внешний вид попапа [plain]
            - assert: текст в поле ввода окрасился в красный
            - screenshot: внешний вид поля ввода [input-red]
            - do: ввести комбинацию без пробела "ab"
            - assert: попап скрылся
        Показывать попап при вводе точки в математике:
            - do: перейти на страницу задачи "T333", номер задачи в параметре урла problem_id '/tutor/subject/problem/?problem_id=T333'
            - do: ввести дробь через точку "1.2"
            - assert: появился попап о том, что данные введены некорректно
            - screenshot: внешний вид попапа [plain]
            - assert: текст в поле ввода окрасился в красный
            - screenshot: внешний вид поля ввода [input-red]
            - do: ввести дробь через запятую "1,2"
            - assert: попап скрылся
        Показывать попап при вводе умляутов во французском:
            - do: перейти на страницу задачи "T1218", номер задачи в параметре урла problem_id '/tutor/subject/problem/?problem_id=T1218'
            - do: ввести слово с умляутами "aäa"
            - assert: появился попап о том, что данные введены некорректно
            - screenshot: внешний вид попапа [plain]
            - assert: текст в поле ввода окрасился в красный
            - screenshot: внешний вид поля ввода [input-red]
            - do: ввести слово без умляутов "aaa"
            - assert: попап скрылся

v-team: Younglings

qa-engineer:
    - helm

platform:
    - common

tags:
    - edu-front
    - problem-page

files:
    - tests/hermione/suites/common/problem-page/problem-card.hermione.js
