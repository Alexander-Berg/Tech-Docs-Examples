feature: Счётчики

specs:
  Проверка счётчика на событие init при открытии поиска [manual]:
    - automation: ISEARCH-6754
    - do: открыть страницу поиска /search?dump_counters=1
    - screenshot: в инструментах разработчика в консоли есть запись "Event init". Значения полей "reqid" и "expBuckets" могут отличаться, остальные должны быть заполнены как на скриншоте [https://jing.yandex-team.ru/files/pixel/Screenshot%20from%202021-03-22%2014-02-38.png]

  Проверка счётчиков на отображение колдунщиков [manual]:
    - automation: ISEARCH-6754
    - do: открыть страницу поиска /search?text=robot-internal-1&dump_counters=1
    - screenshot: в инструментах разработчика в консоли есть записи "Event show" двух видов "view wizard, type people-wizard" и "view snippet-wizard, type people-people". Значения полей "reqid" и "id" могут отличаться, остальные должны быть заполнены как на скриншоте [https://jing.yandex-team.ru/files/pixel/Screenshot%20from%202021-03-22%2014-27-57.png]

  Проверка счётчиков на отображение сниппетов [manual]:
    - automation: ISEARCH-6754
    - do: открыть страницу поиска /goalsearch?text=test&dump_counters=1
    - screenshot: в инструментах разработчика в консоли есть записи "Event show, view snippet, type goals-goals". Значения полей "reqid", "height" и "id" могут отличаться, остальные должны быть заполнены как на скриншоте [https://jing.yandex-team.ru/files/pixel/Screenshot%20from%202021-03-22%2014-30-39.png]

  Проверка счётчиков на клик по заголовку колдунщика [manual]:
    - automation: ISEARCH-6754
    - do: открыть страницу поиска /atsearch?text=test&dump_counters=1
    - screenshot: на странице есть колдунщик записи [https://jing.yandex-team.ru/files/pixel/Screenshot%20from%202021-03-22%2014-32-54.png]
    - do: кликнуть на заголовок "test" колдунщика 
    - screenshot: в инструментах разработчика в консоли появилась запись "Event click, view snippet-wizard, type clubs, target title". Значения полей "reqid", "dateClick", "wizardId", "dateRender" и "id" могут отличаться, остальные должны быть заполнены как на скриншоте [https://jing.yandex-team.ru/files/pixel/Screenshot%20from%202021-03-22%2014-33-24.png]

  Проверка счётчика на клик по заголовку сниппета [manual]:
    - automation: ISEARCH-6754
    - do: открыть страницу поиска /stsearch?text=oktestaugust&dump_counters=1
    - do: кликнуть на заголовок первого сниппета
    - screenshot: в инструментах разработчика в консоли появилась запись "Event click, view snippet, type st-st, target title". Значения полей "reqid", "dateClick", "dateRender" и "id" могут отличаться, остальные должны быть заполнены как на скриншоте [https://jing.yandex-team.ru/files/pixel/Screenshot%20from%202021-03-22%2014-35-19.png]

  Проверка счётчика на клик по оценке релевантности "вообще не про то" [manual]:
    - automation: ISEARCH-6754
    - do: открыть страницу поиска /peoplesearch?text=robot-cat&dump_counters=1
    - do: кликнуть на карточке первого сниппета на надпись "вообще не про то"
    - screenshot: в инструментах разработчика в консоли появилась запись "Event dynamic-click, view snippet, type people-people, target irrelevant". Значения полей "reqid" и "id" могут отличаться, остальные должны быть заполнены как на скриншоте [https://jing.yandex-team.ru/files/pixel/Screenshot%20from%202021-03-22%2014-42-09.png]

  Проверка счётчика на клик по оценке релевантности "полезно" [manual]:
    - automation: ISEARCH-6754
    - do: открыть страницу поиска /docsearch?text=tvm+id&dump_counters=1
    - do: кликнуть на карточке первого сниппета на надпись "полезно"
    - screenshot: в инструментах разработчика в консоли появилась запись "Event dynamic-click, view snippet, type doc-readme, target relevant". Значения полей "reqid" и "id" могут отличаться, остальные должны быть заполнены как на скриншоте [https://jing.yandex-team.ru/files/pixel/Screenshot%20from%202021-03-22%2014-45-15.png]

  Проверка счётчика на клик по оценке релевантности "то, что нужно" [manual]:
    - automation: ISEARCH-6754
    - do: открыть страницу поиска /yasensearch?text=Поисковый&dump_counters=1
    - do: кликнуть на карточке сниппета на надпись "то, что нужно"
    - screenshot: в инструментах разработчика в консоли появилась запись "Event dynamic-click, view snippet, type generic, target vital". Значения полей "reqid" и "id" могут отличаться, остальные должны быть заполнены как на скриншоте [https://jing.yandex-team.ru/files/pixel/Screenshot%20from%202021-03-22%2014-47-09.png]

files: []

tags:
  - reviewed

priority: critical

browsers:
  - yandex-browser-desktop
  - firefox-desktop
  - safari-desktop
