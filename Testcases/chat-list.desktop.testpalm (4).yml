feature: Чат-лист Спама

import-steps:
    - tests/hermione/suites/desktop/shared-steps/backoffice.testpalm.steps.yml
    - tests/hermione/suites/desktop/shared-steps/new-dialogue.testpalm.steps.yml
    - tests/hermione/suites/desktop/shared-steps/open-backoffice.testpalm.steps.yml

tlds: ru

specs:
    Отображение дефолтного аватара чата:
        - automation: YDO-6833
        - attach: Открытие Спама
        - assert: в списке чатов отображается картинка "буква К и первая цифра номера клиента"
        - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/tony-prots/45A.0BK_2019-04-16_10-46-48.png]

    Контекстное меню чата:
        - automation: YDO-6833
        - attach: Открытие Спама
        - do: нажать правой кнопкой мыши на любой чат в списке чатов
        - assert: контекстное меню чата не открылось

    Отображение последнего короткого отправленного сообщения:
        - automation: YDO-6833
        - attach: Открытие Спама
        - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/tony-prots/45A.0BK_2019-04-16_10-46-48.png]
        - assert: отправленное сообщение отображается в чате в списке чатов, например "Текст_Вашего_Отправленного_Сообщения"

    Отображение последнего полученного длинного сообщения:
        - automation: YDO-6833
        - attach: Отображение последнего полученного длинного
        - do: нажать "Пометить как спам"
        - do: перейти на вкладку Спам с помощью левого сайдбара
        - assert: в списке чатов полученное сообщение отображается в виде допустимого количества символов, а остальные символы заменены на "...", например "Текст_Полученного_длинного_сообщ..."
        - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/tony-prots/2019-05-21_16-42-17.png]

    Скролл ползунком:
        - automation: YDO-6833
        - attach: Скролл ползунка
        - do: нажать "Пометить как спам"
        - do: повторить последние два шага для всех созданных чатов
        - do: перейти на вкладку Спам с помощью левого сайдбара
        - do: уменьшить размер окна с админкой, что бы был возможен скролл в списке чатов
        - do: навести курсор на список чатов
        - assert: отобразился ползунок скролла
        - screenshot: примерный вид отображения [https://jing.yandex-team.ru/files/tony-prots/Снимок%20экрана%202019-05-21%20в%2016.37.21.png]
        - do: навести курсор на ползунок
        - assert: ползунок увеличился  в размере
        - do: проскроллить вниз списка чатов с помощью ползунка
        - assert: список чатов скроллится

    Скролл мышью-трекпадом:
        - automation: YDO-6833
        - attach: Скролл мышью
        - do: нажать "Пометить как спам"
        - do: повторить последние два шага для всех созданных чатов
        - do: нажать на иконку "Спам" в левом меню
        - do: уменьшить размер окна с админкой, что бы был возможен скролл в списке чатов
        - do: навести курсор на список чатов
        - do: с помощью колесика мыши или трекпада просклоллить список чатов вниз
        - assert: список чатов скроллится

    Cортировка по времени последнего сообщения в чате:
        - automation: YDO-6833
        - attach: Cортировка по времени
        - do: нажать "Пометить как спам"
        - do: повторить последние два шага для всех созданных чатов
        - do: нажать на иконку "Спам" в левом меню
        - assert: |
              первый помеченный как спам чат стал последним в списке
              второй помеченный как спам чат — первый в списке

    Отображение времени отправки последнего сообщения:
        - automation: YDO-6833
        - attach: Открытие Спама
        - assert: у перенесенного в Спам чата отображается время отправки последнего сообщения в формате ЧЧ:ММ
        - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/tony-prots/2019-05-21_16-35-41.png]

files: []

v-team: Uslugi

tags:
    - no_assessors
    - skip_manual_check
    - floyd
