feature: Отзывы на магазин

params:
  exp_flags:
    - analytics-disabled=1

specs:
  Пользователь залогинен:
    В оверлее:
      beforeEach:
        - do: открыть браузер в режиме инкогнито
        - do: залогиниться в Яндексе
        - do: получить выдачу по запросу 'site:super01.ru каталог' (не забыть про двоеточие в запросе)
        - assert: на выдаче присутствует турбо-сниппет(ы) с серой иконкой ракеты справа от гринурла
        - do: при дальнейшей проверке обращайте внимание на любые некорректные на ваш взгляд поведения, основываясь на свой опыт использования web-приложений (например, сохранение позиции при переходах туда-обратно кнопками на устройстве, пустые экраны при переходах, кривая верстка, скачкИ элементов, плавность скролла, неработающая функциональность и т.п.)
        - do: кликнуть по любой ссылке турбо-сниппета для перехода на страницу магазина
        - assert: открылась страница магазина
        - do: перейти в раздел Магазин, кликнув по соответствующей пиктограмме на нижней панели
        - assert: в разделе Магазин есть блок с отзывами [https://jing.yandex-team.ru/files/skurhanski/chrome_yykfczWfVZ.png]
        - do: кликнуть по блоку с отзывами
        - assert: с анимацией справа налево выехала страница отзывов (плавность анимации может зависеть от текущей производительсности устройства) [https://jing.yandex-team.ru/files/skurhanski/Telegram_xFyZevCP1j.png]
      Просмотрт отзывов:
        - automation: TURBOUI-5085
        - do: поскроллить страницу отзывов (при наличии достаточного количества отзывов)
        - assert: страница скроллится корректно
        - do: проверить работу сортировки отзывов
        - assert: сортировка работает и отзывы отображаются корректно
        - do: проверить работу разворачивания отзыва, скрытия текста, ссылок на именах пользвателей (при наличии данных элементов)
        - assert: разворачивание отзыва, скрытие текста и ссылки на именах пользвателей работают корректно
        - do: кликнуть по ссылке 'О магазине' вверху страницы
        - assert: открылся раздел 'Магазин' в том положении, в котором из него уходили на страницу отзывов
      Отправка и удаление отзыва:
        - automation: TURBOUI-5085
        - do: кликнуть по одной из серых звезд
        - assert: рейтинг выставился и появилась кнопка оставления отзыва [https://jing.yandex-team.ru/files/skurhanski/Telegram_iHwVHHnbNB.png]
        - do: кликнуть по кнопке оставления отзыва
        - assert: появилось поле для ввода текста
        - do: ввести произвольный текст и отправить отзыв
        - assert: отзыв отображается на странице (статус - На проверке) [https://jing.yandex-team.ru/files/skurhanski/Telegram_fvmDDATKG1.png]
        - do: кликнуть по ссылке 'О магазине' вверху страницы
        - assert: открылся раздел 'Магазин'
        - do: снова кликнуть по блоку с отзывами
        - assert: открылась страница, на которой отображается ранее оставленный отзыв (статус - На проверке)
        - assert: напротив отзыва есть меню в виде трех точек [https://jing.yandex-team.ru/files/skurhanski/UwRmclnFU9.png]
        - do: кликнуть по меню, а затем кликнуть по появившейся кнопке 'Изменить'
        - assert: осуществился переход в личный кабинет пользователя, где отображается только что оставленный отзыв
        - do: удалить отзыв (кликнуть по Меню в виде трех точек в нижнем углу, затем выбрать 'Удалить отзыв' и подтвердить выбор)
        - do: вернуться на страницу с магазином и кликнуть по пиктограмме 'Магазин'
        - do: кликнуть по блоку с отзывами
        - assert: на странице с отзывами отображаются серые звезды и отсутствует ранее оставленный отзыв
    В новой вкладке:
      beforeEach:
        - do: открыть браузер в режиме инкогнито
        - do: залогиниться в Яндексе
        - do: при дальнейшей проверке обращайте внимание на любые некорректные на ваш взгляд поведения, основываясь на свой опыт использования web-приложений (например, сохранение позиции при переходах туда-обратно кнопками на устройстве, пустые экраны при переходах, кривая верстка, скачкИ элементов, плавность скролла, неработающая функциональность и т.п.)
        - do: перейти по ссылке https://yandex.ru/turbo/super01.ru/n/yandexturbocatalog/main/?morda=1&ecommerce_main_page_preview=1
        - assert: открылась страница магазина
        - do: перейти в раздел Магазин, кликнув по соответствующей пиктограмме на нижней панели
        - assert: в разделе Магазин есть блок с отзывами [https://jing.yandex-team.ru/files/skurhanski/chrome_yykfczWfVZ.png]
        - do: кликнуть по блоку с отзывами
        - assert: с анимацией справа налево выехала страница отзывов (плавность анимации может зависеть от текущей производительсности устройства) [https://jing.yandex-team.ru/files/skurhanski/chrome_dfeKCerKwm.png]
      Просмотрт отзывов:
        - automation: TURBOUI-5085
        - do: поскроллить страницу отзывов (при наличии достаточного количества отзывов)
        - assert: страница скроллится корректно
        - do: проверить работу сортировки отзывов
        - assert: сортировка работает и отзывы отображаются корректно
        - do: проверить работу разворачивания отзыва, скрытия текста, ссылок на именах пользвателей (при наличии данных элементов)
        - assert: разворачивание отзыва, скрытие текста и ссылки на именах пользвателей работают корректно
        - do: кликнуть по ссылке 'О магазине' вверху страницы
        - assert: открылся раздел 'Магазин' том положении, в котором из него уходили на страницу отзывов
      Отправка и удаление отзыва:
        - automation: TURBOUI-5085
        - do: кликнуть по одной из серых звезд
        - assert: рейтинг выставился и появилась кнопка оставления отзыва [https://jing.yandex-team.ru/files/skurhanski/Telegram_iHwVHHnbNB.png]
        - do: кликнуть по кнопке оставления отзыва
        - assert: появилось поле для ввода текста
        - do: ввести произвольный текст и отправить отзыв
        - assert: отзыв отображается на странице (статус - На проверке) [https://jing.yandex-team.ru/files/skurhanski/Telegram_fvmDDATKG1.png]
        - do: кликнуть по ссылке 'О магазине' вверху страницы
        - assert: открылся раздел 'Магазин'
        - do: снова кликнуть по блоку с отзывами
        - assert: открылась страница, на которой отображается ранее оставленный отзыв (статус - На проверке)
        - assert: напротив отзыва есть меню в виде трех точек [https://jing.yandex-team.ru/files/skurhanski/UwRmclnFU9.png]
        - do: кликнуть по меню, а затем кликнуть по появившейся кнопке 'Изменить'
        - assert: осуществился переход в личный кабинет пользователя, где отображается только что оставленный отзыв
        - do: удалить отзыв (кликнуть по Меню в виде трех точек в нижнем углу, затем выбрать 'Удалить отзыв' и подтвердить выбор)
        - do: вернуться на страницу с магазином и кликнуть по пиктограмме 'Магазин'
        - do: кликнуть по блоку с отзывами
        - assert: на странице с отзывами отображаются серые звезды и отсутствует ранее оставленный отзыв
  Пользователь не залогинен:
    В оверлее:
      beforeEach:
        - do: открыть браузер в режиме инкогнито
        - do: разлогиниться в Яндексе, если есть залогиненные пользователи
        - do: получить выдачу по запросу 'site:super01.ru каталог' (не забыть про двоеточие в запросе)
        - assert: на выдаче присутствует турбо-сниппет(ы) с серой иконкой ракеты справа от гринурла
        - do: при дальнейшей проверке обращайте внимание на любые некорректные на ваш взгляд поведения, основываясь на свой опыт использования web-приложений (например, сохранение позиции при переходах туда-обратно кнопками на устройстве, пустые экраны при переходах, кривая верстка, скачкИ элементов, плавность скролла, неработающая функциональность и т.п.)
        - do: кликнуть по любой ссылке турбо-сниппета для перехода на страницу магазина
        - assert: открылась страница магазина
        - do: перейти в раздел Магазин, кликнув по соответствующей пиктограмме на нижней панели
        - assert: в разделе Магазин есть блок с отзывами [https://jing.yandex-team.ru/files/skurhanski/chrome_yykfczWfVZ.png]
        - do: кликнуть по блоку с отзывами
        - assert: с анимацией справа налево выехала страница отзывов (плавность анимации может зависеть от текущей производительсности устройства) [https://jing.yandex-team.ru/files/skurhanski/Telegram_4zJgRrtEzH.png]
      Залогин:
        - automation: TURBOUI-5085
        - do: кликнуть по любой из серых звезд
        - assert: появилась страница (или попап) для ввода имени пользователя
        - do: залогиниться
        - assert: пользователь после залогина оказался на странице отзывов
        - assert: в нижней навигационной панели появилось имя пользователя (и аватарка, если она установлена у пользователя)
    В новой вкладке:
      beforeEach:
        - do: открыть браузер в режиме инкогнито
        - do: разлогиниться в Яндексе, если есть залогиненные пользователи
        - do: при дальнейшей проверке обращайте внимание на любые некорректные на ваш взгляд поведения, основываясь на свой опыт использования web-приложений (например, сохранение позиции при переходах туда-обратно кнопками на устройстве, пустые экраны при переходах, кривая верстка, скачкИ элементов, плавность скролла, неработающая функциональность и т.п.)
        - do: перейти по ссылке https://yandex.ru/turbo/super01.ru/n/yandexturbocatalog/main/?morda=1&ecommerce_main_page_preview=1
        - assert: открылась страница магазина
        - do: перейти в раздел Магазин, кликнув по соответствующей пиктограмме на нижней панели
        - assert: в разделе Магазин есть блок с отзывами [https://jing.yandex-team.ru/files/skurhanski/chrome_yykfczWfVZ.png]
        - do: кликнуть по блоку с отзывами
        - assert: с анимацией справа налево выехала страница отзывов (плавность анимации может зависеть от текущей производительсности устройства) [https://jing.yandex-team.ru/files/skurhanski/Telegram_4zJgRrtEzH.png]
      Залогин:
        - automation: TURBOUI-5085
        - do: кликнуть по любой из серых звезд
        - assert: появилась страница (или попап) для ввода имени пользователя
        - do: залогиниться
        - assert: пользователь после залогина оказался на странице отзывов
        - assert: в нижней навигационной панели появилось имя пользователя (и аватарка, если она установлена у пользователя)

files: []

v-team: Turbo

tlds: ru

tags:
  - ecom-tap
  - reviews
