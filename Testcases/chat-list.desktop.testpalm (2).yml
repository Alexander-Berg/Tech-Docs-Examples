feature: Чат-лист Диалогов

import-steps:
    - tests/hermione/suites/desktop/shared-steps/backoffice.testpalm.steps.yml
    - tests/hermione/suites/desktop/shared-steps/new-dialogue.testpalm.steps.yml
    - tests/hermione/suites/desktop/shared-steps/open-backoffice.testpalm.steps.yml

tlds: ru

specs:
    Отображение дефолтного аватара чата:
        - automation: YDO-6833
        - attach: Открытие Диалогов
        - assert: в списке чатов отображается картинка "буква К и первая цифра номера клиента"
        - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/tony-prots/45A.0BK_2019-04-16_10-46-48.png]

    Контекстное меню чата:
        - automation: YDO-6833
        - attach: Открытие Диалогов
        - do: нажать правой кнопкой мыши на любой чат в списке чатов
        - assert: контекстное меню чата не открылось

    Отображение последнего короткого отправленного сообщения:
        - automation: YDO-6833
        - attach: Открытие Диалогов
        - assert: отправленное сообщение отображается в чате в списке чатов, например "Текст_Вашего_Отправленного_Сообщения"
        - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/tony-prots/2019-05-21_16-35-41.png]

    Отображение последнего полученного длинного сообщения:
        - automation: YDO-6833
        - attach: Отображение последнего полученного длинного
        - do: нажать "Принять" в правом блоке с информацией
        - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/tony-prots/2019-05-21_16-42-17.png]
        - assert: в списке чатов полученное сообщение отображается в виде допустимого количества символов, а остальные символы заменены на "...", например "Текст_Полученного_длинного_сообщ..."

    Скролл ползунком:
        - automation: YDO-6833
        - attach: Скролл ползунка
        - do: нажать "Принять"
        - do: вернуться на вкладку "Очередь" нажатием на соответствующую иконку слева
        - do: повторить последние три шага для всех созданных чатов
        - do: перейти на вкладку Диалоги с помощью левого сайдбара
        - do: уменьшить размер окна с админкой, что бы был возможен скролл в списке чатов
        - do: навести курсор на список чатов
        - assert: отобразился ползунок скролла
        - screenshot: примерный вид отображения [https://jing.yandex-team.ru/files/tony-prots/Снимок%20экрана%202019-05-21%20в%2016.37.21.png]
        - do: навести курсор на ползунок
        - assert: ползунок увеличился  в размере
        - do: проскроллить вниз списка чатов с помощью ползунка
        - assert: список чатов скроллится

    Скролл мышью-трекпадом:
        - automation: YDO-6833
        - attach: Скролл мышью
        - do: нажать "Принять"
        - do: вернуться на вкладку "Очередь" нажатием на соответствующую иконку слева
        - do: повторить последние три шага для всех созданных чатов
        - do: перейти на вкладку Диалоги с помощью левого сайдбара
        - do: уменьшить размер окна с админкой, что бы был возможен скролл в списке чатов
        - do: навести курсор на список чатов
        - do: с помощью колесика мыши или трекпада проскроллить список чатов вниз
        - assert: список чатов скроллится

    Сортировка по времени последнего сообщения в чате:
        - automation: YDO-6833
        - attach: Cортировка по времени
        - do: нажать "Принять"
        - do: вернуться на вкладку "Очередь" нажатием на соответствующую иконку слева
        - do: повторить последние три шага для всех созданных чатов
        - do: нажать на иконку "Диалоги" в левом сайдбаре
        - do: нажать на любой чат
        - do: отправить в него сообщение
        - do: повторить последние два действия один раз
        - assert: в списке чатов сначала идут чаты, где последнее сообщение написано не из админки, чаты сортируются по времени (сверху показываются самые старые). После идут чаты, где последнее сообщение - от вас, сортируются по времени (сверху показываются самые свежие).


    Отображение времени отправки последнего сообщения:
        - automation: YDO-6833
        - attach: Открытие Диалогов
        - assert: у перенесенного в Диалоги чата отображается время отправки последнего сообщения в формате ЧЧ:ММ
        - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/tony-prots/2019-05-21_16-35-41.png]

files: []

v-team: Uslugi

tags:
    - no_assessors
    - skip_manual_check
    - floyd
