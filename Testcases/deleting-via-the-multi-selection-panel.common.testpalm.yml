feature: Удаление через панель мультивыбора

specs:

    Можно удалить текст[manual]:
        - automation:
        - description: У авторизованного пользователя есть приватный/групповой чат в истории которого есть собственное текстовое сообщение (если такого сообщения нет - отправить в чат любое текстовое сообщение)
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для сообщения из description
        - assert: Появляется контекстное меню для этого сообщения
        - do: Нажать на "Выбрать"
        - assert: |
              Сообщение было выделено
              Внизу появилась панель мультивыбора
              В панели мультивыбора есть кнопка "Удалить" со значком корзины выделенные красным цветом (для небольших экранов или мобильных девайсов - отображается только значок корзины)
        - do: Нажать на кнопку "Удалить" (значок корзины)
        - assert: |
              Появился попап с надписью "Удалить сообщение?"
              В попапе есть кнпоки "Отмена" и "ОК"
        - do: Нажать "ОК"
        - assert: |
              Попап закрылся
              Сообщение было удалено
              В окне чата появилась надпись "Сообщение было удалено"

    Можно удалить несколько собственных сообщений[manual]:
        - tags: [advanced_smoke, b2b]
        - automation:
        - description: У авторизованного пользователя есть приватный/групповой чат в истории которого есть несколько собственных сообщений
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для сообщения из description
        - assert: Появляется контекстное меню для этого сообщения
        - do: Нажать на "Выбрать"
        - assert: |
              Сообщение было выделено
              Внизу появилась панель мультивыбора
              В панели мультивыбора есть кнопка "Удалить" со значком корзины выделенные красным цветом (для небольших экранов или мобильных девайсов - отображается только значок корзины)
        - do: Выделить еще несколько собственных сообщений (идущих подряж)(например еще два сообщения)
        - asssert: |
              Сообщения были выделены (у Вас выделено уже три сообщения)
              В панели мультивыбора есть кнопка "Удалить" со значком корзины выделенные красным цветом (для небольших экранов или мобильных девайсов - отображается только значок корзины)
        - do: Нажать на кнопку "Удалить" (значок корзины)
        - assert: |
              Появился попап с надписью "Удалить N сообщений(ия)?"
              В попапе есть кнпоки "Отмена" и "ОК"
        - do: Нажать "ОК"
        - assert: |
              Попап закрылся
              Сообщениия были удалены
              В окне чата отображается надпись "Удалено N сообщений(ия)" (в нашем случае "Удалено 3 сообщения")

    Нельзя удалить сообщения собеседников[manual]:
        - automation:
        - description: |
              У авторизованного пользователя есть приватный/групповой чат в истории которого есть текстовое сообщение от другого пользователя
              Данный пользователь не является администратором чата
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для сообщения из description
        - assert: Появляется контекстное меню для этого сообщения
        - do: Нажать на "Выбрать"
        - assert: |
              Сообщение было выделено
              Внизу появилась панель мультивыбора
              В панели мультивыбора нет кнопки "Удалить" со значком корзины (для небольших экранов нет значка "корзины")

    Нельзя удалить свои и сообщения собеседника выделенные одновременно[manual]:
        - automation:
        - description: |
              У авторизованного пользователя есть приватный/групповой чат в истории которого есть сообщение от другого пользователя, так же есть собственное сообщение
              Данный пользователь не является администратором чата
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для собственного сообщения
        - assert: Появляется контекстное меню для этого сообщения
        - do: Нажать на "Выбрать"
        - assert: |
              Сообщение было выделено
              Внизу появилась панель мультивыбора
              В панели мультивыбора есть кнопка "Удалить" со значком корзины выделенные красным цветом (для небольших экранов или мобильных девайсов - отображается только значок корзины)
        - do: Нажать на сообщение собеседника
        - assert: |
              Сообщения собеседника выделено
              В панели мультивыбора пропала кнопка "Удалить" со значком корзины выделенные красным цветом (для небольших экранов или мобильных девайсов - отображается только значок корзины)

    Можно удалить картинку[manual]:
        - automation:
        - description: У авторизованного пользователя есть приватный/групповой чат в истории которого есть собственное изображение
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для изображения из description
        - assert: Появляется контекстное меню для этого изображения
        - do: Нажать на "Выбрать"
        - assert: |
              Изображение было выделено
              Внизу появилась панель мультивыбора
              В панели мультивыбора есть кнопка "Удалить" со значком корзины выделенные красным цветом (для небольших экранов или мобильных девайсов - отображается только значок корзины)
        - do: Нажать на кнопку "Удалить" (значок корзины)
        - assert: |
              Появился попап с надписью "Удалить сообщение?"
              В попапе есть кнпоки "Отмена" и "ОК"
        - do: Нажать "ОК"
        - assert: |
              Попап закрылся
              Изображение было удалено
              В окне чата появилась надпись "Сообщение было удалено"

    Можно удалить видео[manual]:
        - automation:
        - description: У авторизованного пользователя есть приватный/групповой чат в истории которого есть собственное видео
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для видео из description
        - assert: Появляется контекстное меню для этого видео
        - do: Нажать на "Выбрать"
        - assert: |
              Видео было выделено
              Внизу появилась панель мультивыбора
              В панели мультивыбора есть кнопка "Удалить" со значком корзины выделенные красным цветом (для небольших экранов или мобильных девайсов - отображается только значок корзины)
        - do: Нажать на кнопку "Удалить" (значок корзины)
        - assert: |
              Появился попап с надписью "Удалить сообщение?"
              В попапе есть кнпоки "Отмена" и "ОК"
        - do: Нажать "ОК"
        - assert: |
              Попап закрылся
              Видео было удалено
              В окне чата появилась надпись "Сообщение было удалено"

    Можно удалить пересланное сообщение[manual]:
        - automation:
        - description: У авторизованного пользователя есть приватный/групповой чат в истории которого есть собственное пересланное сообщение
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для пересланного сообщения из description
        - assert: Появляется контекстное меню для этого изображения
        - do: Нажать на "Выбрать"
        - assert: |
              Сообщение было выделено
              Внизу появилась панель мультивыбора
              В панели мультивыбора есть кнопка "Удалить" со значком корзины выделенные красным цветом (для небольших экранов или мобильных девайсов - отображается только значок корзины)
        - do: Нажать на кнопку "Удалить" (значок корзины)
        - assert: |
              Появился попап с надписью "Удалить сообщение?"
              В попапе есть кнпоки "Отмена" и "ОК"
        - do: Нажать "ОК"
        - assert: |
              Попап закрылся
              Сообщение было удалено
              В окне чата появилась надпись "Сообщение было удалено"

    Можно удалить цитируемый текст[manual]:
        - automation:
        - description: У авторизованного пользователя есть приватный/групповой чат в истории которого есть собственный reply
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для reply из description
        - assert: Появляется контекстное меню для этого reply
        - do: Нажать на "Выбрать"
        - assert: |
              Reply был выделено
              Внизу появилась панель мультивыбора
              В панели мультивыбора есть кнопка "Удалить" со значком корзины выделенные красным цветом (для небольших экранов или мобильных девайсов - отображается только значок корзины)
        - do: Нажать на кнопку "Удалить" (значок корзины)
        - assert: |
              Появился попап с кнопками надписью "Удалить сообщение?"
              В попапе есть кнпоки "Отмена" и "ОК"
        - do: Нажать "ОК"
        - assert: |
              Попап закрылся
              Reply был удален
              В окне чата появилась надпись "Сообщение было удалено"

    Можно удалить ссылку[manual]:
        - automation:
        - description: У авторизованного пользователя есть приватный/групповой чат в истории которого есть собсственная ссылка
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для сообщения из description
        - assert: Появляется контекстное меню для этого сообщения
        - do: Нажать на "Выбрать"
        - assert: |
              Сообщение было выделено
              Внизу появилась панель мультивыбора
              В панели мультивыбора есть кнопка "Удалить" со значком корзины выделенные красным цветом (для небольших экранов или мобильных девайсов - отображается только значок корзины)
        - do: Нажать на кнопку "Удалить" (значок корзины)
        - assert: |
              Появился попап с надписью "Удалить сообщение?"
              В попапе есть кнпоки "Отмена" и "ОК"
        - do: Нажать "ОК"
        - assert: |
              Попап закрылся
              Сообщение было удалено
              В окне чата появилась надпись "Сообщение было удалено"

    Можно удалить файл[manual]:
        - automation:
        - description: У авторизованного пользователя есть приватный/групповой чат в истории которого есть собсственный файл
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для файла из description
        - assert: Появляется контекстное меню для этого файла
        - do: Нажать на "Выбрать"
        - assert: |
              Файл был выделен
              Внизу появилась панель мультивыбора
              В панели мультивыбора есть кнопка "Удалить" со значком корзины выделенные красным цветом (для небольших экранов или мобильных девайсов - отображается только значок корзины)
        - do: Нажать на кнопку "Удалить" (значок корзины)
        - assert: |
              Появился попап с надписью "Удалить сообщение?"
              В попапе есть кнпоки "Отмена" и "ОК"
        - do: Нажать "ОК"
        - assert: |
              Попап закрылся
              Файл был удален
              В окне чата появилась надпись "Сообщение было удалено"

    Проверка склонения при выборе количества удаляемых сообщений[manual]:
        - automation:
        - description: У авторизованного пользователя есть приватный/групповой чат в истории которого есть собсственные сообщения
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для сообщения из description
        - assert: Появляется контекстное меню для этого сообщения
        - do: Нажать на "Выбрать"
        - assert: |
              Файл был выделен
              Внизу появилась панель мультивыбора
              В панели мультивыбора есть кнопка "Удалить" со значком корзины выделенные красным цветом (для небольших экранов или мобильных девайсов - отображается только значок корзины)
        - do: Выделить еще несколько собственных сообщений (например ещё 2 сообщения)
        - assert: |
              Сообщения были выделены (в нашем примере 3 выделенных сообщения)
              Доступна кнопка "Удалить " со значком корзины выделенные красным цветом (для небольших экранов или мобильных девайсов - отображаетсятолько значок корзины)
        - do: В меню мультивыбора нажать на кнопку "Удалить" (значок корзины)
        - assert: |
              Появился попап с надписью "Удалить 3 сообщения?"
              В попапе есть кнпоки "Отмена" и "ОК"
        - do: Нажать на “Отмена" и затем выделить еще три сообщения
        - assert: |
              Удаление отменено
              Все сообщения выделены (в нашем случае выделенных сообщений уже 6)
              В панели мультивыбора есть кнопка "Удалить" со значком корзины выделенные красным цветом (для небольших экранов или мобильных девайсов - отображается только значок корзины)
        - do: В меню мультивыбора нажать на кнопку "Удалить" (значок корзины)
        - assert: |
              Появился попап с надписью "Удалить 6 сообщений?"
              В попапе есть кнпоки "Отмена" и "ОК"
        - do: Нажать на “Отмена" и затем отменить выделение 5 сообщений (нажатием по ним)
        - assert: |
              Удаление отменено
              Сообщения по которым были нажатия - не выделены (в нашем случае осталось одно выделенное сообщение)
              В панели мультивыбора есть кнопка "Удалить" со значком корзины выделенные красным цветом (для небольших экранов или мобильных девайсов - отображается только значок корзины)
        - do: В меню мультивыбора нажать на “корзину”
        - assert: |
              Появился попап с надписью "Удалить сообщение?"
              В попапе есть кнпоки "Отмена" и "ОК"

    Можно отменить удаление по кнопке Отмена[manual]:
        - automation:
        - description: У авторизованного пользователя есть приватный/групповой чат в истории которого есть собственное текстовое сообщение (если такого сообщения нет - отправить в чат любое текстовое сообщение)
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для сообщения из description
        - assert: Появляется контекстное меню для этого сообщения
        - do: Нажать на "Выбрать"
        - assert: |
              Сообщение было выделено
              Внизу появилась панель мультивыбора
              В панели мультивыбора есть кнопка "Удалить" со значком корзины выделенные красным цветом (для небольших экранов или мобильных девайсов - отображается только значок корзины)
        - do: Нажать на кнопку "Удалить" (значок корзины)
        - assert: |
              Появился попап с надписью "Удалить сообщение?"
              В попапе есть кнпоки "Отмена" и "ОК"
        - do: Нажать на "Отмена"
        - assert: Удаление отменено

    Можно удалить свои сообщения разного типа[manual]:
        - tags: [b2b]
        - automation:
        - description: У авторизованного пользователя есть приватный/групповой чат в истории которого есть собственное текстовое сообщение, собственное изображение,  собственное видео, собственный файл, собственный стикер, собсвтенный reply, собственный Forward, собственное сообщение с ссылкой (данные сообщения идут подряд друг за другом)
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Выделить все сообщения из description
        - assert: |
              Сообщения выделены
              В панели мультивыбора есть кнопка "Удалить" со значком корзины выделенные красным цветом (для небольших экранов или мобильных девайсов - отображается только значок корзины)
        - do: Нажать на кнопку "Удалить" (значок корзины)
        - assert: |
              Появился попап на подтверждение удаления сообщений
              В попапе есть кнпоки "Отмена" и "ОК"
        - do: Нажать кнопку "ОК"
        - assert: |
              Выделенные сообщения был удалены
              В окне чата отображается надпись "Удалено N сообщений(ия)" (в зависимости от того сколько сообщений было выделено)

    Можно удалить стикер[manual]:
        - automation:
        - description: У авторизованного пользователя есть приватный/групповой чат в истории которого есть собственной стикер
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для стикера из description
        - assert: Появляется контекстное меню для этого стикера
        - do: Нажать на "Выбрать"
        - assert: |
              Стикер был выделен
              Внизу появилась панель мультивыбора
              В панели мультивыбора есть кнопка "Удалить" со значком корзины выделенные красным цветом (для небольших экранов или мобильных девайсов - отображается только значок корзины)
        - do: Нажать на кнопку "Удалить" (значок корзины)
        - assert: |
              Появился попап с надписью "Удалить сообщение?"
              В попапе есть кнпоки "Отмена" и "ОК"
        - do: Нажать "ОК"
        - assert: |
              Попап закрылся
              Стикер был удален
              В окне чата появилась надпись "Сообщение было удалено"

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team

