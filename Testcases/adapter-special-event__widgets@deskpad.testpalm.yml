feature: Специальные события
type: Виджеты

specs:
  Базовые проверки:
    params:
      foreverdata: '3383482839'
    beforeEach:
      - do: получить выдачу по запросу 'foreverdata'
      - assert: колдунщик присутствует на странице
    Таб "Главное":
      - screenshot: внешний вид [main]
      - do: промотать карусель в конец
      - assert: появилась ссылка "Еще новости" со стрелкой
      - screenshot: внешний вид [main-scrolled]
      - do: нажать на ссылку "Еще новости"
      - assert: ссылка открылась в новой вкладке
      - tech: сработал счетчик '/$page/$top/$result/tabs/pane/scroller/more'
    Таб "Новости":
      - do: нажать на второй таб
      - tech: сработал счётчик "/$page/$top/$result/tabs/controls/tab"
      - assert: открылся таб "Новости"
      - screenshot: внешний вид [news]
      - do: промотать карусель в конец
      - assert: появилась ссылка "Еще новости" со стрелкой
      - screenshot: внешний вид [news-scrolled]
      - do: нажать на ссылку "Еще новости"
      - assert: ссылка открылась в новой вкладке
      - tech: сработал счетчик '/$page/$top/$result/tabs/pane/news/more'
    Таб "Статистика":
      - do: нажать на третий таб
      - tech: сработал счётчик "/$page/$top/$result/tabs/controls/tab"
      - assert: открылся таб "Статистика"
      - screenshot: внешний вид [statistics]
  Метки свежести в карточках новостей:
    - params:
        foreverdata: '3383482839'
        user_time: '202005211505'
    - do: получить выдачу по запросу 'foreverdata'
    - assert: колдунщик присутствует на странице
    - assert: в колдунщике присутствует карточка новости с меткой "6 часов назад"
    - do: нажать на второй таб
    - assert: открылся таб "Новости", в котором также присутствует карточка новости с меткой "6 часов назад"

tlds:
  - ru
  - by
  - ua
  - kz
  - uz

files:
  - features/adapter-special-event/adapter-special-event__widgets/adapter-special-event__widgets@deskpad.hermione.js

v-team: Freshness

qa-engineer:
  - kseverina

tags:
  - skip_e2e_check

manager: nkmakarov

counter: /$page/$top/$result[@wizard_name="special/event"]
