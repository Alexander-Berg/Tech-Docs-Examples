feature: Специальные события
type: Виджеты

specs:
  Базовые проверки:
    params:
      foreverdata: '2144233936'
    beforeEach:
      - do: получить выдачу по запросу 'foreverdata'
      - assert: колдунщик присутствует на странице
    Внешний вид:
      - screenshot: внешний вид [plain]
      - assertMetrics: '-'
    Кнопка шаринга:
      - assert: в карточке рядом с заголовком есть кнопка шаринга
      - screenshot: пример внешнего вида кнопки шаринга [share-button]
      - do: кликнуть по кнопке шаринга
      - assert: открылся системный попап с разными способами поделиться
      - tech: сработал динамический счетчик /$page/$main/$result/share
    Новости:
      - do: нажать на второй таб
      - assert: открылся таб с новостями
      - screenshot: внешний вид [news]
      - assertMetrics: '-'
    Баобаб в виджетных карточках:
      - tags:
          - no_assessors
      - do: кликнуть на карточку "Важное"
      - tech: отправился счетчик "/$page/$main/$result/tabs/pane/testNameFromData/link"
  Обновление времени в блоке Самое важное:
    - params:
        foreverdata: '4260072249'
        user_time: '202006170101'
    - do: получить выдачу по запросу 'foreverdata'
    - assert: на выдаче присутствует колдунщик коронавируса
    - assert: в колдунщике присутствует блок "Самое важное" с подписью "1 час назад"
    - screenshot: внешний вид [hot-time]
  Внешний вид в темной теме:
    - params:
        foreverdata: '2144233936'
    - do: получить выдачу по запросу 'foreverdata'
    - assert: колдунщик присутствует на странице
    - screenshot: внешний вид [plain]
  Переключение табов внутри контента:
    - params:
        foreverdata: '1427871040'
    - do: получить выдачу по запросу 'foreverdata'
    - assert: на выдаче присутствует колдунщик коронавируса
    - assert: в колдунщике присутствует блок "Статистика"
    - do: нажать на кнопку "В России"
    - assert: таб переключился на данные по России
    - do: нажать на кнопку "В мире"
    - assert: таб переключился на данные по миру

tlds:
  - ru
  - by
  - ua
  - kz
  - uz

files:
  - features/touch-phone/adapter-special-event/adapter-special-event__widgets/adapter-special-event__widgets.hermione.js

v-team: Freshness

qa-engineer:
  - kseverina

tags:
  - skip_e2e_check

manager: nkmakarov

counter: /$page/$main/$result[@wizard_name="special/event"]/title
