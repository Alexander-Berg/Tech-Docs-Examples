feature: Ecom-tap

specs:
  Поисковый саджест:
    Внешний вид:
      - do: открыть страницу https://yandex.ru/turbo/spideradio.github.io/n/yandexturbocatalog/?query=к
      - assert: открылась страница
      - do: кликнуть в поисковую строку на странице
      - assert: появился блок с подсказками - пословные, категории и товары
      - screenshot: внешний вид соответствует скриншоту [suggest]
    Клик в товар:
      - do: открыть страницу https://yandex.ru/turbo/spideradio.github.io/n/yandexturbocatalog/?query=к
      - assert: открылась страница
      - do: кликнуть в поисковую строку на странице
      - assert: появился блок с подсказками - пословные, категории и товары
      - do: кликнуть в товар
      - assert: открылась страница с товаром, все описание и элементы видны, блок с подсказками закрыт

    С глобальным поиском:
      beforeEach:
        - do: открыть страницу https://yandex.ru/turbo/super01.ru/n/yandexturbocatalog/main/?morda=1&ecommerce_main_page_preview=1
        - do: кликнуть в поисковую строку магазина
        - assert: логотип, название магазина и иконка корзины исчезли с анимацией
        - assert: появился саджест с подсказками
        - assert: внешний вид [https://jing.yandex-team.ru/files/skurhanski/chrome_YMMEEoJ6nW.png]
        - do: ввести в поисковую строку букву 'ч'
        - assert: подсказки в саджесте изменились (здесь и далее текст подсказок в саджесте может отличаться) [https://jing.yandex-team.ru/files/skurhanski/chrome_57zizHDwHr.png]

      Клик по стрелке:
        - automation: SERPTEST-1719
        - do: нажать на стрелку слева от поисковой строки (на ios устройствах сначала может скрыться клавиатура, и нужно нажать на стрелку еще раз)
        - assert: саджест с подсказками и клавиатура устройства исчезли
        - assert: поисковая строка стала пустой и приняла первоначальный вид (исчезла стрелка и кнопка Найти)
        - assert: логотип, название магазина и иконка корзины появились с анимацией

      Скролл саджеста:
        - automation: SERPTEST-1719
        - do: поскроллисть саджест до конца вниз и вверх несколько раз
        - assert: клавиатура устройства исчезла
        - assert: саджест скроллится корректно, верстка нигде не едет, нет разрывов в саджесте и нет скачкОв различных элементов при скролле
        - assert: кликнуть по подсказке серого цвета вверху саджеста
        - assert: появилась клавиатура устройства
        - assert: текст из пословной подсказки отобразился в поисковой строке

      Клик по крестику:
        - automation: SERPTEST-1719
        - do: нажать на крестик справа в поисковой строке
        - assert: подсказки в саджесте изменились
        - assert: текст в строке исчез, а клавиатура устройства и саджест отображаются

      Динамическое изменение подсказок при вводе текста:
        - automation: SERPTEST-1719
        - do: ввести в поисковую строку еще буквы, чтобы получилось 'чел'
        - assert: при вводе новых символов подсказки в саджесте меняются, подстраиваясь под вводимое слово
        - do: удалить два символа, оставив только 'ч'
        - assert: при удалении символов подсказки в саджесте меняются

      Пословные подсказки:
        - automation: SERPTEST-1719
        - do: кликнуть по подсказке серого цвета (далее - пословная подсказка)
        - assert: текст из пословной подсказки отобразился в поисковой строке
        - assert: подсказки в саджесте снова поменялись
        - do: кликнуть по новой пословной подсказке (если таких подсказок нет, кликнуть другую подсказку шагом ранее)
        - assert: текст из пословной подсказки добавился через пробел к уже введенному ранее тексту
        - assert: подсказки в саджесте снова поменялись
        - do: кликнуть Найти в поисковой строке
        - assert: клавиатура устройства исчезла и отобразились результаты поиска
        - assert: в поисковой строке отображается поисковый запрос
        - assert: под поисковой строкой отображается ссылка "Главная" [https://jing.yandex-team.ru/files/skurhanski/chrome_fhcuPYfSSU.png]

      Навигационные подсказки (категория):
        - automation: SERPTEST-1719
        - do: кликнуть по навигационной категорийной подсказке (это подсказка, справа от которой есть стрелочка); если подсказка не видна на экране, следует немного проскроллись саджест с подсказками
        - assert: осуществился переход в раздел, соответствующий названию навигационной подсказки из саджеста
        - assert: в поисковой строке нет поискового запроса и отсутствует клавиатура устройства
        - assert: под поисковой строкой отображается ссылка на верхнеуровневый раздел, в котором находится выбранная категория
        - assert: пример внешнего вида [https://jing.yandex-team.ru/files/skurhanski/chrome_MkdhOQ0DuQ.png]

      Навигационные подсказки (товар):
        - automation: SERPTEST-1719
        - do: кликнуть по навигационной товарной подсказке (это подсказка, слева от которой есть картинка); если подсказка не видна на экране, следует немного проскроллись саджест с подсказками
        - assert: осуществился переход карточку товара, соответствующий названию навигационной подсказки из саджеста
        - assert: нак картинкой товара отображается ссылка на верхнеуровневый раздел, в котором находится выбранный товар
        - assert: пример внешнего вида [https://jing.yandex-team.ru/files/skurhanski/chrome_2nOAQY41uD.png]

v-team: Turbo

files:
  - __tests__/suggest@phone.hermione.js

tlds: ru

tags:
  - ecom-tap
  - suggest
