feature: Блок Яндекс.Новостей на главной странице yandex.ru

description: На главной странице yandex.ru отображается несколько блоков сервиса Яндекс Новости. Блок Сейчас в СМИ содержит топ новостей из каждой рубрики. Блок Интересное в СМИ содержит персонализированую карусель сюжетов.

specs:

  позволяет открыть сюжет из рубрики [manual]:
    - tags:
      - brow_only
    - reasonNotToAuto:
      - Проверка на морде
    - do: после перехода на тестовый стенд открыть страницу https://yandex.ru в той же вкладке
    - do: авторизоваться на сервисе под любым аккаунтом и в настройках аккаунта проверьте включение блоков Новостей (подробнее про настройку включения нужных блоков читайте на соответствующей странице Вики - https://wiki.yandex-team.ru/eva/testing/projects/nerpa/#otkljuchenijalentydzenaivkljuchenieblokovnovostejjnayandex.ru)
    - do: проскроллить до блока "Сейчас в СМИ в России", открыть любой НЕ спортивный сюжет из таба Главное
    - assert: |
        открывается сюжет сервиса Яндекс Новости в той же вкладке,
        заголовок сюжета идентичен заголовку новости в блоке
    - do: вернуться на страницу yandex.ru
    - do: перейти на таб рубрики Спорт, открыть любой сюжет из этого таба
    - assert: открывается сюжет сервиса Яндекс Спорт в текущей вкладке
    - do: вернуться на страницу yandex.ru
    - do: проскроллить вниз до блока 'Интересное в СМИ', открыть любой сюжет из карусели
    - assert: |
        открывается сюжет сервиса Яндекс.Новости в той же вкладке,
        заголовок сюжета идентичен заголовку карточки в блоке,
        источник сюжета идентичен источнику, указанному в карточке в блоке

  позволяет открыть рубрику [manual]:
    - tags:
        - brow_only
    - reasonNotToAuto:
      - Проверка на морде
    - do: после перехода на тестовый стенд открыть страницу yandex.ru в той же вкладке
    - do: проскроллить до блока "Сейчас в СМИ в России", тапнуть по заголовку "Сейчас в СМИ в России"
    - assert: открывается главная страница сервиса Яндекс.Новости в той же вкладке
    - do: вернуться на страницу yandex.ru
    - do: перейти на таб другой рубрики (кроме рубрики "Спорт"), тапнуть по табу еще раз
    - assert: открывается страница выбранной рубрики в той же вкладке

  позволяет открыть рубрику котировок [manual]:
    - reasonNotToAuto:
      - Проверка на морде
    - do: открыть страницу yandex.ru
    - do: проскроллить до блока "Котировки", тапнуть по любому наименованию графика
    - assert: |
        в той же вкладке открывается страница с заголовком, соответствующим выбранным котировкам,
        отображается линия графика курса котировок и таблица данных "За последние 10 дней",
        под таблицей отображается лента новостей с рекламой

  содержит персональные новости [manual]:
    - tags:
      - brow_only
    - reasonNotToAuto:
      - Проверка на морде
    - do: открыть выдачу сервиса на странице рубрики "Главное"
    - do: после перехода на тестовый стенд в той же вкладке открыть страницу yandex.ru
    - do:
        залогиниться на сервисе под пользователем Александр Овечкин (логин и пароль взять со страницы-инструкции на вики - https://wiki.yandex-team.ru/eva/testing/projects/nerpa/#loginyiparolidljatestovyxpolzovatelejj)
        если возникла проблема с авторизацией - залогиниться под любым другим пользователем из таблицы - Ольга Бузова или Стив Джобс)
    - do: проскроллить до блока "Сейчас в СМИ в России", тапнуть по табу Интересное
    - assert:
        если вы залогинены под пользователем Александр Овечкин - в списке топа большинство новостей спортивные новости
        если вы залогинены под пользователем Ольга Бузова - в списке топа большинство новостей про шоу-бизнес
        если вы залогинены под пользователем Стив Джобс - в списке топа большинство новостей про технологии
    - do: проскроллить до блока Интересное в СМИ, поскроллить карусель вправо
    - assert:
        если вы залогинены под пользователем Александр Овечкин - в списке большинство новостей спортивные новости
        если вы залогинены под пользователем Ольга Бузова - в списке большинство новостей про шоу-бизнес
        если вы залогинены под пользователем Стив Джобс - в списке большинство новостей про технологии
    - do: тапнуть по заголовку блока "Интересное в СМИ"
    - assert: открывается страница рубрики Интересное в той же вкладке
    - do: открыть страницу yandex.ru и залогиниться под другим пользователем (логин и пароль можно взять на странице - https://wiki.yandex-team.ru/eva/testing/projects/nerpa/#loginyiparolidljatestovyxpolzovatelejj)
    - do: проскроллить до блока "Сейчас в СМИ в России", тапнуть по табу "Интересное"
    - assert:
        если вы залогинены под пользователем Александр Овечкин - в списке топа большинство новостей спортивные новости
        если вы залогинены под пользователем Ольга Бузова - в списке топа большинство новостей про шоу-бизнес
        если вы залогинены под пользователем Стив Джобс - в списке топа большинство новостей про технологии

  открывает таб новостей с сюжетом, блоком рекламы и лентой из блока 'Интересное в СМИ'[manual]:
    - reasonNotToAuto:
      - Проверка на морде
    - tags:
      - pp_only
    - do: открыть ПП на главной вертикали
    - do: авторизоваться в ПП под аккаунтом Ольги Бузовой, логин и пароль можно найти по ссылке https://wiki.yandex-team.ru/eva/testing/projects/nerpa/#loginyiparolidljatestovyxpolzovatelejj
    - do: в настройках аккаунта проверьте включение блоков Новостей (подробнее про настройку включения нужных блоков читайте на соответствующей странице Вики - https://wiki.yandex-team.ru/eva/testing/projects/nerpa/#otkljuchenijalentydzenaivkljuchenieblokovnovostejjnayandex.ru)
    - do: проскроллить вертикаль вниз до дивной карточки Новостей (блок 'Интересное в СМИ')
    - assert: |
          на вертикали Главное присутствует дивная карточка Новостей,
          дивная карточка состоит из карусели карточек новостей, содержащих картинку и заголовок,
          внешний вид https://jing.yandex-team.ru/files/nightsonne/photo_2020-06-26_11-57-06.jpg
    - do: тапнуть по картинке любой карточки в карусели, содержащей неспортивную новость (обратить внимание на заголовок и источник)
    - assert: |
          сюжет открывается в новой вкладке,
          сюжет имеет заголовок и источник над ним, которые совпадают с заголовком и источником в дивной карточке,
          в рубрикаторе выделена соответствующая сюжету рубрика,
          присутствует суммаризация сюжета, соответствующая заголовку (скрин - https://jing.yandex-team.ru/files/kossakovskaya/2021-08-17_15-35-54.png),
          в конце каждого пункта отображается наименование источника,
          сюжет может содержать медиаблок с фото или видео, количеством фото и/или видео,
          присутствует суммаризация сюжета (список выдержек из источников по теме статьи),
          ниже расположен социальный блок - эмоджи,
          сюжет может содержать блок 'С чего все начиналось',
          ниже может отображаться блок 'Подробнее о событии'
    - do: поскроллить ниже сюжета
    - assert: |
          под сюжетом расположен рекламный блок,
          под рекламой подгружается следующий сюжет
    - do: тапнуть на название источника над заголовком
    - assert: в новой вкладке открывается новость от источника
    - do: вернуться на страницу сюжета
    - do: кликнуть по наименованию источника в блоке суммаризации - https://jing.yandex-team.ru/files/kossakovskaya/2021-08-16_19-16-57.png
    - assert: |
         в новом табе открывается новость от источника, который был указан в блоке суммаризации,
         наименование новости соответствует тематике сюжета
    - do: вернуться на страницу сюжета
    - do: кликнуть по любому источнику в списке 'Подробнее о событии'
    - assert: в новом табе открывается новость той же тематики от источника
    - do: вернуться на страницу сюжета
    - do: тапнуть на 'Подробнее о событии'
    - assert: в той же вкладке открывается страница со всеми источниками

  открывает таб Новостей по тапу на дополнительные элементы дивной карточки (блок 'Интересное в СМИ') [manual]:
    - tags:
      - pp_only
    - reasonNotToAuto:
      - Проверка на морде
    - do: открыть ПП на главной вертикали
    - do: авторизоваться в ПП
    - do: в настройках аккаунта проверьте включение блоков Новостей (подробнее про настройку включения нужных блоков читайте на соответствующей странице Вики - https://wiki.yandex-team.ru/eva/testing/projects/nerpa/#otkljuchenijalentydzenaivkljuchenieblokovnovostejjnayandex.ru)
    - do: проскроллить вертикаль вниз до дивной карточки Новостей (блок 'Интересное в СМИ')
    - assert: |
          на вертикали Главное присутствует дивная карточка Новостей,
          дивная карточка состоит из карусели карточек новостей, содержащих картинку и заголовок,
          внешний вид https://jing.yandex-team.ru/files/nightsonne/photo_2020-06-26_11-57-06.jpg
    - do: тапнуть в название дивной карточки 'Интересное в СМИ'
    - assert: |
        открывается рубрика 'Интересное' в новом табе ПП (кол-во табов внизу страницу увеличилось на 1),
        в новом табе есть рубрикатор, есть шапка Новостей ,
        рубрика в рубрикаторе выделена,
        внешний вид https://jing.yandex-team.ru/files/an-smirn0v/PHlKyBCg2bI.jpg
    - do: перейти из таба новостей в главную вертикаль ПП любым способом
    - do: проскроллить вертикаль вниз до дивной карточки Новостей (блок 'Интересное в СМИ')
    - do: проскроллить карусель карточек на дивной карточке до конца, тапнуть по последней НЕспортивной новости (если последняя карточка в карусели - спортивный сюжет, значит, тапнуть по предпоследней)
    - assert: |
        открывается сюжет в новом табе ПП или оверлее, зависит от эксперимента,
        в табе есть рубрикатор, есть шапка Новостей,
        рубрика в рубрикаторе выделена,
        внешний вид https://jing.yandex-team.ru/files/kossakovskaya/2021-07-03_17-58-17.png
    - do: снова перейти из таба новостей в главную вертикаль ПП любым способом
    - do: проскроллить вертикаль вниз до дивной карточки Новостей (блок 'Интересное в СМИ')
    - do: тапнуть по элементу 'Больше новостей' внизу карточки
    - assert: |
        открывается рубрика 'Интересное' в новом табе ПП,
        Обратите внимание! НЕ баг: в ПП главная страница, на которой находится дивная карточка Новостей, НЕ является табом - это корректное поведение,
        поэтому при переходе в Новости появится только один НОВЫЙ таб,
        внизу экрана у вас появится обозначение 1 вкладки/таба (при условии, что других табов не открыто) - https://jing.yandex-team.ru/files/vasekerka/2021-12-23_16-48-50.png,
        в табе есть рубрикатор, есть шапка Новостей ,
        рубрика в рубрикаторе выделена,
        внешний вид https://jing.yandex-team.ru/files/an-smirn0v/PHlKyBCg2bI.jpg
    - do: поскроллить страницу
    - assert: загружаются новые карточки, отсутствует футер

  открывает таб новостей с сюжетом, блоком рекламы и лентой из блока "Сейчас в СМИ в России" [manual]:
    - tags:
      - pp_only
    - reasonNotToAuto:
      - Проверка на морде
    - do: открыть ПП на главной вертикали
    - do: проскроллить вертикаль до блока "Сейчас в СМИ в России"
    - assert: |
        на вертикали Главное присутствует блок "Сейчас в СМИ в России",
        внешний вид https://jing.yandex-team.ru/files/nightsonne/photo_2020-06-26_14-17-57.jpg
    - do: тапнуть на любой сюжет из таба Главное
    - assert: |
          открывается сюжет в новом табе Новостей, а не в вертикали,
          сюжет открывается с рубрикатором, в рубрикаторе выделена соответствующая сюжету рубрика,
          в адресной строке есть название сюжета,
          сюжет имеет заголовок и источник над ним, которые совпадают с заголовком и источником в дивной карточке,
          сюжет может содержать медиаблок с фото или видео, количеством фото и/или видео и три точки (настройка автоплея) для видеоблока,
          присутствует суммаризация сюжета, соответствующая заголовку (скрин - https://jing.yandex-team.ru/files/kossakovskaya/2021-08-17_15-35-54.png),
          в конце каждого пункта отображается название источника,
          ниже расположен социальный блок - эмоджи и иконка меню поделения,
          ниже может отображаться блок 'Подробнее о событии' с источниками,
          внешний вид https://jing.yandex-team.ru/files/kossakovskaya/photo_2021-08-16%2019.02.58.jpeg
    - do: поскроллить ниже сюжета
    - assert: |
          под сюжетом расположен рекламный блок,
          под рекламой подгружается следующий сюжет

  открывает рубрику из блока "Сейчас в СМИ в России" в новом табе ПП [manual]:
    - tags:
      - pp_only
    - reasonNotToAuto:
      - Проверка на морде
    - do: открыть ПП на главной вертикали
    - do: проскроллить вертикаль вниз до блока "Сейчас в СМИ в России" (если блока нет, проверьте его включение по инструкции - https://wiki.yandex-team.ru/eva/testing/projects/nerpa/#otkljuchenijalentydzenaivkljuchenieblokovnovostejjnayandex.ru)
    - assert: |
        на вертикали Главное присутствует блок "Сейчас в СМИ в России",
        внешний вид https://jing.yandex-team.ru/files/nightsonne/photo_2020-06-26_14-17-57.jpg
    - do: тапнуть по заголовку "Сейчас в СМИ в России"
    - assert: |
        в новом табе ПП, а не в вертикали, открывается главная страница сервиса Яндекс Новости,
        в адресной строке отображается адрес хоста yandex.ru,
        в рубрикаторе выделена рубрика 'Главное',
        внешний вид - https://jing.yandex-team.ru/files/an-smirn0v/Screenshot_20211007-122030.png
    - do: поскроллить рубрику
    - assert: рубрика скроллится и загружает новые карточки
    - do: вернуться на главную вертикаль (тапом по стрелке "Назад" либо по логотипу "Яндекс")
    - do: в блоке "Сейчас в СМИ в России" на главной вертикали ПП перейти на таб другой рубрики (кроме рубрики Спорт), например Политика, и тапнуть по табу еще раз
    - assert: |
        в новом табе ПП, а не в вертикали, открывается выбранная рубрика сервиса Яндекс Новости,
        в адресной строке отображается адрес хоста yandex.ru,
        в рубрикаторе выделена соответствующая рубрика,
        внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/photo_2021-08-16%2019.11.37.jpeg
    - do: тапнуть по любой новостной карточке в рубрике
    - assert: открывается сюжет в той же вкладке

files: []

tags:
  - neo
  - top

manager: Glushneva

qa-engineer: terenandrevna

tlds:
  - ru
  - by
  - kz
  - uz
  - ua
  - com
