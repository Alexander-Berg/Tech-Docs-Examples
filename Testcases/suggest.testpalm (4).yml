feature: yandex / Саджест

specs:
  beforeEach:
    - do: Открыть страницу с поиском для сайта '/search/site/?searchid=2321186'
  Отображаение при вводе символа в поисковую стрелку:
    - do: В поле ввода ввести один символ
    - assert: |
          Появляется саджеcт
          Все варианты саджеста содержат введенный символ
          В саджесте максимум 10 строк
  Отображение при установке фокуса в поисковую стрелку:
    - do: В поле ввода ввести запрос
    - do: Нажать кнопку 'Найти'
    - do: Установить курсор в поле ввода
    - assert: |
          Появляется такой же саджеcт
          Все варианты саджеста содержат текст запроса
  При вводе новых символов:
    - do: В поле ввода ввести один символ, по которому будут релевантные результаты (например, "т")
    - assert: Появляется саджеcт
    - do: Добавить в поле ввода еще несколько символов (например, до "тест")
    - assert: |
          Саджест изменяется (пропадает, если соответствий не найдется)
          Все варианты саджеста содержат введенные символы
  При отсутствии вариантов:
    - do: В поле ввода ввести запрос, по которому будут релевантные результаты (например, "тест")
    - assert: Появляется саджеcт
    - do: Добавить один или несколько символов так, чтобы по запросу не было вариантов в стаджесте (например, "тестJ)
    - assert: Саджест пропадает
  При удалении символов:
    - do: В поле ввода ввести запрос, по которому будут релевантные результаты (например, "тест")
    - assert: |
          Появляется саджеcт
          Все варианты саджеста содержат введенные символы
    - do: Удалить несколько символов
    - assert: |
          Саджест изменяется
          Все варианты саджеста содержат введенные символы
  При удалении всех символов:
    - do: В поле ввода ввести запрос, по которому будут релевантные результаты (например, "тест")
    - assert: Появляется саджеcт
    - do: Удалить все символы из поля ввода
    - assert: Саджест пропадает
  Пропадает при обновлении вкладки:
    - do: В поле ввода ввести запрос, по которому будут релевантные результаты
    - assert: |
          Появляется саджеcт
          Все варианты саджеста содержат введенные символы
    - do: Обновить вкладку
    - assert: Саджест не отображается
  Выделение по ховеру:
    - do: В поле ввода ввести запрос, по которому будут релевантные результаты
    - assert: |
          Появляется саджеcт
          Все варианты саджеста содержат введенные символы
    - do: Навести мышку на первую строчку саджеста
    - assert:  |
          Строка выделяется желтым
          Текст в поле ввода не меняется
  Выбор значения по клику мышкой с автоматическим обновлением выдачи:
    - do: В поле ввода ввести запрос, по которому будут релевантные результаты
    - assert: |
          Появляется саджеcт
          Все варианты саджеста содержат введенные символы
    - do: Нажать на один из вариантов саджеста
    - assert: |
          Саджест пропадает
          Выбранный вариант подставляется в поле ввода
          Выдача перезагружается, отображаются результаты, релевантые подставленному запросу

files: [] # TODO: добавить .hermione.js

tags:
  - suggest
