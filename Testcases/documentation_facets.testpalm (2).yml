feature: Документация
type: Фасеты документации

specs:
  Проверка функциональности [manual]:
    - automation: ISEARCH-6518
    - do: открыть страницу поиска /docsearch?text=<поисковый_запрос>
    - assert: |
        открылась страница на вкладке 'Документация'
        на странице отображаются страницы сервиса 'Яндекс Документация'
        справа от сниппетов присутствует колонка фасетов
        в фасетах присутствует блок 'Каталог', 'Продукт'
        рядом с каждым значением фасета присутвует количество найденных результатов
        если значений в блоке больше 5, остальные остаются свернутыми
    - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/grikyan91/razrabotka__Poisk_po_Dokumentatsii_nashlos_1611_2020-07-01_15-08-20.png]
    - do: выбрать значение в блоке 'Каталог'
    - assert: |
        выдача обновилась
        в выдаче присутствуют только страницы из выбранного каталога
        под поисковой строкой появилась кнопка с названием выбранного фасета
        выбранный фасет отмечен галочкой в группе
    - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/grikyan91/razrabotka__Poisk_po_Dokumentatsii_nashlos_631_2020-07-01_15-09-30.png]
    - do: в блоке 'Продукт' выбрать любое значение
    - assert: |
        выдача обновилась
        в выдаче присутствуют только страницы из выбранного каталога и с выбранным продуктом
        под поисковой строкой появилась кнопка с названием выбранного фасета
        выбранный фасет отмечен галочкой в группе
    - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/grikyan91/razrabotka__Poisk_po_Dokumentatsii_nashlos_41_2020-07-01_15-10-52.png]
    - do: перезадать поисковый запрос
    - assert: |
        выбранные фасеты не сбросились
        в выдаче присутствуют только страницы соответствующие выбранным фасетам
    - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/grikyan91/test__Poisk_po_Dokumentatsii_nashlos_5_2020-07-01_15-12-53.png]
    - do: клик на кретик кнопки с названием фасета под поисковой строкой
    - assert: |
        поисковая выдача обновилась
        под поисковой строкой пропала кнопка фасета
        варианты значений вернулись в удаленный фасет
    - do: навести курсор на галочку в фасете
    - assert: появился иконка крестика
    - do: клик на крестик в фасете
    - assert: |
        поисковая выдача обновилась
        под поисковой строкой пропала кнопка фасета
        варианты значений вернулись в удаленный фасет
    - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/grikyan91/test__Poisk_po_Dokumentatsii_nashlos_4218_2020-07-01_15-13-46.png]

tags:
  - reviewed

priority: normal

browsers:
  - yandex-browser-desktop
  - firefox-desktop
  - safari-desktop
