feature: Саджест
type: Источник подсказки в запросе

specs:
  beforeEach:
    - do: получить выдачу по запросу "курс рубля к доллару"
    - do: кликнуть в инпут поисковой стрелки
    - assert: саджест открыт
  Содержит src в запросе:
    При выборе полнотекстовой подсказки с помощью клика:
      - do: кликнуть в полнотекстовую подсказку
      - tech: в поисковый запрос добавился параметр src с типом подсказки вида `src=suggest_<type>`
      - assert: выдача перезагружена
    При выборе фактовой подсказки с помощью клика:
      - do: кликнуть в фактовую подсказку
      - tech: в поисковый запрос добавился параметр src с типом подсказки вида `src=suggest_<type>`
      - assert: выдача перезагружена
    При выборе полнотекстовой подсказки с помощью клавиатуры и Enter:
      - do: выбрать полнотекстовую подсказку с помощью стрелки "вниз" на клавиатуре
      - do: нажать Enter
      - tech: в поисковый запрос добавился параметр src с типом подсказки вида `src=suggest_<type>`
      - assert: выдача перезагружена
    При выборе полнотекстовой подсказки с помощью клавиатуры и кнопки "Найти":
      - do: выбрать полнотекстовую подсказку с помощью стрелки "вниз" на клавиатуре
      - do: кликнуть кнопку "Найти"
      - tech: в поисковый запрос добавился параметр src с типом подсказки вида `src=suggest_<type>`
      - assert: выдача перезагружена
  Не содержит src в запросе:
    При выборе полнотекстовой подсказки и редактировании:
      - do: выбрать полнотекстовую подсказку с помощью стрелки "вниз" на клавиатуре
      - do: ввести дополнительно символ "a" с помощью клавиатуры
      - do: кликнуть кнопку "Найти"
      - tech: в поисковый запрос не добавился параметр src
      - assert: выдача перезагружена

files:
  - features/desktop/suggest/suggest_src.hermione.js

qa-engineer:
  - alex-radn

tags:
  - no_assessors
  - skip_e2e_check

v-team: Suggest

priority: high

tlds:
  - ru
  - by
  - ua
  - kz
  - uz
  - com
  - com.tr
