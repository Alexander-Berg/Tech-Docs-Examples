feature: ajax

specs:
  Удаляется карусель при перезапросе:
    - do: получить выдачу по запросу 'шуроповерт'
    - assert: на выдаче есть карусель
    - tech: выполнить в консоли `BEM.blocks['serp-request'].navigateTo('?text=котики')`
    - assert: |
        выдача перезагрузилась через AJAX
        карусель исчезла

  Удаляется опечаточник при перезапросе:
    - do: получить выдачу по запросу 'филмы'
    - assert: на выдаче есть опечаточник
    - tech: выполнить в консоли `BEM.blocks['serp-request'].navigateTo('?text=котики')`
    - assert: |
        выдача перезагрузилась через AJAX
        опечаточник исчез
    
  Появляется новый опечаточник при перезапросе:
    - do: получить выдачу по запросу 'котики'
    - assert: на выдаче нет опечаточника
    - tech: выполнить в консоли `BEM.blocks['serp-request'].navigateTo('?text=филмы')`
    - assert: |
        выдача перезагрузилась через AJAX
        появился опечаточник

  Удаляются подсказки при перезапросе:
    - do: |
        получить выдачу по запросу 'pepe'
        cкролл вниз до конца страницы
        cкролл обратно на самый верх
    - assert: появились переформулировки над выдачей
    - tech: выполнить в консоли `BEM.blocks['serp-request'].navigateTo('?text=котики')`
    - assert: |
        выдача перезагрузилась через AJAX
        переформулировки исчезли

  Появляются новые подсказки при перезапросе:
    - do: получить выдачу по запросу 'котики'
    - tech: выполнить в консоли `BEM.blocks['serp-request'].navigateTo('?text=pepe')`
    - assert: выдача перезагрузилась через AJAX
    - do: |
        cкролл вниз до конца страницы
        cкролл обратно на самый верх
    - assert: появились переформулировки над выдачей

  Появляется новая карусель при перезапросе:
    - do: получить выдачу по запросу 'котики'
    - tech: выполнить в консоли `BEM.blocks['serp-request'].navigateTo('?text=горнолыжныые курорты')`
    - assert: выдача перезагрузилась через AJAX
    - do: |
        cкролл вниз до конца страницы
        cкролл обратно на самый верх
    - assert: появились переформулировки над выдачей

files:
    - features/touch-phone/ajax/ajax.hermione.js

v-team: Common

tags:
  - ajax
  - no_assessors
  - skip_e2e_check

tlds: none
