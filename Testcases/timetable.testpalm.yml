feature:  Расписания

files:
  - tests/hermione/suites/touch/timetable/timetable.hermione.js

tags:
    - release_Webview
    - webview_regress
    - iot_scenario
    - iot_timetable

specs:
    beforeEach:
        - do: Находимся на списке устройств, тапаем `+` -> Сценарий -> Добавляем любое действие на любое устройство УД -> Нажимаем `Сохранить`
        - do: Добавляем любое название сценарию
        - do: Нажимаем `Добавить условие` -> Время -> Точное время

    Отображение в списке сценариев - ежедневно:
        - tags:
            - https://testpalm.yandex-team.ru/alice/testcases/3045
            - platform_common
        - do: Выбираем любое время и все дни недели, сохраняем сценарий
        - screenshot: На списке сценариев отображается карточка сценария с подписью Ежедневно в N:N [scenario-list]

    Отображение в списке сценариев - не все дни:
        - tags:
            - https://testpalm.yandex-team.ru/alice/testcases/3045
            - platform_common
        - do: Выбираем любое время и все дни кроме вторника, сохраняем сценарий
        - screenshot: На списке сценариев отображаются все дни, кроме вторника (Пн, Ср, Чт, Пт, Сб, Вс) [scenario-list]

    Отображение в списке сценариев - только 1 день:
        - tags:
            - https://testpalm.yandex-team.ru/alice/testcases/3045
            - platform_common
        - do: Выбираем любое время и только 1 день
        - screenshot: На списке сценариев отображается только с одним днём [scenario-list]

    Отображение в карусели - сегодня [manual]:
        - tags:
            - https://testpalm.yandex-team.ru/alice/testcases/3046
            - release_Smarthome
            - smarthome_regress
            - platform_ios
            - platform_android
        - do: Выбираем любое время и день недели - ближайшие сутки (например, через 2 часа), сохраняем сценарий
        - screenshot: В верхней части страницы отображается квадратная карточка, на карточке вверху иконка сценария, `Сегодня` + точное время, в которое он сработает, внизу название сценария [scenario-launch]
        - assert: <img src=https://jing.yandex-team.ru/files/osennikovak/2021-01-27T15:19:43Z.84079c4.png alt=Скриншот width=250>

    Отображение в карусели - завтра [manual]:
        - tags:
            - https://testpalm.yandex-team.ru/alice/testcases/3046
            - release_Smarthome
            - smarthome_regress
            - platform_common
        - do: Выбираем любое время и день недели завтра, сохраняем сценарий
        - screenshot: В верхней части страницы отображается квадратная карточка, на карточке вверху иконка сценария, `Завтра` + точное время, в которое он сработает, внизу название сценария [scenario-launch]
        - assert: <img src=https://jing.yandex-team.ru/files/osennikovak/2021-01-27T15:19:43Z.84079c4.png alt=Скриншот width=250>

    Отображение в карусели - дальше, чем завтра [manual]:
        - tags:
            - https://testpalm.yandex-team.ru/alice/testcases/3046
            - release_Smarthome
            - smarthome_regress
            - platform_common
        - do: Выбираем любое время и день недели дальше, чем завтра, сохраняем сценарий
        - screenshot: В верхней части страницы отображается квадратная карточка, на карточке вверху иконка сценария, день недели и дата + точное время, в которое он сработает, внизу название сценария [scenario-launch]
        - assert: <img src=https://jing.yandex-team.ru/files/osennikovak/2021-01-27T15:19:43Z.84079c4.png alt=Скриншот width=250>

    Возможно выключить сценарий:
        - tags:
            - https://testpalm.yandex-team.ru/alice/testcases/3046
            - release_Smarthome
            - smarthome_regress
            - platform_common
        - do: Выбираем любое время и день недели, сохраняем сценарий
        - do: Открыть любой установленный сценарий, выключить его тогглом в правом верхнем углу, вернуться на список сценариев
        - assert: Сценарий отображается внизу списка, серым, задизебленным
        - assert: В верхней части пропала квадратная карточка запусков

    Отображение внутри сценария - ежедневно:
        - tags:
            - https://testpalm.yandex-team.ru/alice/testcases/3048
            - platform_common
        - do: Выбираем любое время и все дни недели, сохраняем
        - screenshot: Внутри сценария отображается `ежедневно` [scenario]

    Отображение внутри сценария - несколько дней:
        - tags:
            - https://testpalm.yandex-team.ru/alice/testcases/3048
            - platform_common
        - do: Выбираем любое время и все, кроме одного, дни недели, сохраняем
        - screenshot: Внутри сценария отображается перечисление дней двумя буквами, всех, кроме исключенного [scenario]

    Редактирование расписания:
        - tags:
            - https://testpalm.yandex-team.ru/alice/testcases/3053
            - platform_common
        - do: Выбираем любые дни и время срабатывания, сохраняем
        - do: Открыть сценарий, нажать на таймер
        - screenshot: Появляется выбор редактировать/удалить [scenario-trigger-edit]
        - do: Нажать редактировать, изменить время, изменить список дней, сохранить таймер
        - assert: Таймер изменился внутри сценария

    Редактирование расписания - изменения в карусели [manual]:
        - tags:
            - https://testpalm.yandex-team.ru/alice/testcases/3053
            - platform_common
        - do: Выбираем любые дни и время срабатывания, сохраняем
        - do: Открыть сценарий, нажать на таймер
        - screenshot: Появляется выбор редактировать/удалить [timetable-9]
        - assert: <img src=https://jing.yandex-team.ru/files/osennikovak/2021-01-14T19:19:57Z.3acb4a1.pngg alt=Скриншот width=250>
        - do: Нажать редактировать, изменить время, изменить список дней, сохранить таймер
        - assert: Таймер изменился внутри сценария
        - do: Сохранить сценарий
        - assert: На списке сценариев и в верхней карусели запусков с квадратными карточками время изменилось на выбранное
