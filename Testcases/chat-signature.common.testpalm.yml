feature: Состояние шапки окна чата

specs:

    beforeEach:
        - do: Перейти по ссылке "https://passport.yandex.ru" и авторизоваться.
        - assert: Авторизация прошла успешно.
        - do: В соседней вкладке открыть мессенджер.
        - assert: Открылся список чатов.

    Отображается "печатает...", если собеседник печатает в приватном чате[manual]:
        - automation:
        - description:
              Необходимо иметь два аккаунта - пользователь А (проверяемый) авторизован в одном браузере, пользователь Б (вспомогательный) - в другом браузере.
              У пользователей А и Б есть общий приватный чат.
        - do: Пользователем А открыть чат из description.
        - assert: |
              Чат открылся.
              В шапке отображается имя пользователя Б, под именем статус.
        - do: Пользователем Б начать печатать сообщение пользователю А в чате из description.
        - assert: У пользователя А в шапке под именем пользователя Б отображается надпись "печатает..."

    Еcли собеседник ничего не пишет, показываем онлайновость в приватном чате[manual]:
        - tags: [advanced_smoke, b2b]
        - automation:
        - description:
              Необходимо иметь два аккаунта - пользователь А (проверяемый) авторизован в одном браузере, пользователь Б (вспомогательный) - в другом браузере.
              У пользователей А и Б есть приватный чат.
        - do: Пользователем А открыть чат из description.
        - assert: |
              Чат открылся.
              В шапке отображается имя пользователя Б, под именем статус.
        - do: Пользователем Б начать печатать сообщение пользователю А.
        - assert: У пользователя А в шапке под именем пользователя Б отображается надпись "печатает...".
        - do: Пользователем Б перестать печатать сообщение и не отправлять его.
        - assert: У пользователя А в шапке под именем пользователя Б отображается надпись "в сети".

    Отображается "в сети" если собеседник находится в мессенджере в приватном чате[manual]:
        - automation:
        - description:
              Необходимо иметь два аккаунта - пользователь А (проверяемый) авторизован в одном браузере, пользователь Б (вспомогательный) - в другом браузере.
              У пользователей А и Б есть приватный чат.
        - do: Пользователем А открыть чат с пользователем Б из description.
        - assert: |
              Чат открылся.
              В шапке отображается имя пользователя Б, под именем статус.
        - do: Пользователем Б открыть чат из description.
        - assert: |
              Под именем собеседника отображается статус "В сети"
              Есть точка онлайна

    Отображается «Был(а) в сети Х минут назад», если не было собеседника в сети >1 минуты и  <1 часа в приватном чате[manual]:
        - automation:
        - description:
              Необходимо иметь два аккаунта - пользователь А (проверяемый) авторизован в одном браузере, пользователь Б (вспомогательный) - в другом браузере.
              У пользователей А и Б есть приватный чат.
        - do: Пользователем А войти в чат с пользователем Б из description.
        - assert: |
              Чат открылся.
              В шапке отображается имя пользователя Б, под именем статус.
        - do: Закрыть вкладку с чатами в браузере.
        - do: Вкладка с чатами закрыта.
        - do: Через 2 минуты пользователем Б войти в чат из description.
        - assert: |
              Чат открылся.
              В шапке отображается имя пользователя А, под именем статус - "Был(а) в сети Х минут назад".

    Отображается "Имя1 печатает..." , если печатает 1 собеседник в групповом чате[manual]:
        - tags: [advanced_smoke, b2b]
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться в другом браузере/на девайсе.
              Пользователи А (проверяемый) и Б (вспомогательный) состоят в одном групповом чате.
        - do: Пользователем А открыть групповой чат из description.
        - assert: |
              Чат открылся.
              В шапке отображается название чата, под названием - количество участников.
        - do: Одновременно зайти в тот же чат пользователем Б.
        - assert: В шапке под названием отображается надпись вида "N участников".
        - do: Пользователем Б начать печатать сообщение в чат из description.
        - assert: У пользователя А в шапке под названием отображается надпись вида "пользователь Б печатает...".

    Отображается "Имя1, Имя2 печатают...", если печатают одновременно 2 собеседника в групповом чате[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 3 аккаунта, 2-ым и 3-им вспомогательными аккаунтами можно авторизоваться в других браузерах/на девайсах.
              На разных устройствах авторизованы пользователь А (проверяемый) и пользователь Б (вспомогательный) и пользователь В (вспомогательный), состоящие в одном групповом чате.
        - do: Пользователем А открыть групповой чат из description.
        - assert: |
              Чат открылся.
              В шапке отображается название чата, под названием - количество участников.
        - do: Пользователями Б и В начать печатать сообщение в чате из description и не отправлять.
        - assert: У пользователя А в шапке чата под названием отображается надпись вида "пользователь Б, пользователь В печатают...".

    Отображается "3 печатают...", если одновременно печатают 3 собеседника в групповом чате[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 4 аккаунта, 2-ым, 3-им и 4-ым вспомогательными аккаунтами можно авторизоваться в других браузерах/на девайсах.
              На разных устройствах авторизованы пользователь А и пользователь Б, пользователь В и пользователь Г, состоящие в одном групповом чате.
        - do: Пользователем А открыть групповой чат из description.
        - assert: |
              Чат открылся.
              В шапке отображается название чата, под названием - количество участников.
        - do: Пользователями Б, В, Г начать печатать сообщение в чат из description и не отправлять.
        - assert: У пользователя А в шапке под названием отображается надпись вида "3 печатают..."

    Отображается "печатает..." если собеседник печатает в чате с оператором Jivosite[manual]:
        - automation:
        - description: |
              Необходимо иметь два аккаунта - пользователь А авторизован в одном браузере, пользователь Б (тестовая организация) - в другом браузере/на девайсе.
              У авторизованного пользователя А есть чат с оператором JivoSite (с тестовой организацией).
        - do: Пользователем А открыть любой чат, который соответствует описанию, указанному в description.
        - assert: Чат открыт.
        - do: Пользоватеем Б открыть чат из description.
        - assert: Чат открыт.
        - do: Под тестовой организацией начать набирать текст.
        - assert: У пользователя А в шапке чата под названием отображается текст "печатает...”.

    Отображается "в сети" если собеседник находится в мессенджере в чате с опреатором Jivosite[manual]:
        - automation:
        - description: |
              Необходимо иметь два аккаунта - пользователь А авторизован в одном браузере, пользователь Б (тестовая организация) - в другом браузере/на девайсе.
              У авторизованного пользователя А есть чат с оператором JivoSite (с тестовой организацией).
        - do: Пользователем А открыть чат, который соответствует описанию, указанному в description.
        - assert: Чат открыт.
        - do: Пользователем Б открыть чат из description.
        - assert: Чат открыт.
        - do: Пользователем А посмотреть на шапку чата.
        - assert: В шапке чата под названием отображается текст "В сети".

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
