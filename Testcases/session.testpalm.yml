feature: Сессия

specs:
    Работа с сессией:
        beforeEach:
            - do: перейти по адресу "/"
            - do: дождаться появления жучка
            - do: нажать на иконку жука
            - do: кликнуть на вкладку Сессии
            - do: дождаться открытия сессии

        При нажатии на кнопку "начать" можно ввести имя в поле ввода:
            - screenshot: внешний вид [sessionWithoutInput]
            - assert: поле ввода не должно отображаться
            - do: нажать на кнопку "Начать запись сессии"
            - assert: поле ввода должно появиться
            - do: написать в поле ввода "Моя сессия"
            - assert: в поле ввода должно быть написано моя сессия
            - screenshot: внешний вид [sessionWithInput]

        Можно начать сессию не вводя ничего в поле ввода:
            - assert: поле статуса не отображается
            - do: нажать на кнопку "Начать запись сессии"
            - do: нажать на кнопку "Начать"
            - do: дождаться отображения статуса
            - assert: началась запись новой сессии

        Можно начать сессию введя имя сессии:
            - assert: поле статуса не отображается
            - do: нажать на кнопку "Начать запись сессии"
            - do: написать в поле ввода "Моя сессия"
            - do: нажать на кнопку "Начать"
            - do: дождаться отображения статуса
            - assert: |
                началась запись новой сессии
                имя сессии - "Моя сессия"

        Введенное имя отобразится в информации о сессии:
            - do: нажать на кнопку "Начать запись сессии"
            - do: написать в поле ввода "Моя сессия"
            - do: нажать на кнопку "Начать"
            - do: дождаться появления имени сессии
            - assert: имя сессии должно совпадать с введенным

        По окончании сессии появится ссылка для просмотра сессии:
            - do: нажать на кнопку "Начать запись сессии"
            - do: нажать на кнопку "Начать"
            - assert: Ссылка на сессию не должна отображаться
            - do: нажать на кнопку "Закончить запись сессии"
            - do: дождаться появления ссылки на сессию

        При перезагрузке страницы статус обновился:
            - do: нажать на кнопку "Начать запись сессии"
            - do: написать в поле ввода "Моя сессия"
            - do: нажать на кнопку "Начать"
            - do: перезагрузить страницу
            - do: открыть жучка
            - do: открыть вкладку сессии
            - assert: |
                статус последней сессии - "recording"
                имя последней сессии - "Моя сессия"

v-team: Butterfly

files:
    - tests/hermione/suites/common/tabs/Session/session.hermione.js
