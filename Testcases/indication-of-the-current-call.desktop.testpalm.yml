feature: Индикация текущегно звонка

specs:

    Возвращение к экрану установленного соединения через индикацию  в чате, в котором идет видеозвонок[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на другом устройстве
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
              В рамках прохождения тест-кейса может появиться попап «Ошибка доступа к устройствам» с ссылкой на инструкцию (это значит, что в браузере не выдан один из доступов - в этом случае необходимо открыть инструкцию из попапа и выполнить все шаги, которые описаны в ней и после приступить к выполнению тест-кейса)
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "Видеозвонок"
        - assert: На экране отображается "Исходящий звонок"
        - do: Проверить наличие входящего пользователем Б
        - assert: |
              На экране появляется окно входящего видеозвонка
              В окне есть кнопки "Принять" (зеленная видеокамера) и "Отклонить" (красная трубка)
              На экране входящшего отображается аватар и имя звонящего пользоваателя
        - do: Пользователем Б нажать на кнопку принятия входящего видеозвонка
        - assert: Соединение между пользователями А и Б установлено
        - do: Пользователем Б нажать “Показать чат” (иконка сообщения)
        - assert: |
              Вверху списка чатов есть индикация текущего звонка на которой есть кнопка отклонить (красная трубка) и время разговора
              В окне чата поделилось на две части - доступное поле ввода и история чата и установленное видеосоединение
        - do: Пользователем Б нажать кнопку "Показать чат" (иконка сообщения)
        - assert: Происходит возвращение на экран установленного соединения c видео собеседника

    Возвращение к экрану установленного соединения через индикацию  в чате, в котором идет аудиозвонок[manual]:
        - tags: [smoke_videocalls]
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на другом устройстве
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
              В рамках прохождения тест-кейса может появиться попап «Ошибка доступа к устройствам» с ссылкой на инструкцию (это значит, что в браузере не выдан один из доступов - в этом случае необходимо открыть инструкцию из попапа и выполнить все шаги, которые описаны в ней и после приступить к выполнению тест-кейса)
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "звонок"
        - assert: На экране отображается "Исходящий звонок"
        - do: Проверить наличие входящего пользователем Б
        - assert: |
              На экране появляется окно входящего аудиозвонка
              В окне есть кнопки "Принять" (зеленная трубка) и "Отклонить" (красная трубка)
              На экране входящшего отображается аватар и имя звонящего пользоваателя
        - do: Пользователем Б нажать на кнопку принятия входящего видеозвонка
        - assert: Соединение между пользователями А и Б установлено
        - do: Пользователем Б нажать “Показать чат” (иконка сообщения)
        - assert: |
              Вверху списка чатов есть индикация текущего звонка на которой есть кнопка отклонить (красная трубка) и время разговора
              В окне чата поделилось на две части - доступное поле ввода и история чата и установленное аудиосоединение
        - do: Пользователем Б нажать кнопку "Показать чат" (иконка сообщения)
        - assert: Происходит возвращение на экран установленного соединения c аудио собеседника

    Возвращение к экрану установленного видеосоединения через индикацию в списке чатов[manual]:
        - tags: [smoke_videocalls]
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на другом устройстве
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
              В рамках прохождения тест-кейса может появиться попап «Ошибка доступа к устройствам» с ссылкой на инструкцию (это значит, что в браузере не выдан один из доступов - в этом случае необходимо открыть инструкцию из попапа и выполнить все шаги, которые описаны в ней и после приступить к выполнению тест-кейса)
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "Видеозвонок"
        - assert: На экране отображается "Исходящий звонок"
        - do: Проверить наличие входящего пользователем Б
        - assert: |
              На экране появляется окно входящего видеозвонка
              В окне есть кнопки "Принять" (зеленная видеокамера) и "Отклонить" (красная трубка)
              На экране входящшего отображается аватар и имя звонящего пользоваателя
        - do: Пользователем Б нажать на кнопку принятия входящего видеозвонка
        - assert: Соединение между пользователями А и Б установлено
        - do: Пользователем Б нажать “Показать чат” (иконка сообщения)
        - assert: |
              Вверху списка чатов есть индикация текущего звонка на которой есть кнопка отклонить (красная трубка) и время разговора
              В окне чата поделилось на две части - доступное поле ввода и история чата и установленное видеосоединение
        - do: Открыть любой другой чат в списке чатов
        - assert: |
              Окно чата открыто
              Вверху списка чатов есть индикация текущего звонка на которой есть кнопка отклонить (красная трубка) и время разговора
        - do: Пользователем Б нажать по индикации текущего звонка
        - assert: |
              Происходит возвращение на экран установленного соединения c видео собеседника
              В окне чата доступно поле ввода и часть истории, а также установленное видеосоединение

    Возвращение к экрану установленного аудиосоединения через индикацию в списке чатов[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на другом устройстве
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
              В рамках прохождения тест-кейса может появиться попап «Ошибка доступа к устройствам» с ссылкой на инструкцию (это значит, что в браузере не выдан один из доступов - в этом случае необходимо открыть инструкцию из попапа и выполнить все шаги, которые описаны в ней и после приступить к выполнению тест-кейса)
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "звонок"
        - assert: На экране отображается "Исходящий звонок"
        - do: Проверить наличие входящего пользователем Б
        - assert: |
              На экране появляется окно входящего аудиозвонка
              В окне есть кнопки "Принять" (зеленная трубка) и "Отклонить" (красная трубка)
              На экране входящшего отображается аватар и имя звонящего пользоваателя
        - do: Пользователем Б нажать на кнопку принятия входящего аудиозвонка
        - assert: Соединение между пользователями А и Б установлено
        - do: Пользователем Б нажать “Показать чат” (иконка сообщения)
        - assert: |
              Вверху списка чатов есть индикация текущего звонка на которой есть кнопка отклонить (красная трубка) и время разговора
              В окне чата поделилось на две части - доступное поле ввода и история чата и установленное аудиосоединение
        - do: Открыть любой другой чат в списке чатов
        - assert: |
              Окно чата открыто
              Вверху списка чатов есть индикация текущего звонка на которой есть кнопка отклонить (красная трубка) и время разговора
        - do: Пользователем Б нажать по индикации текущего звонка
        - assert: |
              Происходит возвращение на экран установленного соединения c аудио собеседника
              В окне чата доступно поле ввода и часть истории, а также установленное аудиосоединение

    Через индикацию из списка чатов, можно разорвать видеозвонок[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на другом устройстве
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
              В рамках прохождения тест-кейса может появиться попап «Ошибка доступа к устройствам» с ссылкой на инструкцию (это значит, что в браузере не выдан один из доступов - в этом случае необходимо открыть инструкцию из попапа и выполнить все шаги, которые описаны в ней и после приступить к выполнению тест-кейса)
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "видеозвонок"
        - assert: На экране отображается "Исходящий звонок"
        - do: Проверить наличие входящего пользователем Б
        - assert: |
              На экране появляется окно входящего видеозвонка
              В окне есть кнопки "Принять" (зеленная видеокамера) и "Отклонить" (красная трубка)
              На экране входящшего отображается аватар и имя звонящего пользоваателя
        - do: Пользователем Б нажать на кнопку принятия входящего видеозвонка
        - assert: Соединение между пользователями А и Б установлено
        - do: Пользователем Б нажать “Показать чат” (иконка сообщения)
        - assert: |
              Вверху списка чатов есть индикация текущего звонка на которой есть кнопка отклонить (красная трубка) и время разговора
              В окне чата поделилось на две части - доступное поле ввода и история чата и установленное видеосоединение
        - do: Нажать на кнопку сброса установленного соединения (красная трубка) в индикации
        - assert: |
              Соединение между пользователями А и Б разорвано
              У пользователя А и Б отображается экран на оценку качества звонка

    Через индикацию из списка чатов, можно разорвать аудиозвонок[manual]:
        - tags: [smoke_videocalls]
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на другом устройстве
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
              В рамках прохождения тест-кейса может появиться попап «Ошибка доступа к устройствам» с ссылкой на инструкцию (это значит, что в браузере не выдан один из доступов - в этом случае необходимо открыть инструкцию из попапа и выполнить все шаги, которые описаны в ней и после приступить к выполнению тест-кейса)
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "звонок"
        - assert: На экране отображается "Исходящий звонок"
        - do: Проверить наличие входящего пользователем Б
        - assert: |
              На экране появляется окно входящего аудиозвонка
              В окне есть кнопки "Принять" (зеленная трубка) и "Отклонить" (красная трубка)
              На экране входящшего отображается аватар и имя звонящего пользоваателя
        - do: Пользователем Б нажать на кнопку принятия входящего видеозвонка
        - assert: Соединение между пользователями А и Б установлено
        - do: Пользователем Б нажать “Показать чат” (иконка сообщения)
        - assert: |
              Вверху списка чатов есть индикация текущего звонка на которой есть кнопка отклонить (красная трубка) и время разговора
              В окне чата поделилось на две части - доступное поле ввода и история чата и установленное аудиосоединение
        - do: Нажать на кнопку сброса установленного соединения (красная трубка) в индикации
        - assert: |
              Соединение между пользователями А и Б разорвано
              У пользователя А и Б отображается экран на оценку качества звонка

    Отображается индикация аудиозвонка после сворачивания браузера[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на другом устройстве
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
              В рамках прохождения тест-кейса может появиться попап «Ошибка доступа к устройствам» с ссылкой на инструкцию (это значит, что в браузере не выдан один из доступов - в этом случае необходимо открыть инструкцию из попапа и выполнить все шаги, которые описаны в ней и после приступить к выполнению тест-кейса)
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "звонок"
        - assert: На экране отображается "Исходящий звонок"
        - do: Проверить наличие входящего пользователем Б
        - assert: |
              На экране появляется окно входящего аудиозвонка
              В окне есть кнопки "Принять" (зеленная трубка) и "Отклонить" (красная трубка)
              На экране входящшего отображается аватар и имя звонящего пользоваателя
        - do: Пользователем Б нажать на кнопку принятия входящего аудиозвонка
        - assert: Соединение между пользователями А и Б установлено
        - do: Пользователем Б нажать “Показать чат” (иконка сообщения)
        - assert: |
              Вверху списка чатов есть индикация текущего звонка на которой есть кнопка отклонить (красная трубка) и время разговора
              В окне чата поделилось на две части - доступное поле ввода и история чата и установленное аудиосоединение
        - do: Пользователем Б открыть другую вкладку в браузере
        - assert: Вкладкаа открыта
        - do:  Пользователем Б вернуться в мессенджер
        - assert: |
               Открыто окно мессенджера
               Индикация отображается корректно, кроме таймера (значение его увеличилось)
        - do: Пользователем Б свернуть браузер где открыт мессенджер
        - assert: Браузер свернут
        - do: вернуться в окно с мессенджером
        - assert: |
               Открыто окно мессенджера
               Индикация отображается корректно, кроме таймера (значение его увеличилось)

    Отображается индикация видеозвонка после сворачивания браузера[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на другом устройстве
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
              В рамках прохождения тест-кейса может появиться попап «Ошибка доступа к устройствам» с ссылкой на инструкцию (это значит, что в браузере не выдан один из доступов - в этом случае необходимо открыть инструкцию из попапа и выполнить все шаги, которые описаны в ней и после приступить к выполнению тест-кейса)
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "видеозвонок"
        - assert: На экране отображается "Исходящий звонок"
        - do: Проверить наличие входящего пользователем Б
        - assert: |
              На экране появляется окно входящего видеозвонка
              В окне есть кнопки "Принять" (зеленная видеокамера) и "Отклонить" (красная трубка)
              На экране входящшего отображается аватар и имя звонящего пользоваателя
        - do: Пользователем Б нажать на кнопку принятия входящего видеозвонка
        - assert: Соединение между пользователями А и Б установлено
        - do: Пользователем Б нажать “Показать чат” (иконка сообщения)
        - assert: |
              Вверху списка чатов есть индикация текущего звонка на которой есть кнопка отклонить (красная трубка) и время разговора
              В окне чата поделилось на две части - доступное поле ввода и история чата и установленное видеосоединение
        - do: Пользователем Б открыть другую вкладку в браузере
        - assert: Вкладкаа открыта
        - do:  Пользователем Б вернуться в мессенджер
        - assert: |
               Открыто окно мессенджера
               Индикация отображается корректно, кроме таймера (значение его увеличилось)
        - do: Пользователем Б свернуть браузер где открыт мессенджер
        - assert: Браузер свернут
        - do: вернуться в окно с мессенджером
        - assert: |
               Открыто окно мессенджера
               Индикация отображается корректно, кроме таймера (значение его увеличилось)

    Корректно отображается таймер аудиозвонка в индикации в списке чатов[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на другом устройстве
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
              В рамках прохождения тест-кейса может появиться попап «Ошибка доступа к устройствам» с ссылкой на инструкцию (это значит, что в браузере не выдан один из доступов - в этом случае необходимо открыть инструкцию из попапа и выполнить все шаги, которые описаны в ней и после приступить к выполнению тест-кейса)
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "звонок"
        - assert: На экране отображается "Исходящий звонок"
        - do: Проверить наличие входящего пользователем Б
        - assert: |
              На экране появляется окно входящего аудиозвонка
              В окне есть кнопки "Принять" (зеленная трубка) и "Отклонить" (красная трубка)
              На экране входящшего отображается аватар и имя звонящего пользоваателя
        - do: Пользователем Б нажать на кнопку принятия входящего аудиозвонка
        - assert: Соединение между пользователями А и Б установлено
        - do: Пользователем Б нажать “Показать чат” (иконка сообщения)
        - assert: |
              Вверху списка чатов есть индикация текущего звонка на которой есть кнопка отклонить (красная трубка) и время разговора
              В окне чата поделилось на две части - доступное поле ввода и история чата и установленное аудиосоединение
        - do: Пользователем Б, вверху списка чатов посмотреть на индицацию установленного соединения и убедиться что таймер отображается корреткно
        - assert: |
              Таймер установленного соединения расположен под именем собеседник
              Если длительность разговора до 1 часа, то таймер отображается в формате мм:сс (мм - минуты, сс -секунды)- Изменяется на 1 секунду
              Если длительность разговора более 1 часа, то таймер отображается в формате чч:мм:сс (чч - часы, мм - минуты, сс -секунды)

    Корректно отображается таймер видеозвонка в индикации в списке чатов[manual]:
        - tags: [smoke_videocalls]
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на другом устройстве
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
              В рамках прохождения тест-кейса может появиться попап «Ошибка доступа к устройствам» с ссылкой на инструкцию (это значит, что в браузере не выдан один из доступов - в этом случае необходимо открыть инструкцию из попапа и выполнить все шаги, которые описаны в ней и после приступить к выполнению тест-кейса)
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "видеозвонок"
        - assert: На экране отображается "Исходящий звонок"
        - do: Проверить наличие входящего пользователем Б
        - assert: |
              На экране появляется окно входящего видеозвонка
              В окне есть кнопки "Принять" (зеленная видеокамера) и "Отклонить" (красная трубка)
              На экране входящшего отображается аватар и имя звонящего пользоваателя
        - do: Пользователем Б нажать на кнопку принятия входящего видеозвонка
        - assert: Соединение между пользователями А и Б установлено
        - do: Пользователем Б нажать “Показать чат” (иконка сообщения)
        - assert: |
              Вверху списка чатов есть индикация текущего звонка на которой есть кнопка отклонить (красная трубка) и время разговора
              В окне чата поделилось на две части - доступное поле ввода и история чата и установленное видеосоединение
        - do: Пользователем Б, вверху списка чатов посмотреть на индицацию установленного соединения и убедиться что таймер отображается корреткно
        - assert: |
              Таймер установленного соединения расположен под именем собеседник
              Если длительность разговора до 1 часа, то таймер отображается в формате мм:сс (мм - минуты, сс -секунды)- Изменяется на 1 секунду
              Если длительность разговора более 1 часа, то таймер отображается в формате чч:мм:сс (чч - часы, мм - минуты, сс -секунды)
              Важно: При переходе в окно чата для отображения времени звонка нужно навести курсор на иконку видео, тогда видео спускается вниз и под именем пользователя показывает текущее время звонка

    При совершении исходящего вызова можно вернуться к экрану видеозвонка через индикацию в списке чатов[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на другом устройстве
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
              В рамках прохождения тест-кейса может появиться попап «Ошибка доступа к устройствам» с ссылкой на инструкцию (это значит, что в браузере не выдан один из доступов - в этом случае необходимо открыть инструкцию из попапа и выполнить все шаги, которые описаны в ней и после приступить к выполнению тест-кейса)
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "видеозвонок"
        - assert: На экране отображается "Исходящий звонок"
        - do: Под пользователем Б нажать “Показать чат” (иконка сообщения)
        - assert: |
              Вверху списка чатов есть индикация исходящего звонка на которой есть кнопка отклонить (красная трубка) и надпись "Исходящий звонок"
              В окне чата поделилось на две части - доступное поле ввода и история чата и происходит исходящий звонок
        - do: Открыть любой другой чат в списке чатов
        - assert: |
              Окно чата открыто
              Вверху списка чатов есть индикация исходящего звонка на которой есть кнопка отклонить (красная трубка) и надпись "Исходящий звонок"
        - do: Пользователем Б нажать по индикации исходящего звонка
        - assert: |
              Происходит возвращение в окно чата из description
              В окне чата поделилось на две части - доступное поле ввода и история чата и происходит исходящий звонок

    При совершении исходящего вызова можно вернуться к экрану аудиозвонка через индикацию в данном чате[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на другом устройстве
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
              В рамках прохождения тест-кейса может появиться попап «Ошибка доступа к устройствам» с ссылкой на инструкцию (это значит, что в браузере не выдан один из доступов - в этом случае необходимо открыть инструкцию из попапа и выполнить все шаги, которые описаны в ней и после приступить к выполнению тест-кейса)
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "звонок"
        - assert: На экране отображается "Исходящий звонок"
        - do: Под пользователем Б нажать “Показать чат” (иконка сообщения)
        - assert: |
              Вверху списка чатов есть индикация исходящего звонка на которой есть кнопка отклонить (красная трубка) и надпись "Исходящий звонок"
              В окне чата поделилось на две части - доступное поле ввода и история чата и происходит исходящий звонок
        - do: Открыть любой другой чат в списке чатов
        - assert: |
              Окно чата открыто
              Вверху списка чатов есть индикация исходящего звонка на которой есть кнопка отклонить (красная трубка) и надпись "Исходящий звонок"
        - do: Пользователем Б нажать по индикации исходящего звонка
        - assert: |
              Происходит возвращение в окно чата из description
              В окне чата поделилось на две части - доступное поле ввода и история чата и происходит исходящий звонок

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
