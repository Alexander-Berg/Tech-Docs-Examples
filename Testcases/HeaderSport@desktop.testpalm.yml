feature: Шапка десктопного турбоспорта

description: yandex.ru/sport

specs:
  содержит рубрикатор, который:
    позволяет переходить по рубрикам [manual]:
      - automation: NERPA-8437
      - tags: backend_sport
      - do: открыть главную страницу сервиса Яндекс.Спорт
      - assert: |
          открыта страница рубрики 'Главное',
          шрифт рубрики 'Главное' в рубрикаторе выделен красным
      - do: навести курсор на названия других рубрик
      - assert: |
          изменился стиль курсора,
          по ховеру шрифт рубрики меняется на красный
      - do: тапнуть по нескольким рубрикам
      - assert: |
          каждый раз происходит переход в соответствующую рубрику,
          шрифт открытой рубрики в рубрикаторе выделен красным
      - do: вернуться на главную страницу, изменить несколько раз масштаб страницы
      - assert: при увеличении на месте последней рубрики появлются три точки
      - do: навести курсор на многоточие в рубрикаторе
      - assert: появляется выпадашка со скрытой рубрикой
      - do: кликнуть по названию рубрики в выпадашке
      - assert: происходит переход в соответствующую рубрику

    залипает при скролле вниз [manual]:
      - automation: NERPA-8437
      - do: открыть главную страницу сервиса Яндекс.Спорт
      - assert: |
          открыта страница рубрики 'Главное',
          шрифт рубрики 'Главное' в рубрикаторе выделен красным
      - do: проскроллить страницу рубрики вниз
      - assert: рубрикатор залипает и остается в поле видимости

  содержит лого [manual]:
    - automation: NERPA-8437
    - do: открыть главную страницу сервиса Яндекс.Спорт
    - assert: в левом верхнем углу расположен логотип Яндекс.Спорт (или Я.Спорт)
    - do: кликнуть на Яндекс
    - assert: происходит переход на главную страницу яндекса

  позволяет перейти к другим сервисам [manual]:
# Добавить про переход на зеркало после раскатки на внесеть
    - automation: NERPA-8437
    - tags: backend_sport
    - do: открыть главную страницу сервиса Яндекс.Спорт
    - assert: в шапке рядом с лого есть кнопки перехода на сервисы Новости и Все сервисы (серый шрифт)
    - do: навести мышку на названия сервисов в шапке
    - assert: по ховеру названия становятся черными
    - do: кликнуть на Новости
    - assert: в отдельной вкладке открывается сервис Яндекс.Новости
    - do: вернуться на вкладку со спортом
    - do: кликнуть на Все сервисы
    - assert: в отдельной вкладке открывается страница с перечнем всех сервисов яндекса

  позволяет авторизоваться [manual]:
    - automation: NERPA-8437
    - tags: backend_sport
    - do: открыть главную страницу сервиса Яндекс.Спорт в неавторизованном состоянии
    - assert: |
          в шапке справа есть кнопки плюса, перехода к коллекциям, кнопка регистрации и кнопка Войти
          внешний вид https://jing.yandex-team.ru/files/nightsonne/2019-09-17_12-42-02.png
    - do: кликнуть по кнопке плюса
    - assert: в отдельной вкладке произошел переход на https://plus.yandex.ru/
    - do: вернуться на вкладку со спортом
    - do: кликнуть на значок коллекций
    - assert: в отдельной вкладке открывается сервис Яндекс.Коллекции
    - do: вернуться на вкладку со спортом
    - do: кликнуть на кнопку Регистрация
    - assert: произошел переход на страницу паспорта с формой регистрации нового пользователя
    - do: вернуться на Спорт по браузерной кнопке Назад
    - do: кликнуть на кнопку Войти
    - assert: открывается страница паспорта
    - do: авторизоваться любым аккаунтом
    - assert: |
          вместо кнопки Войти отображается юзерпик со счетчиком непрочитанных писем (если такие есть в почте),
          вместо кнопки Регистрация отображается колокольчик уведомлений со счетчиком непрочитанных уведомлений (если такие есть),
          внешний вид https://jing.yandex-team.ru/files/nightsonne/2019-09-17_12-48-59.png

  позволяет авторизованному пользователю перейти к другим сервисам [manual]:
    - automation: NERPA-8437
    - tags: backend_sport
    - do: открыть главную страницу сервиса Яндекс.Спорт в авторизованном состоянии
    - assert: |
          в шапке справа отображается юзерпик со счетчиком непрочитанных писем (если такие есть в почте),
          в шапке справая отображается колокольчик уведомлений со счетчиком непрочитанных уведомлений (если такие есть),
          в шапке справа отображается кнопка перехода к коллекцим,
          для аккаунта, не подписанного на плюс, отображается кнопка плюса,
          внешний вид https://jing.yandex-team.ru/files/nightsonne/2019-09-17_12-48-59.png
    - do: кликнуть по кнопке плюса
    - assert: в отдельной вкладке произошел переход на https://plus.yandex.ru/
    - do: вернуться на вкладку со спортом
    - do: кликнуть на значок коллекций
    - assert: в отдельной вкладке открывается сервис Яндекс.Коллекции с коллекциями пользователя
    - do: кликнуть на колокольчик уведомлений
    - assert: появилась выпадашка с уведомлениями
    - do: кликнуть в любое место вне выпадашки
    - assert: выпадашка скрылась
    - do: еще раз кликнуть на колокольчик, и в любое уведомление в выпадашке
    - assert: в отдельной вкладке открывается страница с соответствующим событием

  отображает юзерпик для авторизованного пользователя [manual]:
    - automation: NERPA-8437
    - tags: backend_sport
    - do: открыть главную страницу сервиса Яндекс.Спорт в авторизованном состоянии
    - assert: |
          в шапке справа отображается юзерпик со счетчиком непрочитанных писем (если такие есть в почте),
          в шапке справая отображается колокольчик уведомлений со счетчиком непрочитанных уведомлений (если такие есть),
          в шапке справа отображается кнопка перехода к коллекцим,
          для аккаунта, не подписанного на плюс, отображается кнопка плюса,
          внешний вид https://jing.yandex-team.ru/files/nightsonne/2019-09-17_12-48-59.png
    - do: кликнуть на юзерпик
    - assert: появилась выпадашка с пунктами меню
    - do: кликнуть на пункт меню Почта
    - assert: происходит переход к почтовому ящику данного аккаунта
    - do: вернуться на Спорт по браузерной кнопке Назад
    - do: кликнуть на юзерпик
    - assert: появилась выпадашка с пунктами меню
    - do: кликнуть на пункт меню Написать письмо
    - assert: происходит переход к почтовому ящику данного аккаунта с формой нового письма
    - do: вернуться на Спорт по браузерной кнопке Назад
    - do: кликнуть на юзерпик
    - assert: появилась выпадашка с пунктами меню
    - do: кликнуть на пункт меню Мой Диск
    - assert: происходит переход к сервису Яндекс.Диск данного аккаунта
    - do: вернуться на Спорт по браузерной кнопке Назад
    - do: кликнуть на юзерпик
    - assert: появилась выпадашка с пунктами меню
    - do: кликнуть на пункт меню Управление аккаунтом
    - assert: происходит переход к паспорту данного аккаунта
    - do: вернуться на Спорт по браузерной кнопке Назад
    - do: кликнуть на юзерпик
    - assert: появилась выпадашка с пунктами меню
    - do: кликнуть на пункт меню Настройки
    - assert: происходит переход к сервису https://yandex.ru/tune
    - do: вернуться на Спорт по браузерной кнопке Назад
    - do: кликнуть на юзерпик
    - assert: появилась выпадашка с пунктами меню
    - do: кликнуть на пункт меню Помощь
    - assert: происходит переход к странице Яндекс.Помощь
    - do: вернуться на Спорт по браузерной кнопке Назад
    - do: кликнуть на юзерпик
    - assert: появилась выпадашка с пунктами меню
    - do: кликнуть на пункт меню Добавить аккаунт
    - assert: происходит переход к паспорту
    - do: авторизоваться другим пользователем
    - assert: происходит переход на спорт, изменился юзерпик
    - do: кликнуть на юзерпик
    - assert: |
        появилась выпадашка с пунктами меню,
        вместо пункта Добавить аккаунт отображается первый аккаунт
    - do: кликнуть на пункт меню с первым аккаунтом
    - assert: происходит залогин первым аккаунтом, меняется юзерпик
    - do: кликнуть на юзерпик
    - assert: появилась выпадашка с пунктами меню
    - do: кликнуть на пункт меню Выйти
    - assert: происходит залогин вторым аккаунтом, меняется юзерпик
    - do: кликнуть на юзерпик
    - assert: появилась выпадашка с пунктами меню
    - do: кликнуть на пункт меню Выйти
    - assert: происходит разлогин, юзерпик меняется на кнопку Войти

files: []

v-team: Sport

qa-engineer: nightsonne

manager: skhovaev

tags: sportdesktop

tlds:
  - ru
  - ua
  - by
  - kz
  - uz
  - com
