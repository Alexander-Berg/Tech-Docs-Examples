feature: Переключение организации (контекста)

specs:
  Положительные:
    beforeEach:
      - do: залогиниться внешним админом, у которого больше одной организации

    Внешний админ:
      1. Отображение переключателя организаций на дашборде:
        - do: перейти на дашборд "{{CONNECT_HOST}}/portal/home"
        - assert: в шапке страницы рядом с логотипом отображается переключатель организаций
        - screenshot: шапка с переключателем организаций [header]
        - do: нажать на переключатель организаций
        - assert: открылся выпадающий список организаций
        - screenshot: выпадающий список организаций [dropdown]

      2. Отображение переключателя организаций на странице ошибки Forbidden "Нет доступа":
        - do: перейти на страницу ошибки Forbidden "Нет доступа" "{{CONNECT_HOST}}/portal/forbidden"
        - assert: в шапке страницы рядом с логотипом отображается переключатель организаций
        - screenshot: шапка с переключателем организаций [header]
        - do: нажать на переключатель организаций
        - assert: открылся выпадающий список организаций
        - screenshot: выпадающий список организаций [dropdown]

      3. Форма создания организации из переключателя организаций:
        - do: перейти на дашборд "{{CONNECT_HOST}}/portal/home"
        - do: нажать на переключатель организаций в шапке страницы рядом с логотипом
        - do: в выпадающем меню нажать на пункт "+ Новая организация"
        - assert: открылся попап с формой создания новой организации
        - screenshot: попап с формой создания новой организации [create-org-popup]

  Отрицательные:
    Внутренний админ:
      1. Отображение переключателя организаций:
        - do: залогиниться внутренним админом
        - do: перейти на дашборд "{{CONNECT_HOST}}/portal/home"
        - assert: переключатель организаций в шапке страницы не отображается

files:
  - tests/hermione/suites/organization/switcher.js

priority: critical

tlds:
 - ru
 - com

tags:
  - regression
  - smoke_test
  - reviewed
  - smoke_test_mini
