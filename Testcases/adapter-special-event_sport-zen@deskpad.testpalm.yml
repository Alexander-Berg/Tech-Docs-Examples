feature: Специальные события
type: Дзен в спорте

specs:
  Карусели:
    Карточки с видео:
      params:
        foreverdata: '1318664137'
      beforeEach:
        - do: получить выдачу по запросу 'foreverdata'
        - assert: получена выдача по указанному запросу
        - assert: на выдаче присутствует  колдунщик НХЛ
      Внешний вид:
        - screenshot: примерный внешний вид [video]
        - assertMetrics: '*'
      Cкролл:
        - do: кликнуть в листалку вправо в карусели Видео
        - assert: карусель проскроллилась вправо
        - assert: появилась листалка влево
        - tech: сработал счетчик "/$page/$top/$result/video/scroll_right"
        - do: кликнуть в листалку влево в карусели Видео
        - assert: карусель проскроллилась влево
        - tech: сработал счетчик "/$page/$top/$result/video/scroll_left"
        - assertMetrics: '*'
      Клики:
        - do: кликнуть в видео в первой карточке в карусели Видео
        - assert: в новой вкладке открылся сервис Яндекс.Эфир (может быть 404, проверяем факт открытия вкладки)
        - tech: сработал счетчик "/$page/$top/$result/video/link"
        - do: кликнуть в текст в первой карточке в карусели Видео 
        - assert: в новой вкладке открылся сервис Яндекс.Эфир (может быть 404, проверяем факт открытия вкладки)
        - tech: сработал счетчик "/$page/$top/$result/video/link"
        - assertMetrics: '*'
    Карточки с изображениями:
      params:
        foreverdata: '1318664137'
        user_time: '201908271005'
      beforeEach:
        - do: получить выдачу по запросу 'foreverdata'
        - assert: получена выдача по указанному запросу
        - assert: на выдаче присутствует  колдунщик НХЛ
      Внешний вид:
        - screenshot: примерный внешний вид [images]
        - assertMetrics: '*'
      Cкролл:
        - do: кликнуть в листалку вправо в карусели новостей и рекомендаций
        - assert: карусель проскроллилась вправо
        - assert: появилась листалка влево
        - tech: сработал счетчик "/$page/$top/$result/news/scroll_right"
        - do: кликнуть в листалку влево в карусели новостей и рекомендаций
        - assert: карусель проскроллилась влево
        - tech: сработал счетчик "/$page/$top/$result/news/scroll_left"
        - assertMetrics: '*'
      Клики:
        Карточка c иконкой:
          - do: кликнуть в картинку в первой карточке в карусели новостей и рекомендаций
          - assert: в новой вкладке открылся пост на сервисе Яндекс.Дзен
          - tech: сработал счетчик "/$page/$top/$result/news/link"
          - do: кликнуть в текст в первой карточке в карусели новостей и рекомендаций
          - assert: в новой вкладке открылся пост на сервисе Яндекс.Дзен
          - tech: сработал счетчик "/$page/$top/$result/news/link"
          - assertMetrics: '*'
        Карточка без иконки:
          - do: кликнуть в картинку во второй карточке в карусели новостей и рекомендаций
          - assert: в новой вкладке открылся сайт sportbox.ru
          - tech: сработал счетчик "/$page/$top/$result/news/link"
          - do: кликнуть в текст во второй карточке в карусели новостей и рекомендаций
          - assert: в новой вкладке открылся сайт sportbox.ru
          - tech: сработал счетчик "/$page/$top/$result/news/link"
          - assertMetrics: '*'
    Ссылка "Еще новости":
      params:
        foreverdata: '3259143263'
      beforeEach:
        - do: получить выдачу по запросу 'foreverdata'
        - assert: на выдаче присутствует колдунщик ФК Спартак
        - do: проскроллить карусель новостей влево до конца
        - assert: в конце карусели отобразилась ссылка "Ещё новости"
      Внешний вид:
        - screenshot: примерный внешний вид карусели [more-item]
        - assertMetrics: '*'
      Клик:
        - do: кликнуть по ссылке "Ещё новости"
        - assert: в новой вкладке открылся сервис Яндекс.Новости
        - tech: сработал счетчик "/$page/$top/$result/news/more"
        - assertMetrics: '*'
    Карточки с видео для сайдблока:
      params:
        foreverdata: '1878603220'
      beforeEach:
        - do: получить выдачу по запросу 'foreverdata'
        - assert: получена выдача по указанному запросу
        - assert: на выдаче присутствует  колдунщик ФНЛ
        - assertMetrics: '*'
      Внешний вид:
        - screenshot: примерный внешний вид [sideblock-videos]
        - assertMetrics: '*'
      Cкролл:
        - do: кликнуть в листалку вправо в карусели видео
        - assert: карусель проскроллилась вправо
        - assert: появилась листалка влево
        - tech: сработал счетчик "/$page/$top/$result/video/scroll_right"
        - do: кликнуть в листалку влево в карусели видео
        - assert: карусель проскроллилась влево
        - tech: сработал счетчик "/$page/$top/$result/video/scroll_left"
        - assertMetrics: '*'
      Клики:
        - do: кликнуть в видео в первой карточке в карусели видео
        - assert: в сайдблоке открылся сервис Яндекс.Эфир
        - tech: сработал счетчик "/$page/$top/$result/video/link"
        - do: кликнуть в текст в первой карточке в карусели видео
        - assert: в сайдблоке открылся сервис Яндекс.Эфир
        - tech: сработал счетчик "/$page/$top/$result/video/link"
        - do: кликнуть в видео во второй карточке в карусели видео
        - assert: в сайдблоке открылся сервис Яндекс.Эфир
        - tech: сработал счетчик "/$page/$top/$result/video/link"
        - do: кликнуть в текст во второй карточке в карусели Видео
        - assert: в сайдблокеоткрылся сервис Яндекс.Эфир
        - tech: сработал счетчик "/$page/$top/$result/video/link"
        - assertMetrics: '*'

tlds:
  - ru
  - by
  - uz
  - kz
  - uz

tags:
  - sport
  - reviewed
  # эксперимент
  - skip_e2e_check

files:
  - features/adapter-special-event/adapter-special-event_type_sport/zen/adapter-special-event_sport-zen@deskpad.hermione.js

v-team: Sport
