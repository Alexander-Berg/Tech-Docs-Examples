feature: Вакансии
type: Редактирование

description: |
    после редактирование вакансии в статусе 'В работе' в тикет TJOB прилетел комментарий о смене основного рекрутера

specs:
    Редактирование вакансии в статусе На согласовании:
        - do: открыть вакансию в статусе 'На согласовании' /vacancies/<id_вакансии>/
        - screenshot: в шапке есть кнопка 'Редактировать' [vacancy_action_update]
        - do: клик на кнопку 'Редактировать'
        - screenshot: открылась форма для редактирования вакансии [form]
        - do: изменить название вакансии
        - do: добавить собеседующего
        - do: добавить человека в наблюдатели
        - do: добавить навык
        - do: в блоке 'Внутреннее объявление' заполнить поле 'Заголовок'
        - do: в блоке 'Внутреннее объявление' заполнить описание
        - do: в блоке 'Внутреннее объявление' в поле 'Опубликовать' выбрать 'Да'
        - do: клик 'Сохранить'
        - assert: |
            все значения из измененных полей проросли на страницу вакансии
            появилась ссылка на внутреннее объявление
        - screenshot: пример внешнего вида [vacancy_edited]
    Редактирование вакансии в статусе В работе:
        - do: открыть вакансию в статусе 'В работе' /vacancies/<id_вакансии>/
        - screenshot: в шапке есть кнопка 'Редактировать' [vacancy_action_update]
        - do: клик на кнопку 'Редактировать'
        - screenshot: открылась форма для редактирования вакансии [form]
        - do: в поле 'Скрытая' выбрать 'Да'
        - do: заполнить поле 'Желаемая дата закрытия'
        - do: добавить значение в поле 'Город'
        - do: изменить значение в поле 'Нанимающий менеджер'
        - do: установить новое значение в поле 'Основной рекрутер'
        - do: установить значение в поле 'Рекрутер'
        - do: добавить ответственного
        - do: изменить поле 'Проф. направление'
        - do: изменить поле 'Профессия'
        - do: установить другой проф. уровень
        - do: клик кнопку 'Сохранить'
        - assert: |
            все значения из измененных полей проросли на страницу вакансии
            рядом с id вакансии появился зачеркнутый глаз
        - screenshot: пример внешнего вида [vacancy_edited]
    Редактирование вакансии в статусе Приостановлена:
        - do: открыть вакансию в статусе 'Приостановлена' /vacancies/<id_вакансии>/
        - screenshot: в шапке есть кнопка 'Редактировать' [vacancy_action_update]
        - do: клик на кнопку 'Редактировать'
        - assert: |
            открылась форма для редактирования вакансии
            все активные поля такие же как и у вакансии в статусе 'В работе'
        - screenshot: пример внешнего вида [form]
        - do: клик 'Сохранить'
        - assert: |
            открылась страница вакансии /vacancies/<id_вакансии>/
            все поля остались неизмененными
        - screenshot: пример внешнего вида [vacancy_edited]
    Редактирование вакансии в статусе Оффер принят:
        - do: открыть вакансию в статусе 'Оффер принят' /vacancies/<id_вакансии>/
        - screenshot: в шапке есть кнопка 'Редактировать' [vacancy_action_update]
        - do: клик на кнопку 'Редактировать'
        - assert: |
            открылась форма для редактирования вакансии
            все активные поля такие же как и у вакансии в статусе 'В работе'
        - screenshot: пример внешнего вида [form]
        - do: клик на кнопку 'Отмена'
        - assert: |
            открылась страница вакансии /vacancies/<id_вакансии>/
            все поля остались неизмененными
        - screenshot: пример внешнего вида [vacancy_edited]
    Редактирование вакансии в статусе Делаем оффер:
        - do: открыть вакансию в статусе 'Делаем оффер' /vacancies/<id_вакансии>/
        - screenshot: в шапке есть кнопка 'Редактировать' [vacancy_action_update]
        - do: клик на кнопку 'Редактировать'
        - assert: |
            открылась форма для редактирования вакансии
            все активные поля такие же как и у вакансии в статусе 'В работе'
        - screenshot: пример внешнего вида [form]

tags:
  - reviewed

priority: critical

files:
  - tests/hermione/suites/desktop/vacancies/vacancies_edit/vacancies_edit.hermione.js

browsers:
  - yandex-browser-desktop
  - firefox-desktop
  - safari-desktop
