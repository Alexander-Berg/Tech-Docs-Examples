feature: Лайк карточки десктопного турбоспорта

specs:

  можно поставить карточке без лайков [manual]:
    - automation: NERPA-8437
    - tags: backend_sport
    - do: открыть сервис Я.Спорт на странице любой рубрики
    - do: подождать, пока страница полностью загрузится
    - do: найти в ленте любую карточку, кроме карточки топа и карточки в блоке 'Рекомендуем'
    - assert: |
        иконка лайка (палец вверх) серого цвета, рядом с ним нет счетчика,
        скрин https://jing.yandex-team.ru/files/terenandrevna/02122019desktopnolokes.png
    - do: лайкнуть карточку без лайков
    - assert: |
        иконка меняет цвет с серого на зеленый с анимацией,
        справа от иконки лайка появляется счетчик с цифрой 1 зеленого цвета,
        скрин https://jing.yandex-team.ru/files/terenandrevna/02122019desktop1likes.png
    - do: тапнуть еще раз по иконке лайка, после тапа убрать курсор с иконки
    - assert: |
        иконка лайка меняет цвет с зеленого на серый,
        цифра счетчика пропадает,
        флажок избранного и иконка комментатора сдвигаются вправо

  можно поставить карточке с лайками [manual]:
    - automation: NERPA-8437
    - tags:
      - no_assessors
      - backend_sport
    - do: открыть сервис Я.Спорт на странице любой рубрики
    - do: подождать, пока страница полностью загрузится
    - do: найти в ленте любую карточку, кроме карточки топа и карточки в блоке 'Рекомендуем'
    - assert: иконка лайка (палец вверх) серого цвета, рядом с ним счетчик с количеством лайков
    - do: лайкнуть карточку с лайками
    - assert: |
        иконка меняет цвет с серого на зеленый с анимацией,
        счетчик увеличил значение на 1 и изменил цвет на зеленый,
    - do: тапнуть еще раз по иконке лайка, после тапа убрать курсор с иконки
    - assert: |
        иконка лайка меняет цвет с зеленого на серый,
        счетчик уменьшил значение на 1 и изменил цвет на серый
        флажок избранного и иконка комментатора сдвигаются вправо

  можно поставить карточке в топе [manual]:
    - automation: NERPA-8437
    - tags: backend_sport
    - do: открыть сервис Я.Спорт на странице любой рубрики
    - do: подождать, пока страница полностью загрузится
    - do: найти в ленте карточку топа (карточка с фото и заголовком на черном фоне)
    - assert: |
        иконка лайка (палец вверх) серого цвета, рядом с ним нет счетчика (для карточки без лайков)
        скрин https://jing.yandex-team.ru/files/terenandrevna/02122019topdesktop.png,
        иконка лайка серого цвета, рядом с ним счетчик количества лайков (для карточки с лайками)
    - do: лайкнуть карточку топа
    - assert: |
        иконка меняет цвет с серого на зеленый с анимацией,
        справа от иконки появляется счетчик с цифрой 1 зеленого цвета (для карточки без лайков),
        скрин https://jing.yandex-team.ru/files/terenandrevna/02122019topdesktoplike.png,
        справа от иконки счетчик увеличил значение на 1 и изменил цвет на зеленый (для карточки с лайками)
# TODO: добавить про анимацию лайка после реализации
    - do: тапнуть еще раз по иконке лайка, после тапа убрать курсор с иконки
    - assert: |
        иконка лайка меняет цвет с зеленого на серый,
        цифра счетчика пропадает  (для карточки без лайков)
        счетчик уменьшил значение на 1 и изменил цвет на серый (для карточки с лайками)

  можно поставить микрокарточке в блоке 'Рекомендуем' [manual]:
    - automation: NERPA-8437
    - tags: backend_sport
    - do: открыть сервис Я.Спорт на странице любой рубрики
    - do: подождать, пока страница полностью загрузится
    - do: найти справа микрокарточку в блоке 'Рекомендуем'
    - assert: |
        иконка лайка (палец вверх) серого цвета, рядом с ним нет счетчика (для карточки без лайков),
        скрин https://jing.yandex-team.ru/files/terenandrevna/02122019rec.png,
        иконка лайка серого цвета, рядом с ним счетчик количества лайков (для карточки с лайками)
    - do: лайкнуть микрокарточку
    - assert: |
        иконка меняет цвет с серого на зеленый с анимацией,
        справа от иконки появляется счетчик с цифрой 1 зеленого цвета (для карточки без лайков),
        скрин https://jing.yandex-team.ru/files/terenandrevna/02122019reclike.png,
        справа от иконки счетчик увеличил значение на 1 и изменил цвет на зеленый (для карточки с лайками)
    - do: тапнуть еще раз по иконке лайка, после тапа убрать курсор с иконки
    - assert: |
        иконка лайка меняет цвет с зеленого на серый,
        цифра счетчика пропадает  (для карточки без лайков)
        счетчик уменьшил значение на 1 и изменил цвет на серый (для карточки с лайками)

  сохраняется после обновления страницы [manual]:
    - automation: NERPA-8437
    - tags: backend_sport
    - do: авторизоваться на сервисе Я.Спорт
    - do: открыть сервис Я.Спорт на странице рубрики Киберспорт
    - do: полайкать 1-2 карточки, кроме карточек топа, запомнить количество лайков на каждой
    - assert: |
        иконка меняет цвет с серого на зеленый с анимацией,
        справа от иконки появляется счетчик с цифрой 1 зеленого цвета (для карточки без лайков),
        счетчик увеличил значение на 1 и изменил цвет на зеленый (для карточки с лайками)
    - do: обновить страницу рубрики и найти полайканные карточки
    - assert: проставленные лайки сохранились - иконки зеленые, счетчики те же
    - do: разлогиниться на сервисе Я.Спорт
    - do: открыть ту же рубрику, что и в залогиненном состоянии
    - do: найти полайканные в авторизованном состоянии карточки
    - assert: иконки лайков серые
    - do: полайкать 1-2 карточки, запомнить количество лайков на каждой
    - assert: |
        иконка меняет цвет с серого на зеленый с анимацией,
        справа от иконки появляется счетчик с цифрой 1 зеленого цвета (для карточки без лайков),
        счетчик увеличил значение на 1 и изменил цвет на зеленый (для карточки с лайками)
    - do: обновить страницу рубрики и найти полайканные карточки
    - assert: проставленные лайки сохранились - иконки зеленые, счетчики те же

files: []

v-team: Sport

qa-engineer: nightsonne

manager: skhovaev

tags: sportdesktop

tlds:
  - ru
  - ua
  - by
  - kz
  - uz
  - com
