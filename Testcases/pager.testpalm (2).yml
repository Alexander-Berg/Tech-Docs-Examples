feature: Пейджер

specs:
  Проверка ссылки и счётчика перехода на следующую страницу:
    - tags: winphone7
    - do: получить выдачу по запросу 'темная материя'
    - assert: под выдачей появился пейджер (листалка с номерами страниц выдачи)
    - screenshot: в нижней части страницы есть пейджер (листалка с номерами страниц выдачи) [pager/first-page-59-{{PLATFORM}} >> plain]
    - tech: проверить счетчик на ссылке перехода на вторую страницу выдачи
    - do: нажать на вторую страницу
    - assert: открылась вторая страница выдачи
  Проверка перехода на вторую страницу и возврата обратно:
    - do: получить выдачу по запросу 'темная материя'
    - do: перейти на вторую страницу с помощью пейджера
    - assert: |
        вы на второй странице выдачи
        в нижней части, на пейджере выделена цветом цифра 2, слева от нее цифра 1, справа цифры 3 4 и 5
        в url в адресной строке параметр &p=1 встречается только один раз
    - do: нажать на цифру 1
    - assert: |
        вы на первой странице выдачи
        в нижней части, на пейджере выделена цветом цифра 1, справа от нее цифры 2 3 4 и 5
  Проверка перехода на вторую страницу и перезапроса:
    - do: получить выдачу по запросу 'темная материя'
    - do: перейти на вторую страницу с помощью пейджера
    - assert: вы на второй странице выдачи
    - assert: в нижней части, на пейджере выделена цветом цифра 2, слева от нее цифра 1, справа цифры 3 4 и 5
    - do: установить курсор в поисковый инпут
    - do: кликнуть в появившуюся кнопку 'Найти'
    - assert: |
        вы на первой странице выдачи
        в нижней части, на пейджере выделена цветом цифра 1, справа от нее цифры 2 3 4 и 5
  Проверка некликабельности текущей страницы пейджера:
    - do: получить выдачу по запросу 'темная материя'
    - do: перейти на пятую страницу с помощью пейджера
    - assert: вы на пятой странице выдачи
    - screenshot: загрузилась пятая страница выдачи [pager/fifth-page-60-{{PLATFORM}} >> plain]
    - assert: в нижней части, на пейджере выделена цветом цифра 5, слева и справа от нее еще по две цифры выбора страниц
    - do: нажать на цифру 5
    - assert: ничего не произошло, выдача не обновилась
    - tech: hermione [pager/last-page-61-{{PLATFORM}} >> plain]
  Проверка отсутствия пейджера в пустой выдаче:
    - tags: winphone7
    - do: получить выдачу по пустому запросу
    - assert: на странице нет пейджера

files:
# - features/touch-phone/pager.autogenerated.hermione.js
  - hermione/test-suites/touch-phone/pager.hermione.js

manager: osumerina

tags:
  - pager
  - footer
  - smoke
  - smoke_extended
  - ajax
  - smart

priority: high

v-team: Beauty

tlds: all

