feature: UserScreen

specs:
  beforeEach:
    - do: при дальнейшей проверке указанных ожидаемых результатов обращайте внимание на любые некорректные на ваш взгляд поведения, основываясь на свой опыт использования web-приложений (например, сохранение позиции при переходах туда-обратно кнопками на устройстве, пустые экраны при переходах, кривая верстка, скачкИ элементов, плавность скролла, неработающая функциональность и т.п.)

  Внешний вид экрана пользователя:
    - do: залогиниться в Яндексе
    - do: перейти по ссылке https://yandex.ru/turbo/spideradio.github.io/n/yandexturbocatalog/user/
    - do: нажать на иконку профиля в навигационной панели
    - assert: открылась страница профиля
    - screenshot: страница корректно отображается, внешний вид соответствует скриншоту [plain]

  Пользователь разлогинен:
    - automation: SERPTEST-1719
    - do: разлогиниться в Яндексе, если есть залогиненный пользователь
    - do: получить выдачу по запросу 'site:super01.ru каталог' (альтернативные запросы - 'site:fulmar.ru каталог')
    - assert: на выдаче присутствует сниппет(ы) с галереей карточек товаров [https://jing.yandex-team.ru/files/skurhanski/chrome_ziIi8LshqE.png]
    - do: кликнуть по любой ссылке сниппета для перехода на страницу магазина
    - assert: открылась страница магазина
    - assert: внизу страницы присутствует навигационная панель, в которой есть пиктограмма Профиль [https://jing.yandex-team.ru/files/skurhanski/chrome_HTfsOYaqWv.png]
    - do: кликнуть по пиктограмме Профиль
    - assert: появилась страница (или попап) для ввода имени пользователя
    - do: залогиниться
    - assert: пользователь после залогина оказался на странице профиля
    - assert: в нижней навигационной панели появилось имя пользователя (и аватарка, если она установлена у пользователя)
    - do: покликать по другим пиктограммам в навигационной панели
    - assert: в пиктограмме профиля продолжает отображаться имя пользователя
    - do: кликнуть по пиктограмме профиля
    - assert: осуществился переход в раздер профиля [https://jing.yandex-team.ru/files/skurhanski/browser_8wr4jrNlR8.png]
    - do: проверить работу ссылок (кроме ссылки 'Выйти' и 'Избранные товары') на странице профиля
    - assert: ссылки ведут в соответствующие разделы Яндекс.Паспорта
    - assert: клик Назад или закрытие страницы паспорта снова возвращает в раздел профиля в магазине
    - do: проверить работу ссылки 'Избранные товары' на странице профиля
    - assert: ссылка ведет на страницу 'Избранные товары' сервиса Яндекс.Коллекции
    - assert: клик Назад или закрытие страницы сервиса Коллекций снова возвращает в раздел профиля в магазине
    - do: кликнуть Выйти в разделе профиля
    - assert: на непродолжительное время появился спиннер [https://jing.yandex-team.ru/files/skurhanski/browser_KMJswtpyEo.png]
    - assert: после исчезновения спиннера осуществился переход в раздел Главная в текущей вкладке (в Яндекс.Браузере может появиться попап для выбора аккаунта, который нужно скрыть для перехода в раздел Главная)
    - assert: в пиктограмме профиля в навигационной панели исчезло имя пользователя
    - do: кликнуть по пиктограмме Профиль
    - assert: появилась страница (или попап) для ввода имени пользователя
    - do: закрыть страницу с магазином и перейти на страницу поиска
    - do: получить выдачу по запросу 'site:super01.ru каталог'
    - assert: на выдаче присутствует сниппет(ы) с галереей карточек товаров [https://jing.yandex-team.ru/files/skurhanski/chrome_ziIi8LshqE.png]
    - do: кликнуть по любой ссылке сниппета для перехода на страницу магазина
    - assert: открылась страница магазина
    - assert: внизу страницы присутствует навигационная панель, в которой есть пиктограмма Профиль (без имени пользователя)
    - do: кликнуть по пиктограмме Профиль
    - assert: появилась страница (или попап) для ввода имени пользователя

  Пользователь залогинен:
    - automation: SERPTEST-1719
    - do: залогиниться в Яндексе
    - do: получить выдачу по запросу 'site:super01.ru' (альтернативные запросы - 'site:fulmar.ru')
    - assert: на выдаче присутствует сниппет(ы) с галереей карточек товаров [https://jing.yandex-team.ru/files/skurhanski/chrome_ziIi8LshqE.png]
    - do: кликнуть по любой ссылке сниппета для перехода на страницу магазина
    - assert: открылась страница магазина
    - assert: внизу страницы присутствует навигационная панель, в которой есть иконка с именем пользователя (и аватарка, если она установлена у пользователя) [https://jing.yandex-team.ru/files/skurhanski/XjGG8JRLwT.png]
    - do: кликнуть по иконке пользователя
    - assert: осуществился переход в раздер профиля [https://jing.yandex-team.ru/files/skurhanski/browser_8wr4jrNlR8.png]
    - do: проверить работу ссылок (кроме ссылки 'Выйти' и 'Избранные товары') на странице профиля
    - assert: ссылки ведут в соответствующие разделы Яндекс.Паспорта
    - assert: клик Назад или закрытие страницы паспорта снова возвращает в раздел профиля в магазине
    - do: проверить работу ссылки 'Избранные товары' на странице профиля
    - assert: ссылка ведет на страницу 'Избранные товары' сервиса Яндекс.Коллекции
    - assert: клик Назад или закрытие страницы сервиса Коллекций снова возвращает в раздел профиля в магазине
    - do: кликнуть Выйти в разделе профиля
    - assert: на непродолжительное время появился спиннер [https://jing.yandex-team.ru/files/skurhanski/browser_KMJswtpyEo.png]
    - assert: после исчезновения спиннера осуществился переход в раздел Главная в текущей вкладке
    - assert: в пиктограмме профиля в навигационной панели исчезло имя пользователя
    - do: кликнуть по пиктограмме Профиль
    - assert: появилась страница (или попап) для ввода имени пользователя

files:
  - screens/UserScreen/__tests__/UserScreen@phone.hermione.js

tags: ecom-tap

tlds: ru

v-team: Turbo
