feature: Страница сервиса

specs:
  beforeEach:
    - tech: залогиниться пользователем robot-abc-001 

  Положительные:
    1. Если в скоупе не более 30 участников, то не показываем ссылку "Ещё N":
      - do: открыть страницу сервиса "autotest-different-scopes" (/services/autotest-different-scopes/)
      - screenshot: в команде есть скоуп "Администрирование", рядом с названием скоупа указано количество участников - 30, внизу списка участников нет ссылки "Ещё", участники отсортированы в алфавитном порядке по имени [scope-less-30]

    2. Если в скоупе больше 30 участников, то показываем 30, остальных - по клику на "Ещё N":
      - do: открыть страницу сервиса "autotest-different-scopes-2" (/services/autotest-different-scopes-2/) 
      - screenshot: в команде есть скоуп "Администрирование", рядом с названием скоупа указано количество участников - 68, внизу списка участников есть ссылка "Ещё 38", участники отсортированы в алфавитном порядке по имени [scope-more-30]
      - do: кликнуть на ссылку "Ещё 38"
      - assert: |
            загрузились остальные участники,
            ссылка "Ещё 38" пропала 
      - tech: показаны все 68 участников
      - do: навести курсор на правый край строки с последним в списке участником
      - assert: строка подсветилась жёлтым, с правого края появилась иконка корзины

    3. Порядок отображения скоупов ролей в списке участников команды сервиса:
      - tags: 
        - no_assessors
      - do: открыть страницу сервиса "autotest-all-role-scopes" (/services/autotest-all-role-scopes/)
      - assert: |
            первым показан скоуп "Управление продуктом", где есть руководитель сервиса,
            последним показан скоуп "Другие роли"
   

files:
  - test/features/desktop/roles/show-members.hermione.js

priority: critical

tags:
  - reviewed
