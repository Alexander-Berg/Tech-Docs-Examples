feature: Создание приватного чата

specs:

    Можно создать приватный чат с собеседником, найдя его в списке контактов[manual]:
        - tags: [advanced_smoke, b2b]
        - automation: MSSNGRFRONT-5114
        - description: |
              Авторизованы аккаунтом с прикрепленным номером телефона.
              Есть доступ ко второму аккаунту с прикрепленным номером (он есть в адресной книге основного аккаунта).
        - do: Открыть список чатов.
        - assert: Открывается окно списка чатов.
        - do: В поле поиска ввести имя аккаунта из вашей телефонной книги к которому у вас есть доступ и выбрать его.
        - assert: Создается приватный чат с выбранным собеседником.
        - do: Отправить в диалог сообщение "Привет".
        - assert: Сообщение отобразилось в диалоге.
        - do: Авторизоваться в мессенджере аккаунтом собеседника.
        - assert: В списке чатов появился созданный в предыдущих шагах диалог.

    Можно создать чат с самим собой[manual]:
        - tags: [advanced_smoke, b2b]
        - automation: MSSNGRFRONT-5114
        - description: |
              Авторизованы аккаунтом с прикрепленным номером телефона.
        - do: Открыть список чатов.
        - assert: Открывается окно списка чатов.
        - do: Ввести в поле поиска свое имя.
        - assert: Появляется саджест с "Сохраненные сообщения".
        - do: Выбрать "Сохраненные сообщения".
        - assert: Открывается чат с самим собой - Заголовок чата "Сохраненные сообщения".

    Можно отменить вводимый текст в окне поиска, не закрыв при этом само окно[manual]:
        - automation: MSSNGRFRONT-5114
        - description: |
              Авторизованы аккаунтом с прикрепленным номером телефона.
              Есть доступ ко второму аккаунту с прикрепленным номером (он есть в адресной книге основного аккаунта).
        - do: Открыть список чатов.
        - assert: Открывается окно списка чатов.
        - do: В поле ввода поиска контактов начать вводить отображаемое имя (disply name) пользователя А.
        - assert: Появился саджест со всеми пользователями в disply name которых есть совпадения с вводимым. В саджесте есть пользователь А.
        - do: Нажать на "Крестик" в поле ввода.
        - assert: Введеный текст в поле ввода был удален. Окно поиска осталось и можно вводить другой disply name (отображаемое имя пользователя).

    Можно отменить вводимый текст в окне создания чата, не закрыв при этом само окно[manual]:
        - automation: MSSNGRFRONT-5114
        - description: |
              Авторизованы аккаунтом с прикрепленным номером телефона
              Есть доступ ко второму аккаунту с прикрепленным номером (он есть в адресной книге основного аккаунта)
        - do: Открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Нажать на кнопку "Создать чат" в шапке списка чатов
        - assert: |
              Открывается окно в котором есть кнопки "Новый групповой чат" и "Новый канал"
              Есть поле ввода
              Фокус курсора установлен в поле ввода
              Под полем ввода есть списсок контактов
        - do: В поле ввода начать вводить отображаемое имя (disply name) пользователя А
        - assert: |
              Появился саджест со всеми пользователями в disply name которых есть совпадения с вводимым
              В саджесте есть пользователь А
        - do: Стереть ранее введенные символы
        - assert: |
              Введеный текст в поле ввода был удален
              Результаты поиска были отменены
              Фокус курсора находиться в поле ввода

    Корректно работает ввод имени пользователя, которого нет в списке контактов[manual]:
        - automation: MSSNGRFRONT-5114
        - description: Авторизованы аккаунтом с прикрепленным номером телефона
        - do: Открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Нажать на кнопку "Создать чат" в шапке списка чатов
        - assert: |
              Открывается окно в котором есть кнопки "Новый групповой чат" и "Новый канал"
              Есть поле ввода
              Фокус курсора установлен в поле ввода
              Под полем ввода есть списсок контактов
        - do: В поле ввода ввести любые символы (так чтобы в результатах не было совпадений и никто не был найден)
        - assert: |
              Символы введены
              На экране появилась надписи "Ничего не найдено" и "Контактов с такими именами нет в вашей адресной книги"
              Фокус курсора находиться в поле ввода
        - do: Стереть ранее введенные символы
        - assert: |
              Введеный текст в поле ввода был удален
              Результаты поиска были отменены и отображается список контактов
              Фокус курсора находиться в поле ввода

    Можно создать "Приватный чат" через окно создания чата (собеседник в МАК)[manual]:
        - automation: MSSNGRFRONT-5114
        - description: |
              Авторизованы аккаунтом с прикрепленным номером телефона.
              Есть доступ ко второму аккаунту с прикрепленным номером (он не добавлен в контактную книгу, но с ним есть общий приватный чат).
        - do: Открыть список чатов.
        - assert: Открывается окно списка чатов.
        - do: В поле поиска ввести имя аккаунта, которого нет в контактной книге, но с ним есть общий приватный чат.
        - assert: Создается приватный чат с выбранным собеседником.
        - do: Отправить в диалог сообщение "Привет".
        - assert: Сообщение отобразилось в диалоге.
        - do: Авторизоваться в мессенджере аккаунтом собеседника.
        - assert: В списке чатов появился созданный в предыдущих шагах диалог.

    Нельзя создать "Приватный чат", если собеседника нет в МАК и ЛАК[manual]:
        - automation: MSSNGRFRONT-5114
        - description: |
              Авторизованы аккаунтом с прикрепленным номером телефона.
        - do: Открыть список чатов.
        - assert: Открывается окно списка чатов.
        - do: В поле поиска ввести имя аккаунта, которого нет в вашей контактной книге, и с которым нет общих приватных чатов (например пользователь с которым есть общие групповые чаты).
        - assert: Ничего не найдено.

    Можно создать "Приватный чат" через карточку группового чата[manual]:
        - tags: [advanced_smoke]
        - automation: MSSNGRFRONT-5114
        - description: |
              Авторизованы аккаунтом с прикрепленным номером телефона.
              Добавлен групповой чат, в котором есть пользователь Б, к которому у вас есть доступ (логин и пароль).
              Нет приватного чата с пользователем Б.
        - do: Открыть список чатов.
        - assert: Открывается окно списка чатов.
        - do: Открыть групповой чат, который описан в description.
        - assert: Чат открыт.
        - do: Тапнуть по шапке чата.
        - assert: Открылась карточка чата.
        - do: Нажать на блок "Участники"
        - assert: Открылась карточка участников чата
        - do: Тапнуть по этому пользователю в списке, нажать на  "Отправить сообщение".
        - assert: Создается приватный чат с выбранным собеседником.
        - do: Отправить в диалог сообщение "Привет".
        - assert: Сообщение отобразилось в диалоге.
        - do: Авторизоваться в мессенджере аккаунтом собеседника.
        - assert: В списке чатов появился созданный в предыдущих шагах диалог.

    Можно открыть уже созданный "Приватный чат" через карточку группового чата[manual]:
        - automation: 
        - description: |
              Авторизованы аккаунтом с прикрепленным номером телефона.
              Добавлен групповой чат, в котором есть пользователь Б, к которому у вас есть доступ (логин и пароль).
              Есть приватный чата с пользователем Б.
        - do: Открыть список чатов.
        - assert: Открывается окно списка чатов.
        - do: Открыть групповой чат, который описан в description.
        - assert: Чат открыт.
        - do: Тапнуть по шапке чата.
        - assert: Открылась карточка чата.
        - do: Тапнуть по блоку "Участники"
        - assert: Открыт экран участники
        - do: Тапнуть по пользователю Б в списке уччастников и нажать на  кнопку "Написать" в открывшейся карточке
        - assert: Открывается окно приватного чата с пользователем Б

    Можно открыть "Приватный чат" с пользователем с которым уже создан "Приватный чат"[manual]:
        - automation: MSSNGRFRONT-5114
        - description: |
              Авторизованы аккаунтом с прикрепленным номером телефона.
              В списке контактов есть Пользователь А. К этому аккаунту должен быть доступ (вы знаете пароль и логин).
              Есть приватный чат с историей с Пользователем А.
        - do: Открыть список чатов.
        - assert: Открывается окно списка чатов.
        - do: В поле ввода поиска контактов начать вводить отображаемое имя (disply name) пользователя А.
        - assert: Появился саджест со всеми пользователями в disply name которых есть совпадения с вводимым. В саджесте есть пользователь А.
        - do: Нажать на пользователя А в саджесте.
        - assert: Открывается приватный чат с пользователем А в котором отображается вся история.

    Нельзя создать "Приватный чат" с пользователем, которого Вы заблокировали[manual]:
        - automation: MSSNGRFRONT-5114
        - description: |
              Авторизованы аккаунтом с прикрепленным номером телефона.
              В списке контактов есть Пользователь А. К этому аккаунту должен быть доступ (вы знаете пароль и логин).
              Пользователь А у Вас находиться в списке заблокированных контактов.
        - do: Открыть список чатов.
        - assert: Открывается окно списка чатов.
        - do: В поле ввода поиска контактов начать вводить отображаемое имя (disply name) пользователя А.
        - assert: Появился саджест со всеми пользователями в disply name которых есть совпадения с вводимым. В саджесте отсутствует пользователь А.

    Можно создать "Приватный чат" через окно создания чата (собеседник в ЛАК)[manual]:
        - automation: MSSNGRFRONT-5114
        - description: |
              Авторизованы аккаунтом с прикрепленным номером телефона.
              Есть доступ ко второму аккаунту с прикрепленным номером (он добавлен в адресную книгу телефона основного аккаунта).
              Первая платформа = платформе из тест-рана.
              Вторая платформа = выбору из списка согласно требованию релизного тикета в очереди асессоров.

        - do: Зайти в приложение на первой платформе  аккаунтом А.
        - assert: Зашли в приложение на первой платформе аккаунтом А.
        - do: Открыть список чатов.
        - assert: Открывается окно списка чатов.
        - do: В поле поиска ввести имя аккаунта из вашей телефонной книги к которому у вас есть доступ и выбрать его.
        - assert: Создается приватный чат с выбранным собеседником.
        - do: Отправить в диалог сообщение "Привет".
        - assert: Сообщение отобразилось в диалоге.
        - do: Зайти в приложение на второй платформе аккаунтом Б.
        - assert: Зашли в приложение на второй платформе аккаунтом Б.
        - do: Убедиться что приватный чат с аккаунтом А создался.
        - assert: Чат создан и есть первое сообщение "Привет" от собеседника А.

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
