feature: Колдунщик миниблендера

specs:
  Сниппет:
    params:
      foreverdata: '865721240'
    beforeEach:
      - do: получить выдачу по запросу 'foreverdata'
      - assert: на выдаче присутствует простой текстовый сниппет
    Внешний вид:
      - screenshot: внешний вид [snippet]
    Заголовок:
      - do: нажать на тайтл
      - assert: произошел переход по ссылке
      - tech: сработал счетчик '/$page/$main/$result/title'

  Расширенный сниппет:
    params:
      foreverdata: '4143172248'
    beforeEach:
      - do: получить выдачу по запросу 'foreverdata'
      - assert: на выдаче присутствует простой текстовый сниппет с ссылкой 'Читать еще'
    Внешний вид:
      - screenshot: внешний вид [extended-snippet]
    Развернутый:
      - do: нажать на ссылку 'Читать еще'
      - assert: показался скрытый текст
      - tech: сработал счетчик '/$page/$main/$result/extended-text/more'
      - screenshot: внешний вид [extended-snippet-expanded]

  С тумбой:
    params:
      foreverdata: '1189051557'
    beforeEach:
      - do: получить выдачу по запросу 'foreverdata'
      - assert: на выдаче присутствует простой текстовый сниппет с картинкой
    Внешний вид:
      - screenshot: внешний вид [with-thumb]
    Картинка:
      - do: нажать на картинку
      - assert: произошел переход по ссылке
      - tech: сработал счетчик '/$page/$main/$result/thumb'

  Сайтлинки:
    params:
      foreverdata: '872023881'
    beforeEach:
      - do: получить выдачу по запросу 'foreverdata'
      - assert: на выдаче присутствует простой текстовый сниппет
    Внешний вид:
      - screenshot: внешний вид [with-sitelinks]
    Сайтлинк:
      - do: нажать на сайтлинк
      - assert: произошел переход по ссылке
      - tech: сработал счетчик '/$page/$main/$result/sitelinks/item'

  Сайтлинки в стиле БНО:
    params:
      foreverdata: '1872426265'
    beforeEach:
      - do: получить выдачу по запросу 'foreverdata'
      - assert: на выдаче присутствует простой текстовый сниппет
    Внешний вид:
      - screenshot: внешний вид [with-bno-sitelinks]

  Карусель:
    params:
      foreverdata: '4184359419'
    beforeEach:
      - do: получить выдачу по запросу 'foreverdata'
      - assert: на выдаче присутствует текстовый сниппет с каруселью элементов
    Внешний вид:
      - screenshot: внешний вид [showcase]
    Карточка:
      - do: нажать на карточку в карусели
      - assert: произошел переход по ссылке (ссылка может открывать приложение Яндекс.Карты или предлагать его скачать)
      - tech: сработал счетчик '/$page/$main/$result/showcase/item/thumb'
    Тайтл в карточке:
      - do: нажать на заголовок под карточкой
      - assert: произошел переход по ссылке
      - tech: сработал счетчик '/$page/$main/$result/showcase/item/subtitle'
    Гринурл в карточке:
      - do: нажать на гринурл под карточкой
      - assert: произошел переход по ссылке
      - tech: сработал счетчик '/$page/$main/$result/showcase/item/path/urlnav'

files:
  - src/features/Fastres/Fastres.test/Fastres@common.hermione.js

tags:
  - skip_e2e_check
  - reviewed

counter: /$page/$main/$result[@wizard_name="fastres"]

v-team: Freshness

tlds: all
