feature: Отзывы на Серпе
type: Доступность оставление отзыва в просмотрщике отзывов организации

specs:
  beforeEach:
    - do: залогиниться в Яндексе
    - do: получить выдачу по запросу "кафе пушкин"
    - assert: на странице присутствует карточка организации
    - do: нажать на таб отзвов
    - assert: на странице появился попап с отзывами и формой оставлени яотзыва
  Оставление отзыва:
    - tech: |
        компонент оставления рейтинга имеет атрибуты aria-label="Выставление оценки" и role="radiogroup"
        звёзды рейтинга имеют атрибуты role="radio" и aria-label, равный значению рейтинга (от 1 до 5)
    - do: нажать на звёзду рейтинга
    - assert: |
        появилась форма для оставления отзыва с полем для ввода текста и кнопкой для сохранения отзыва
        фокус переместился на поле для оставления отзыва ипрочитался плейсхолдер поля
    - tech: кнопка для сохранения отзыва имеет атрибут aria-hidden=true
    - do: ввести текст в поле для оставления отзыва
    - assert: у кнопки для сохранения отзыва с атрибут aria-hidden равен false
  Редактирование отзыва:
    - assert: пронавигировать до кнопки меню редактирования отзыва
    - tech: кнопка меню редактирования отзыва имеет aria-label="Меню редактирования отзыва"
    - do: нажать меню редактирования отзыва
    - assert: |
        фокус переместился на меню с кнопками для изменения и удаления отзыва
        их названия читаются скринридеров как 'Изменить' и 'Удалить'
    - do: нажать кнопку изменения отзыва
    - assert: |
        появилась форма для оставления отзыва с полем для ввода текста и кнопкой для сохранения отзыва
        фокус переместился на поле для оставления отзыва и прочитался плейсхолдер поля
    - tech: кнопка для сохранения отзыва имеет атрибут aria-hidden=true
    - do: ввести текст в поле для оставления отзыва
    - assert: у кнопки для сохранения отзыва с атрибут aria-hidden равен false     
  Удаление отзыва:
    - assert: возле отзыва есть кнопка меню редактирования отзыва
    - tech: кнопка меню редактирования отзыва имеет aria-label="Меню редактирования отзыва"
    - do: нажать меню редактирования отзыва
    - assert: | 
        фокус переместился на меню с кнопками для изменения и удаления отзыва
        их названия читаются скринридеров как 'Изменить' и 'Удалить'
    - do: нажать кнопку удаления отзыва
    - assert: |
        появился вопрос с подтверждением удаления отзыва [https://jing.yandex-team.ru/files/antzhe/desktop-ugc-review-remove-confirm.png]
        прочитался текст вопроса   

files:
  - src/features/ReviewsViewer/ReviewsViewer.test/myReview/myReview.a11y@desktop.hermione.js

tags:
  - A11y_serp
  - no_assessors
  
v-team: VanillaGeo

tlds: [ru]
