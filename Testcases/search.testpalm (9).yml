feature: Кандидат
type: Страница Поиска

specs:
    beforeEach:
        - do: открыть страницу поиска кандидатов /candidates/
    Проверка внешнего вида страницы:
        - screenshot: пример внешнего вида заголовка [candidates_page_header]
        - screenshot: пример внешнего вида поисковой строки [candidates_page_search]
        - screenshot: пример внешнего вида сообщения [candidates_page_message]
        - do: клик на иконку фильтра
        - screenshot: развернулись варианты фильтров [candidates_page_open_filter]
    Проверка кнопки Создать:
        - do: клик по кнопке 'Создать'
        - assert: ссылка в браузере содержит /candidates/create/
    Проверка примера:
        - do: клик на  ссылку в имени примера
        - assert: |
            в поисковой строке появилось имя примера
            показалось кол-во результатов
            на странице показались варианты кандидатов, которые содержат такие данные как в примере
            на странице появилась пагинация
            фильтр свернулся
        - screenshot: пример внешнего вида [candidates_page_example]
    Проверка информационного попапа 'Профессия':
        - do: клик на иконку фильтра
        - do: клик на иконку i рядом с полем 'Профессия'
        - screenshot: открылся попап [popup_professions_info]
        - do: проверить ссылку 'на странице'
        - assert: ссылка содержит //wiki.test.yandex-team.ru/hr/grupparekrutmenta/rekruteru/Список-профессий/
        - do: клик на крестик в попапе
        - assert: попап закрылся
    Проверка информационного попапа 'Средняя оценка Skype от':
        - do: клик на иконку фильтра
        - do: клик на иконку i рядом с полем 'Средняя оценка Skype от'
        - screenshot: открылся попап [popup_skype_interviews_avg_grade_info]
        - do: клик на крестик в попапе
        - assert: попап закрылся
    Проверка фильтра по профессии:
        - do: клик на иконку фильтра
        - do: выбрать вариант в поле 'Профессия'
        - assert: рядом с поисковой строкой появился крестик с текстом 'Выбран 1 фильтр'
        - do: клик на кнопку 'Найти'
        - screenshot: появились варианты кандидатов с выбранной профессией [candidates_page_professions]
        - do: очистить поле 'Профессия'
        - assert: крестик рядом с поисковой строкой пропал
    Проверка фильтра по навыкам:
        - do: клик на иконку фильтра
        - do: выбрать значение в поле 'Навыки'
        - do: клик на кнопку 'Найти'
        - assert: |
            список кандидатов обновился
            кол-во найденных кандидатов появилось
            показаны кандидаты только с указанным навыком
        - screenshot: пример внешнего вида [candidates_page_skills]
    Проверка фильтра по тегам:
        - do: клик на иконку фильтра
        - do: выбрать значение в поле 'Теги'
        - do: клик на кнопку 'Найти'
        - assert: |
            список кандидатов обновился
            кол-во найденных кандидатов появилось
            показаны кандидаты только с указанными тегами
        - screenshot: пример внешнего вида [candidates_page_tags]
    Проверка фильтра по средней оценке Skype:
        - do: клик на иконку фильтра
        - do: выбрать значение в поле 'Средняя оценка Skype от'
        - do: клик на кнопку 'Найти'
        - assert: |
            список кандидатов обновился
            кол-во найденных кандидатов появилось
            показаны кандидаты только с указанной средней оценкой
        - screenshot: пример внешнего вида [candidates_page_skype_interviews_avg_grade]
    Проверка фильтра по средней оценке секций:
        - do: клик на иконку фильтра
        - do: выбрать значение в поле 'Средняя оценка секций от'
        - do: клик на кнопку 'Найти'
        - assert: |
            список кандидатов обновился
            кол-во найденных кандидатов появилось
            показаны кандидаты только с указанной средней оценкой
        - screenshot: пример внешнего вида [candidates_page_on_site_interviews_avg_grade]
    Проверка фильтра без nohire:
        - do: клик на иконку фильтра
        - do: установить галочку в поле 'Исключить nohire'
        - do: клик на кнопку 'Найти'
        - assert: |
            список кандидатов обновился
            кол-во найденных кандидатов появилось
            показаны кандидаты только с наймом
        - screenshot: пример внешнего вида [candidates_page_without_nohire]
    Проверка фильтра без действующих сотрудников:
        - do: клик на иконку фильтра
        - do: установить галочку в поле 'Исключить действующих сотрудников'
        - do: клик на кнопку 'Найти'
        - assert: |
            список кандидатов обновился
            кол-во найденных кандидатов появилось
            показаны только новые кандидаты
        - screenshot: пример внешнего вида [candidates_page_ignore_employees]
    Проверка фильтра по городу рассмотрения:
        - do: клик на иконку фильтра
        - do: выбрать значение в поле 'Город рассмотрения'
        - do: клик на кнопку 'Найти'
        - assert: |
            список кандидатов обновился
            кол-во найденных кандидатов появилось
            показаны только кандидаты с указанным городом рассмотрения
        - screenshot: пример внешнего вида [candidates_page_target_cities]
    Проверка фильтра по городу кандидата:
        - do: клик на иконку фильтра
        - do: выбрать значение в поле 'Город кандидата'
        - do: клик на кнопку 'Найти'
        - assert: |
            список кандидатов обновился
            кол-во найденных кандидатов появилось
            показаны только кандидаты с указанным городом
        - screenshot: пример внешнего вида [candidates_page_city]
    Проверка фильтра кандидатов в работе:
        - do: клик на иконку фильтра
        - do: выбрать значение в поле 'В работе'
        - do: клик на кнопку 'Найти'
        - assert: |
            список кандидатов обновился
            кол-во найденных кандидатов появилось
            показаны только кандидаты с выбранным статусом
        - screenshot: пример внешнего вида [candidates_page_is_active_false]
    Проверка фильтра по учебному заведению:
        - do: клик на иконку фильтра
        - do: ввести значение в поле 'Учебное заведение'
        - do: клик на кнопку 'Найти'
        - assert: |
            список кандидатов обновился
            кол-во найденных кандидатов появилось
            показаны только кандидаты с указанным учебным заведением
        - screenshot: пример внешнего вида [candidates_page_institution]
    Проверка фильтра по работодателю:
        - do: клик на иконку фильтра
        - do: ввести значение в поле 'Работодатель'
        - do: клик на кнопку 'Найти'
        - assert: |
            список кандидатов обновился
            кол-во найденных кандидатов появилось
            показаны только кандидаты с указанным работодателем
        - screenshot: пример внешнего вида [candidates_page_employer]
    Проверка фильтра по рекрутеру:
        - do: клик на иконку фильтра
        - do: выбрать рекрутера в поле 'Рекрутеры'
        - do: клик на кнопку 'Найти'
        - assert: |
            список кандидатов обновился
            кол-во найденных кандидатов появилось
            показаны только кандидаты с указанным рекрутером
        - screenshot: пример внешнего вида [candidates_page_responsibles]
    Проверка фильтра по дате создания:
        - do: клик на иконку фильтра
        - do: выбрать период создания кандидата
        - do: клик на кнопку 'Найти'
        - assert: |
            список кандидатов обновился
            кол-во найденных кандидатов появилось
            показаны только кандидаты созданные в указанный период времени
        - screenshot: пример внешнего вида [candidates_page_created_gte_created_lte]
    Проверка фильтра по дате обновления:
        - do: клик на иконку фильтра
        - do: выбрать период обновления кандидата
        - do: клик на кнопку 'Найти'
        - assert: |
            список кандидатов обновился
            кол-во найденных кандидатов появилось
            показаны только кандидаты обновленные в указанный период времени
        - screenshot: пример внешнего вида [candidates_page_modified_gte_modified_lte]
    Проверка сортировки:
        - do: клик на иконку фильтра
        - do: выбрать значение в поле 'Сортировка'
        - do: клик на кнопку 'Найти'
        - assert: |
            список кандидатов обновился
            кол-во найденных кандидатов появилось
            кандидаты отсортированы правильно
        - screenshot: пример внешнего вида [candidates_page_sort_from_old_to_new]
    Проверка фильтра по данным из поисковой строки:
        - do: ввести текст в поисковую строку
        - do: клик на кнопку 'Найти'
        - assert: |
            список кандидатов обновился
            кол-во найденных кандидатов появилось
            показаны только кандидаты у которых в имени, фамилии или резюме содержится данный текст
        - screenshot: пример внешнего вида [candidates_page_search_input]
    Проверка нескольких фильтров сразу:
        - do: клик на иконку фильтра
        - do: выбрать в поле 'Профессия' значения 'инженер по тестированию' и 'Разработчик бекэнда'
        - do: выбрать в поле 'Средняя оценка секций от' значение стажер
        - assert: рядом с поисковой строкой кол-во выбранных фильтров показывает 2
        - do: установить галочку в поле 'Исключить действующих сотрудников'
        - do: выбрать в поле 'город рассмотрения' значения 'Москва' и 'Санкт-Петербург'
        - do: клик кнопку 'Найти'
        - screenshot: в списке отображаются только кандидаты с указанными значениями [candidates_page_multiple_filters]
    Проверка пагинации:
        - do: клик на ссылку в имени примера
        - assert: внизу страницы есть пагинация
        - do: клик на страницу в пагинации
        - screenshot: открылась выбранная страница [candidates_page_pagination]
    Проверка ссылки с предустановленными параметрами:
        - do: открыть страницу /candidates/?filter=yes&professions=3&professions=1&on_site_interviews_avg_grade=1&target_cities=1&target_cities=2&ignore_employees=true
        - screenshot: открылась страница с развернутым фильтром и предустановленными значениями в нем [candidates_page_link_params]

tags:
  - reviewed

priority: critical

files:
    - tests/hermione/suites/desktop/candidates/search/search.hermione.js

browsers:
  - yandex-browser-desktop
  - firefox-desktop
  - safari-desktop
