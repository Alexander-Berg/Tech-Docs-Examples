feature: Подвал
type: Авторизация

specs:
  Аутентификация из подвала:
    - do: получить выдачу по запросу 'test'
    - assert: внизу страницы есть подвал, в котором есть ссылка 'Войти в почту'
    - do: нажать на ссылку 'Войти в почту'
    - do: залогиниться со своим логином и паролем (на yandex.ru)
    - do: после логина снова опуститься в нижнюю часть страницы
    - assert: теперь вместо кнопки 'Войти в почту' появился ваш логин
    - screenshot: ваш логин вместо кнопки 'Войти в почту' (как test на скриншоте) [authentication/default-33-{{PLATFORM}} >> plain]
    - assert: текст с логином соответствует тому с которым логинились
    - do: нажать на логин
    - assert: осуществился переход на Яндекс.Паспорт, информация о вашей учетной записи
    - tech: сверяем счётчик ссылки на профиль паспорта в подвале /footer/username
    - do: на сервисе Яндекс.Паспорт найти блок "Входы и устройства" и нажать 'Выйти на всех устройствах'
    - do: еще получить выдачу по запросу 'test'
    - assert: логин в подвале пропал, снова появилась ссылка 'Войти в почту'
  Проверка кодировки логина пользователя:
    - tags: no_assessors
    - do: получить выдачу по запросу 'test'
    - tech: внизу страницы есть подвал, в котором есть ссылка 'Войти в почту'
    - do: кликнуть на ссылку 'Войти в почту'
    - do: залогиниться с логином 'robbitter-5151382063@закодированный.домен' и паролем '123456qwerty'
    - tech: текст в ссылке на профиль паспорта в подвале совпадает с логином 'robbitter-5151382063@закодированный.домен' и отображается корректно
    - screenshot: внешний вид после логина c длинным именем пользователя [authentication/long-username-34-{{PLATFORM}} >> plain]

files:
  - hermione/test-suites/touch-phone/authentication.hermione.js
# - features/touch-phone/authentication.autogenerated.hermione.js

v-team: Beauty

tags:
  - smoke
  - smoke_extended
  - footer
  - auth
  - reviewed

tlds: none
