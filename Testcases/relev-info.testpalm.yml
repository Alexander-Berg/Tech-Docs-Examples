feature: Кука релевантности

description: Фича видна только при наличии прав доступа к куке релевантности

specs:
  params:
    foreverdata: '3272076044'

  beforeEach:
    - do: получить выдачу по запросу 'foreverdata'
    - do: нажать на тумблер включения куки под логотипом 'Яндекс'
    - assert: интерфейс куки релевантности должен быть виден

  Базовые проверки:
    Скрытие/раскрытие:
      - do: нажать на тумблер включения куки под логотипом 'Яндекс'
      - assert: интерфейс куки релевантности должен быть скрыт

    Переключение вкладок:
      - do: нажать на вкладку Запрос
      - assert: информация о запросе должна быть видна
      - do: нажать на вкладку QTree
      - assert: таблица QTree должна быть видна
      - do: нажать на вкладку Ranking Models
      - assert: таблица Ranking Models должна быть видна
      - do: нажать на вкладку MxNet Info
      - assert: таблица MxNet Info должна быть видна

  Информация о запросе:
    - do: кликнуть на кнопку 'Скопировать' напротив строки Reqid
    - assert: текст скопирован в буфер обмена, рядом с кнопкой появился тултип 'Готово'

  QTree:
    beforeEach:
      - do: открыть вкладку QTree

    Подсветка таблицы:
      - do: кликнуть в ячейку таблицы
      - assert: ячейка должна подсветиться, а также все находящиеся над ней (менее ярко)

  Ranking Models:
    beforeEach:
      - do: открыть вкладку Ranking Models

    Скролл и ссылки элементов:
      - do: пролистать список в самый низ
      - assert: элементы должны быть видны
      - do: кликнуть по ссылке одного из элементов
      - assert: открывается новая вкладка, ведущая в хранилище формул

    Фильтрация:
      - do: ввести в поле фильтра текст '179018'
      - assert: выводятся отфильтрованные результаты
      - do: дополнить запрос до '179018000000000000'
      - assert: место списка занимает текст 'Элементы не найдены'

  MxNet Info:
    beforeEach:
      - do: открыть выдачу по запросу 'сегодня'
      - do: открыть вкладку MxNetInfo

    Cсылки элементов:
      - do: кликнуть по ссылке одного из элементов
      - assert: открывается новая вкладка, ведущая в хранилище формул

    Переключение вкладок:
      - do: кликнуть по вкладке 'Свежесть'
      - assert: вкладка открывается

    Расхлоп/схлопывание элементов:
      - do: кликнуть по элементу списка имеющему стрелку рядом с названию
      - assert: отобразились вложенные формулы элемента

  Document Factors:
    beforeEach:
      - do: пролистать до документа с кнопкой Factors под ним
      - do: нажать на кнопку Factors

    Верстка:
      - assert: интерфейс, отображающий факторы документа, должен быть виден

    Скролл и ссылки элементов:
      - do: кликнуть в первый спойлер в списке
      - assert: элементы, входящие в него, должны отобразиться
      - do: пролистать список в самый низ
      - assert: элементы, находящиеся внизу списка, должны быть видны
      - do: кликнуть по ссылке одного из элементов
      - assert: открывается новая вкладка, ведущая в хранилище формул

    Фильтрация:
      - do: ввести в поле фильтра текст '0. PR'
      - assert: выводятся отфильтрованные результаты
      - do: дополнить запрос до '0. PR some garbage'
      - assert: место списка занимает текст 'Элементы не найдены'

files:
  - features/desktop/relev-info/relev-info.hermione.js

tags:
  - no_assessors

v-team: Common

tlds: none
