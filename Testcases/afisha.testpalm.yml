feature: Объектный ответ
type: Афиша

counter: /$page/$parallel/$result/tabs/main/object-badge/afisha

# e2e закомментированы, т.к. в связи с карантином афишу в проде не найти
# specs-integration:
#  В карточке:
#    - do: выбрать на afisha.yandex.ru любой фильм, который сейчас в прокате
#    - do: получить выдачу Поиска по запросу с названием выбранного фильма
#    - assert: в карточке ОО в правой колонке есть афиша (если афиша в центре, то на afisha.yandex.ru выбрать другой фильм)
#    - assert: в карточке ОО есть кнопка 'Купить билет'
#    - assert: в карточке ОО есть название кинотеатра
#    - assert: в карточке ОО есть блок с сеансами
#    - assert: в карточке ОО есть ссылка на Яндекс.Афишу
#  В центре:
#    - counter: /snippet/entity_search/afisha_schedule
#    - do: выбрать на afisha.yandex.ru любой фильм, который сейчас в прокате
#    - do: получить выдачу Поиска по запросу с названием выбранного фильма
#    - assert: в центральной колонке есть афиша (если афиша в правой колонке, то на afisha.yandex.ru выбрать другой фильм)
#    - assert: в центральной колонке есть заголовок афиши
#    - assert: в центральной колонке есть название кинотеатра
#    - assert: в центральной колонке есть блок с сеансами
#    - assert: в центральной колонке есть заголовок, ведущий на Яндекс.Афишу
#    - assert: в центральной колонке есть гринурл, ведущий на Яндекс.Афишу
specs:
  В карточке:
    - do: выбрать на afisha.yandex.ru любой фильм, который сейчас в прокате
    - do: получить выдачу Поиска по запросу с названием выбранного фильма
    - assert: в карточке ОО в правой колонке есть афиша (если афиша в центре, то на afisha.yandex.ru выбрать другой фильм)
    - screenshot: пример внешнего вида [afisha-in-card]
    - tech: проверить счетчик показа расписания Афиши в ОО
    - tech: проверить счетчик кнопки 'Купить билет'
    - do: проверить ссылку в названии первого кинотеатра
    - tech: проверить счетчик в названии кинотеатра
    - assert: открывается страница афиши с расписанием кинотеатра
    - do: вернуться на страницу выдачи
    - do: проверить ссылку в первом сеансе расписания
    - tech: проверить счетчик в первом сеансе расписания
    - assert: открывается виджет с местами в кинотеатре
    - do: закрыть виджет с расписанием
  В центре:
    - params:
        rearr: scheme_Local%2FEntitySearch%2FMoveAfishaScheduleToCenter%3D1
    - counter: /snippet/entity_search/afisha_schedule
    - do: выбрать на afisha.yandex.ru любой фильм, который сейчас в прокате
    - do: получить выдачу Поиска по запросу с названием выбранного фильма
    - assert: в центральной колонке есть афиша (если афиша в правой колонке, то на afisha.yandex.ru выбрать другой фильм)
    - screenshot: пример внешнего вида [afisha-in-center]
    - tech: проверить счетчик показа расписания Афиши в ОО
    - do: проверить ссылку в названии первого кинотеатра
    - tech: проверить счетчик в названии кинотеатра
    - assert: открывается страница афиши с расписанием кинотеатра
    - do: вернуться на страницу выдачи
    - do: проверить ссылку в первом сеансе расписания
    - tech: проверить счетчик в первом сеансе расписания
    - assert: открывается виджет с местами в кинотеатре
    - do: закрыть виджет с расписанием
    - do: проверить ссылку на все кинотеатры в Яндекс.Афише
    - assert: происходит переход на сайт Яндекс.Афиши

files:
  - features/deskpad/z-entity-search/afisha/afisha.hermione.js

#  - features/deskpad/z-entity-search/afisha/afisha.hermione.e2e.js
tags:
  - smoke_extended
  - reviewed
  - skip_e2e_check
  - oo_afisha

v-team: OO

tlds:
  - ru
  - ua
  - by
  - kz
