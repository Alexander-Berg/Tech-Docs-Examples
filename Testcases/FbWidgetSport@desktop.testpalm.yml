feature: Страница футбольного матча десктопного спорта

description: Страница футбольного матча обязательно должна содержать виджет с названиями команд и счетом (или заглушкой для счета в случае будущего матча), а так же МОЖЕТ содержать (а может и не содержать) другие блоки - большое видео, связанные видео, связанные новости, ход матча, состав, турнирную таблицу, другие матчи. Само по себе отсутствие любого из этих блоков на страницах не является багом. Если в кейсе нужно проверить один из этих блоков, а его нет ни в одном матче - кейс нужно скипнуть с соответствующим комментарием. Кроме того, нужно скипнуть кейс для страницы матча, если в момент выполнения кейса не проводятся футбольные соревнования, и на сервисе нет футбольных матчей. Вкладки "Вчера" и "Завтра" также могут отсуствовать по причине отсутствия матчей.

specs:
  beforeEach:
#    - do: открыть рубрику Футбол на сервисе Яндекс.Спорт
#    - do: проскроллить страницу до спортивного календаря
#    - assert: отображаеся спортивный матч-центр с вкладками 'Вчера', 'Сегодня' и 'Завтра'
    - do: открыть футбольный календарь по прямой ссылке https://yandex.ru/sport/calendar/football
    - assert: |
        открывается футбольный календарь,
        календарь содержит дата-пикер https://jing.yandex-team.ru/files/nightsonne/2020-04-13_19-58-59.png
    - do: кликнуть на дата-пикер и в выпадающем календаре выбрать дату 1 марта 2020
    - assert: отображается список матчей за 1 марта

  сожержит основные элементы [manual]:
    - automation: NERPA-8437
    - tags: backend_sport
    - do: перейти на страницу футбольного матча по клику на матч
    - assert: |
        на странице есть виджет результата матча со счетом, иконками и названием команд,
        под виджетом может располагаться блок с видео матча, который содержит одно большое видео и несколько маленьких видео справа от большого,
        под виджетом могут быть блоки 'Ход матча', 'Состав', 'Турнирная таблица', 'Другие матчи'
        новостные карточки спорта могут отображаться слева и под блоками,
        справа присутствует рекламный блок,
        верстка не едет, блоки и элементы не наезжают друг на друга
    - do: поскролить страницу вверх-вниз
    - assert: |
        верстка не едет, блоки и элементы не наезжают друг на друга,
        какие-то блоки (зависит от их количества и расположения на странице) и реклама могут залипать при скролле и перемещаться в области между рубрикатором и новостными карточками,
        рубрикатор залипает при скролле вниз и остается в поле видимости
    - do: кликнуть на любую рубрику в рубрикаторе
    - assert: происходит переход в выбранную рубрику

  содержит рекламу [manual]:
    - automation: NERPA-8437
    - tags: backend_sport
    - do: перейти на страницу футбольного матча по клику на матч
    - do: отключить блокировщик рекламы
    - assert: справа отображается рекламный блок
    - do: включить блокировщик рекламы, обновить страницу (если блок не отображается - обновить дважды)
    - assert: справа отображается рекламный блок
    - do: поскролить страницу вверх-вниз
    - assert: |
        верстка не едет, блоки и элементы не наезжают друг на друга,
        какие-то блоки (зависит от их количества и расположения на странице) и реклама могут залипать при скролле и перемещаться в области между рубрикатором и новостными карточками,
        рубрикатор залипает при скролле вниз и остается в поле видимости
  перестраивает сетку при масштабировании страницы [manual]:
    - automation: NERPA-8437
    - do: перейти на страницу футбольного матча по клику на матч'
    - do: помасштабировать страницу в сторону уменьшения масштаба браузера
    - assert: |
        при изменении масштаба браузера страница перестраивается,
        верстка не едет, карточки не наезжают друг на друга, не появляются дыры на месте карточек
    - do: помасштабировать страницу в сторону увеличения масштаба браузера
    - assert: |
        при изменении масштаба браузера страница перестраивается,
        верстка не едет, карточки не наезжают друг на друга, не появляются дыры на месте карточек
    - do: поресайзить окно браузера с открытой страницей сервиса
    - assert: |
        при ресайзе страница перестраивается,
        верстка не едет, карточки не наезжают друг на друга, не появляются дыры на месте карточек
  может содержать видео [manual]:
    - automation: NERPA-9339
    - assert: некоторые матчи содержат иконку-индикатор видео (такой же, как в Хоккее), скрин https://jing.yandex-team.ru/files/nightsonne/2019-11-20_17-36-40.png
    - do: перейти на страницу футбольного матча кликом по матчу с иконкой видео
    - assert: |
          страница матча может содержать большое видео
          видео содержит название матча (или игрового момента матча),
          справа от большого видео может быть расположена вертикальная карусель видео моментов матча
    - do: навести курсор на блок с видео
    - assert: курсор меняет стиль
    - do: тапнуть на большое видео
    - assert: в новой вкладке открывается видео матча на сервисе Яндекс.Эфир или другом спортивном источнике
    - do: вернуться на вкладку с матчем
    - do: поскроллить карусель видео
    - assert: |
          карусель скроллится,
          каждое видео содержит подпись момента,
          длинные названия моментов корректно обрезаются многоточием
    - do: тапнуть на любое видео в карусели
    - assert: в новой вкладке открывается видео момента

#  из блоков 'Вчера' или 'Сегодня' содержит футбольный виджет [manual]:
  из списка прошедших матчей содержит футбольный виджет [manual]:
    - automation: NERPA-9339
    - do: перейти на страницу футбольного матча кликом по матчу со счетом
    - assert: |
        страница матча содержит футбольный виджет,
        виджет содержит название чемпионата, статус матча, для завершенных матчей - время завершения, названия команд, счет,
        при победе по пенальти виджет содержит соответствующее указание рядом со счетом (букву П),
        счет и название команды-победителя выделено жирным шрифтом
# закомменчено до возобновления матчей
#  из блока 'Завтра' содержит футбольный виджет [manual]:
#    - automation: NERPA-9339
#    - do: перейти на страницу футбольного матча кликом по матчу в разделе 'Завтра'
#    - assert: |
#        страница матча содержит футбольный виджет,
#        виджет содержит название чемпионата, названия команд, надпись 'Завтра' и время начала матча
#  из блока 'Завтра' может содержать превью трансляции матча [manual]:
#    - automation: NERPA-9339
#    - do: перейти на страницу футбольного матча кликом по матчу в разделе 'Завтра'
#    - assert: страница матча может содержать большое видео - превью трансляции матча
#    - do: тапнуть на большое видео
#    - assert: в новой вкладке открывается страница трансляции на сервисе Яндекс.Эфир или другом спортивном источнике с превью и временем начала матча

#  из блоков 'Вчера' или 'Сегодня' может содержать блок 'Ход матча' [manual]:
  из списка прошедших матчей может содержать блок 'Ход матча' [manual]:
    - automation: NERPA-9339
    - do: перейти на страницу футбольного матча кликом по матчу со счетом
    - assert: |
        страница матча может содержать блок 'Ход матча' (если в данном матче блока нет, открыть другой матч),
        блок содержит логотипы команд или флаги стран,
        в блоке отображаются все события матча с подписью характера события и времени,
        голы отмечены значком мяча, пенальти - иконкой с буквой П поверх мяча
#  из блоков 'Вчера' или 'Сегодня' может содержать блок 'Состав' [manual]:
  из списка прошедших матчей может содержать блок 'Состав' [manual]:
    - automation: NERPA-9339
    - do: перейти на страницу футбольного матча кликом по матчу со счетом
    - assert: |
        страница матча может содержать блок 'Состав' (если в данном матче блока нет, открыть другой матч),
        в блоке отображены составы команд с лого и названием,
        рядом с фамилией игрока, забившего гол, есть иконка мяча и счетчик с количеством голов
#  из блоков 'Вчера' или 'Сегодня' может содержать блок 'Турнирная таблица' [manual]:
  из списка прошедших матчей может содержать блок 'Турнирная таблица' [manual]:
    - automation: NERPA-9339
    - do: перейти на страницу футбольного матча кликом по матчу со счетом
    - assert: |
        страница матча может содержать блок 'Турнирная таблица' (если в данном матче блока нет, открыть другой матч),
        в блоке может быть переключатель групп,
        на узких экранах названия длинные названия команд обрезаются многоточием,
        названия команд, на странице матча которых мы находимся, выделены жирным
    - do: поскролить страницу вверх-вниз
    - assert: |
        верстка не едет, блоки и элементы не наезжают друг на друга,
        блоки 'Турнирная таблица', 'Другие матчи' и рекламный блок могут залипать при скролле и перемещаться в области между рубрикатором и новостными карточками,
        рубрикатор залипает при скролле вниз и остается в поле видимости
#  из блоков 'Вчера' или 'Сегодня' может содержать блок 'Другие матчи' [manual]:
  из списка прошедших матчей может содержать блок 'Другие матчи' [manual]:
    - automation: NERPA-9339
    - do: перейти на страницу футбольного матча кликом по матчу со счетом
    - assert: |
        страница матча может содержать блок 'Другие матчи' (если в данном матче блока нет, открыть другой матч),
        в блоке есть список матчей с лого команд и счетом или временем начала матча,
        на узких экранах названия длинные названия команд обрезаются многоточием
    - do: кликнуть на любой матч из блока 'Другие матчи'
    - assert: произошел переход на страницу соответствующего матча
    - do: вернуться назад с помощью браузерной кнопки Назад
    - do: поскролить страницу вверх-вниз
    - assert: |
        верстка не едет, блоки и элементы не наезжают друг на друга,
        блоки 'Турнирная таблица', 'Другие матчи' и рекламный блок могут залипать при скролле и перемещаться в области между рубрикатором и новостными карточками,
        рубрикатор залипает при скролле вниз и остается в поле видимости
    - do: проскроллить к блоку 'Другие матчи' и тапнуть по кнопке 'Все матчи'
    - assert: произошел переход на страницу футбольного календаря в раздел 'Сегодня'

# из блоков 'Вчера' или 'Сегодня' может содержать карусель о связанных с матчем новостях [manual]:
  из списка прошедших матчей может содержать карусель о связанных с матчем новостях [manual]:
    - automation: NERPA-9339
    - do: перейти на страницу футбольного матча кликом по матчу со счетом
    - do: поскроллить матч ниже блока видео
    - assert: |
        страница матча может содержать карусель с карточками о связанных с матчем новостях (если в данном матче карточек нет, открыть другой матч),
        карточки о связанных с матчем новостях содержат иконку добавления в избранное (но не содержат иконку лайка и комментария),
        скрин (по аналогии с хоккейным матчем) https://jing.yandex-team.ru/files/nightsonne/2019-11-20_18-26-35.png
    - do: тапнуть по любой карточке о связанных с матчем новостях
    - assert: в новой вкладке открывается страница источника

  содержит Новости футбола [manual]:
    - automation: NERPA-9339
    - do: перейти на страницу футбольного матча кликом на любой матч
    - do: поскроллить матч ниже блоков видео, 'Ход матча', 'Состав' и пр до блока 'Новости футбола'
    - assert: страница матча содержит новостные карточки
    - do: проскроллить страницу матча до лоадера
    - assert: загружаются новые карточки
    - do: проскроллить страницу на несколько порций карточек
    - assert: |
        новостной блок помимо новостных карточек содержит рекламные блоки,
        новостной блок может содержат карточки с каруселями видео, карусели видео скроллятся
    - do: тапнуть по заголовку или картинке любой новостной карточке
    - assert: в той же вкладке открывается страница сюжета
    - do: вернуться назад на страницу футбольного матча
    - do: тапнуть по любому видео в любой карусели
    - assert: в новой вкладке открывается страница с видео

  позволяет написать комментарий [manual]:
    - automation: NERPA-9339
    - tags:
      - backend_sport
      - no_assessors
    - do: перейти на страницу футбольного матча кликом на любой матч
    - assert: под виджетом есть иконка комментария
    - do: тапнуть на иконку
    - assert: |
          открывается модальное окно комментария с полем ввода,
          верстка корректна
    - do: тапнуть по полю ввода
    - assert: появляется курсор
    - do: написать комментарий или выбрать стикер и отправить
    - assert: комментарий отобразился в поле ввода
    - do: кликнуть по крестику закрытия модального окна
    - assert: окно закрылось
    - do: тапнуть еще раз по иконке комментатора
    - assert: |
        открывается модальное окно комментария с полем ввода,
        верстка корректна,
        в окне отображается написанный комментарий
    - do: кликнуть вне области модального окна
    - assert: окно закрылось

files: []

v-team: Sport

qa-engineer: nightsonne

manager: skhovaev

tags:
  - sportdesktop

tlds:
  - ru
  - ua
  - by
  - kz
  - uz
  - com
