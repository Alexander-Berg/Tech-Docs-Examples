feature: Просмотры в каналах

specs:

    В списке чатов у канала нет синмаркеров прочитанности[manual]:
        - automation: MSSNGRFRONT-5018
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2м вспомогательным аккаунтом нужно будет авторизовываться в этом же браузере
              Пользователь А и Б состоят в одном канале. Пользователь А - администратор, пользователь Б - подписчик
              Изначально авторизованы пользователем А
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Отправить текстовое сообщение в канал
        - assert: Сообщение отправлено и отображается слева
        - do: Вернуться / Посмотреть в список чатов
        - assert: В превью канала для сообщения нет синмаркера прочитанности
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Посмотреть что у сообщения отображается счетчик просмотров
        - assert: Счетчик просмотров отображается и равен 2 (становится он таким после прочтения сообщения)
        - do: Авторизоваться пользователем А, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: В списке чатов найти канал из description
        - assert: У канала не появился синмаркер прочитанности

    Показывается счетчик просмотров у сообщений для админа[manual]:
        - tags: [advanced_smoke]
        - automation: MSSNGRFRONT-5018
        - description: У авторизованного пользователя в списке чатов есть канал, в котором он является администратором
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Отправить текстовое сообщение в канал
        - assert: Сообщение отправлено и отображается слева
        - do: Посмотреть что у сообщения отображается счетчик просмотров
        - assert: Счетчик просмотров отображается и равен 1

    Показывается счетчик просмотров у сообщений для подписчиков[manual]:
        - automation: MSSNGRFRONT-5018
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2м вспомогательным аккаунтом нужно будет авторизовываться в этом же браузере
              Пользователь А и Б состоят в одном канале. Пользователь Б - администратор, пользователь А - подписчик
              Изначально авторизованы пользователем Б
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Отправить текстовое сообщение в канал
        - assert: Сообщение отправлено и отображается слева
        - do: Авторизоваться пользователем А, введя корректные логин/пароль
        - assert: Авторизация прошла успешно.
        - do: Открыть канал из description
        - assert: Открывается чат из description
        - do: Посмотреть что у сообщения отображается счетчик просмотров
        - assert: Счетчик просмотров отображается и равен 2 (становится он таким после прочтения сообщения)

    Счетчик просмотров показывается для текстового сообщения[manual]:
        - automation: MSSNGRFRONT-5018
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2м вспомогательным аккаунтом нужно будет авторизовываться в этом же браузере
              Пользователь А и Б состоят в канале в одном канале. Пользователь А - администратор, пользователь Б - подписчик
              Изначально авторизованы пользователем А
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Отправить текстовое сообщение в канал
        - assert: Сообщение отправлено и отображается слева
        - do: Посмотреть что у сообщения отображается счетчик просмотров
        - assert: Счетчик просмотров отображается и равен 1
        - do: Убедиться что счетчик корректно располагается и виден на сообщении
        - assert: Счетчик располагается перед временем и виден на балуне сообщения
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Посмотреть что у сообщения отображается счетчик просмотров
        - assert: Счетчик просмотров отображается и равен 2 (становится он таким после прочтения сообщения)
        - do: Убедиться что счетчик корректно располагается и виден на сообщении
        - assert: Счетчик располагается перед временем и виден на балуне сообщения

    Счетчик просмотров показывается для изображения[manual]:
        - automation: MSSNGRFRONT-5018
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2м вспомогательным аккаунтом нужно будет авторизовываться в этом же браузере
              Пользователь А и Б состоят в канале в одном канале. Пользователь А - администратор, пользователь Б - подписчик
              Изначально авторизованы пользователем А
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Отправить изображение в канал
        - assert: Изображение отправлено и отображается слева
        - do: Посмотреть что у сообщения отображается счетчик просмотров (На декстопе нужно навести курсором на изображение)
        - assert: Счетчик просмотров отображается и равен 1
        - do: Убедиться что счетчик корректно располагается и виден на сообщении (На декстопе нужно навести курсором на изображение)
        - assert: Счетчик располагается перед временем и виден на балуне сообщения
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Посмотреть что у изображения отображается счетчик просмотров (На декстопе нужно навести курсором на изображение)
        - assert: Счетчик просмотров отображается и равен 2 (становится он таким после прочтения сообщения)
        - do: Убедиться что счетчик корректно располагается и виден на сообщении (На декстопе нужно навести курсором на изображение)
        - assert: Счетчик располагается перед временем и виден на балуне сообщения

    Счетчик просмотров показывается для файла[manual]:
        - automation: MSSNGRFRONT-5018
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2м вспомогательным аккаунтом нужно будет авторизовываться в этом же браузере
              Пользователь А и Б состоят в канале в одном канале. Пользователь А - администратор, пользователь Б - подписчик
              Изначально авторизованы пользователем А
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Отправить файл в канал
        - assert: Файл отправлен и отображается слева
        - do: Посмотреть что у файла отображается счетчик просмотров
        - assert: Счетчик просмотров отображается и равен 1
        - do: Убедиться что счетчик корректно располагается и виден на сообщении
        - assert: Счетчик располагается перед временем и виден на балуне сообщения
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Посмотреть что у файла отображается счетчик просмотров
        - assert: Счетчик просмотров отображается и равен 2 (становится он таким после прочтения сообщения)
        - do: Убедиться что счетчик корректно располагается и виден на сообщении
        - assert: Счетчик располагается перед временем и виден на балуне сообщения

    Счетчик просмотров показывается для стикера[manual]:
        - automation: MSSNGRFRONT-5018
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2м вспомогательным аккаунтом нужно будет авторизовываться в этом же браузере
              Пользователь А и Б состоят в канале в одном канале. Пользователь А - администратор, пользователь Б - подписчик
              Изначально авторизованы пользователем А
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Отправить стикер в канал
        - assert: Стикер отправлен и отображается слева
        - do: Посмотреть что у стикера отображается счетчик просмотров (На декстопе нужно навести курсором на стикер)
        - assert: Счетчик просмотров отображается и равен 1
        - do: Убедиться что счетчик корректно располагается и виден на сообщении (На декстопе нужно навести курсором на стикер)
        - assert: Счетчик располагается перед временем и виден на балуне сообщения
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Посмотреть что у стикера отображается счетчик просмотров (На декстопе нужно навести курсором на стикер)
        - assert: Счетчик просмотров отображается и равен 2 (становится он таким после прочтения сообщения)
        - do: Убедиться что счетчик корректно располагается и виден на сообщении (На декстопе нужно навести курсором на стикер)
        - assert: Счетчик располагается перед временем и виден на балуне сообщения

    Счетчик просмотров показывается для reply[manual]:
        - automation: MSSNGRFRONT-5018
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2м вспомогательным аккаунтом нужно будет авторизовываться в этом же браузере
              Пользователь А и Б состоят в канале в одном канале. Пользователь А - администратор, пользователь Б - подписчик
              Изначально авторизованы пользователем А
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Отправить сообщение в канал
        - assert: Сообщение отправлено и отображается слева
        - do: Ответить на отправленное ранее сообщение
        - assert: Ответ корректно отправлен и отображается слева
        - do: Посмотреть что у reply отображается счетчик просмотров
        - assert: Счетчик просмотров отображается и равен 1
        - do: Убедиться что счетчик корректно располагается и виден на сообщении
        - assert: Счетчик располагается перед временем и виден на балуне сообщения
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Посмотреть что у reply отображается счетчик просмотров
        - assert: Счетчик просмотров отображается и равен 2 (становится он таким после прочтения сообщения)
        - do: Убедиться что счетчик корректно располагается и виден на сообщении
        - assert: Счетчик располагается перед временем и виден на балуне сообщения

    Счетчик просмотров показывается для Forward[manual]:
        - automation: MSSNGRFRONT-5018
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2м вспомогательным аккаунтом нужно будет авторизовываться в этом же браузере
              Пользователь А и Б состоят в канале в одном канале. Пользователь А - администратор, пользователь Б - подписчик
              Изначально авторизованы пользователем А
        - do: Открыть любой групповой чат, где есть сообщения
        - assert: Открыт такой чат
        - do: Сделать из этого чата Forward c доп. текстом в канал из description
        - assert: Forward с доп. текстом отправлен в канал и отображается слева
        - do: Посмотреть что у сообщения отображается счетчик просмотров
        - assert: Счетчик просмотров отображается и равен 1
        - do: Убедиться что счетчик корректно располагается и виден на сообщении
        - assert: Счетчик располагается рядом со временем и виден на балуне сообщения
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Посмотреть что у Forward отображается счетчик просмотров
        - assert: Счетчик просмотров отображается и равен 2 (становится он таким после прочтения сообщения)
        - do: Убедиться что счетчик корректно располагается и виден на сообщении
        - assert: Счетчик располагается рядом со временем и виден на балуне сообщения

    Счетчик просмотров показывается для Forward сделанного из канала[manual]:
        - tags: [advanced_smoke]
        - automation: MSSNGRFRONT-5018
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2м вспомогательным аккаунтом нужно будет авторизовываться в этом же браузере
              Пользователь А состоит в канале и является его администратором
              Между пользователем А и Б есть общий групповой чат
              Изначально авторизованы пользователем А
        - do: Открыть канал из description
        - assert: Открыт канал из description
        - do: Отправить в канал сообщение
        - assert: |
               Сообщение отпарвлено
               В балуне с сообщением отображается счетчик просмотров и равен 1
        - do: Сделать из этого канала Forward в чат из description
        - assert: Forward отправлен в чат
        - do: Посмотреть что у сообщения отображается счетчик просмотров
        - assert: Счетчик просмотров отображается и равен 1
        - do: Убедиться что счетчик корректно располагается и виден на сообщении
        - assert: Счетчик располагается в самом Forward и виден на балуне сообщения
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чата из description
        - assert: Открывается чат из description
        - do: Посмотреть что у Forward отображается счетчик просмотров
        - assert: Счетчик просмотров отображается и равен 2 (может на ваших глазах поменяться на 2)
        - do: Убедиться что счетчик корректно располагается и виден на сообщении
        - assert: Счетчик располагается в самом Forward и виден на балуне сообщения (он распологается над временем отправки сообщения)

    Счетчик просмотров не сбрасывается после редактирования сообщения[manual]:
        - automation: MSSNGRFRONT-5018
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2м вспомогательным аккаунтом нужно будет авторизовываться в этом же браузере
              Пользователь А и Б состоят в канале в одном канале. Пользователь А - администратор, пользователь Б - подписчик
              Изначально авторизованы пользователем А
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Отправить текстовое сообщение в канал
        - assert: Сообщение отправлено и отображается слева
        - do: Посмотреть что у сообщения отображается счетчик просмотров
        - assert: Счетчик просмотров отображается и равен 1
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Посмотреть что у сообщения отображается счетчик просмотров
        - assert: Счетчик просмотров отображается и равен 2 (становится он таким после прочтения сообщения)
        - do: Авторизоваться пользователем А, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Отредактировать последнее сообщение
        - assert: Сообщение отредактировано
        - do: Убедиться что счетчик просмотров не изменился
        - assert: Счетчик просмотров остался равен 2

    Просмотр не засчитывается при быстром скролле[manual]:
        - automation: MSSNGRFRONT-5018
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2м вспомогательным аккаунтом нужно будет авторизовываться в этом же браузере
              Пользователь А состоит в канале, где он является администратором
              Между пользователем А и Б есть общий приватный чат
              Изначально авторизованы пользователем А
        - do: Отправить в пользователю Б в приватный чат инвайтлинку на канал из description, предварительно скопировав ее на экране "Информация о канале"
        - assert: Инвайтлинка отправлена
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Отправить в канал более 100 текстовых сообщений
        - assert: Сообщения отправлены
        - do: закрепить одно из первых отправленных сообщений
        - assert: Сообщение закреплено
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Перейти по инвайтлинке  от пользователя А
        - assert: Открывается экран канала
        - do: Нажать кнопку "Подписаться на канал"
        - assert: Надпись "подписаться на канал" заменилась на кнопки "Поделиться каналом" (самолетик) и "Отключить уведомления" (колокольчик)
        - do: Перейти по закрепленному сообщению
        - assert: Нас проскроллило к закрепленному сообщению
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Проскроллить все сообщения
        - assert: У сообщений которые при быстром скролле не видел подписчик Б счетчик просмотров равен 1

    Счетчик просмотров увеличивается, даже если мы не присоединены к чату[manual]:
        - automation: MSSNGRFRONT-5018
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2м вспомогательным аккаунтом нужно будет авторизовываться в этом же браузере
              Пользователь А состоит в канале, где он является администратором
              Между пользователем А и Б есть общий приватный чат
              Изначально авторизованы пользователем А
        - do: Отправить в пользователю Б в приватный чат инвайтлинку на канал из description, предварительно скопировав ее на экране "Информация о канале"
        - assert: Инвайтлинка отправлена
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Отправить в канал текстовое сообщение
        - assert: Сообщение отправлено и отображается слева
        - do: Посмотреть что у сообщения отображается счетчик просмотров
        - assert: Счетчик просмотров отображается и равен 1
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Перейти по инвайтлинке  от пользователя А
        - assert: Открывается экран канала
        - do: Просмотреть на сообщение в канале
        - assert: Сообщение просмотрено
        - do: Авторизоваться пользователем А, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть канал из description
        - assert: Открывается чат из description
        - do: Просмотреть на сообщение в канале
        - assert: Счетчик просмотров стал 2

    Счетчик просмотров увеличивается, если сообщение посмотрел подписчик[manual]:
        - tags: [advanced_smoke]
        - automation: MSSNGRFRONT-5018
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2м вспомогательным аккаунтом нужно будет авторизовываться в этом же браузере
              Пользователь А и Б состоят в канале в одном канале. Пользователь А - администратор, пользователь Б - подписчик
              Изначально авторизованы пользователем А
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Отправить текстовое сообщение в канал
        - assert: Сообщение отправлено и отображается слева
        - do: Посмотреть что у сообщения отображается счетчик просмотров
        - assert: Счетчик просмотров отображается и равен 1
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Посмотреть что у сообщения отображается счетчик просмотров
        - assert: Счетчик просмотров отображается и равен 2 (становится он таким после прочтения сообщения)
        - do: Открыть любой другой чат
        - assert: Чат открыт
        - do: Открыть канал из description
        - assert: Открывается чат из description
        - do: Убедиться что у сообщения  счетчик просмотров 2
        - assert: счетчик просмотров равен 2
        - do: Авторизоваться пользователем А, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Убедиться что у сообщения счетчик просмотров изменился на 2
        - assert: Счетчик изменился на 2

    Счетчик просмотров показывается для эмодзи[manual]:
        - automation: MSSNGRFRONT-5018
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2м вспомогательным аккаунтом нужно будет авторизовываться в этом же браузере
              Пользователь А и Б состоят в канале в одном канале. Пользователь А - администратор, пользователь Б - подписчик
              Изначально авторизованы пользователем А
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Отправить сообщение с эмодзи в канал
        - assert: Сообщение с эмодзи отправлено и отображается слева
        - do: Посмотреть что у сообщения с эмодзи отображается счетчик просмотров
        - assert: Счетчик просмотров отображается и равен 1
        - do: Убедиться что счетчик корректно располагается и виден на сообщении
        - assert: Счетчик располагается перед временем и виден на балуне сообщения
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Посмотреть что у сообщения с эмодзи отображается счетчик просмотров
        - assert: Счетчик просмотров отображается и равен 2 (становится он таким после прочтения сообщения)
        - do: Убедиться что счетчик корректно располагается и виден на сообщении
        - assert: Счетчик располагается перед временем и виден на балуне сообщения

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
