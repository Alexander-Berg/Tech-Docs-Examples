feature: Нулевой экран поиска

specs:

  Нулевой экран открывается при нажатии на поле поиска для авторизованного пользователя[manual]:
    - automation:
    - description: Авторизованы в приложении тестовым аккаунтом
    - do: Запустить тестовое приложение и открыть список чатов
    - assert: Открывается список чатов
    - do: Нажать на поле поиска
    - assert: |
          Открывается нулевой экран 
          Отображается карусель контактов

  На нулевом экране в карусели контактов на первом месте находится чат сохраненные сообщения, если данный чат создан[manual]:
    - automation:
    - description: Авторизованы в приложении тестовым аккаунтом у которого в чате "Сохраненные сообщения" есть сообщения
    - do: Запустить тестовое приложение и открыть список чатов
    - assert: Открывается список чатов
    - do: Нажать на поле поиска
    - assert: |
          Открывается нулевой экран 
          Отображается карусель контактов
    - do: Убедиться, что в карусели контактов на первом месте находится чат с сохраненными сообщениями
    - assert: |
          На первом месте в карусели находится чат "Сохраненные сообщения"
          Аватар чата - Белая звезда на берюзовом фоне

  На нулевом экране в карусели контатов на первом месте находится чат сохраненные сообщения, если данный чат еще создан[manual]:
    - automation:
    - description: Авторизованы в приложении тестовым аккаунтом у которого в чате "Сохраненные сообщения" нет сообщений
    - do: Запустить тестовое приложение и открыть список чатов
    - assert: Открывается список чатов
    - do: Нажать на поле поиска
    - assert: |
          Открывается нулевой экран 
          Отображается карусель контактов
    - do: Убедиться, что в карусели контактов на первом месте находится чат с сохраненными сообщениями
    - assert: |
          На первом месте в карусели находится чат "Сохраненные сообщения"
          Аватар чата - Белая звезда на берюзовом фоне

# Неактуален кейс, так как блок "Популярные каналы" был убран
#   Нулевой экран открывается при нажатии на поле поиска для неавторизованного пользователя[manual]:
#     - automation:
#     - description: Не авторизованы в приложении. 
#     - do: Запустить тестовое приложение и открыть список чатов
#     - assert: |
#           Открывается список чатов
#           Отображается баннер "Войдите в аккаунт"
#     - do: Нажать на поле поиска
#     - assert: Открывается нулевой экран 

  Карусель контактов не отображается на нулевом экране для пользователя, у которого нету контактов[manual]:
    - automation:
    - description: |
        Для прохождения данного тест-кейса необходима создать нового пользователя. 
        Для создания пользователя нужно перейти по ссылке https://passport.yandex.ru и пройти регистрацию. 
        Данный аккаунт следует использовать для дальнейшего прохождения авторизации.
    - do: Запустить тестовое приложение и открыть список чатов
    - assert: Открывается список чатов
    - do: Нажать на поле поиска
    - assert: |
          Открывается нулевой экран 
          Карусель контактов НЕ отображается

  Нулевой экран можно закрыть нажатием на ESC[manual]:
    - automation:
    - description: Авторизованы в приложении тестовым аккаунтом
    - do: Запустить тестовое приложение и открыть список чатов
    - assert: Открывается список чатов
    - do: Нажать на поле поиска
    - assert: |
          Открывается нулевой экран 
          Отображается карусель контактов
    - do: Нажать на ESC
    - assert: |
          Нулевой экран закрывается
          Отображается список чатов

  Нулевой экран можно закрыть нажатием на крестик в поле поиска[manual]:
    - automation:
    - description: Авторизованы в приложении тестовым аккаунтом
    - do: Запустить тестовое приложение и открыть список чатов
    - assert: Открывается список чатов
    - do: Нажать на поле поиска
    - assert: |
          Открывается нулевой экран 
          Отображается карусель контактов
    - do: Нажать на крестик в поле поиска
    - assert: |
          Нулевой экран закрывается
          Отображается список чатов

  Нулевой экран закрывается при переходе в чат из карусели контактов[manual]:
    - tags: [advanced_smoke, b2b]
    - automation:
    - description: Авторизованы в приложении тестовым аккаунтом
    - do: Запустить тестовое приложение и открыть список чатов
    - assert: Открывается список чатов
    - do: Нажать на поле поиска
    - assert: |
          Открывается нулевой экран 
          Отображается карусель контактов
    - do: Нажать на любой контакт из карусели контактов
    - assert: |
          Нулевой экран закрывается
          Отображается список чатов
          Открыт чат с выбранным пользователем 

#   Нулевой экран НЕ закрывается при открытии канала из блока "Популярные каналы"[manual]:
#     - automation:
#     - description: Авторизованы в приложении тестовым аккаунтом. Блок «Популярные каналы» не отображается для аккаунтов «КОННЕКТА». Для  проверки можно использовать аккаунт yndx-mssngr-909@yandex.ru (QazMssngr1)
#     - do: Запустить тестовое приложение и открыть список чатов
#     - assert: Открывается список чатов
#     - do: Нажать на поле поиска
#     - assert: |
#           Открывается нулевой экран 
#           Отображается карусель контактов "Ваши друзья и знакомые"
#           Отбражается блок "Популярные каналы"
#     - do: Нажать на любой канал из блока "Популярные каналы" (Блок «Популярные каналы» не отображается для аккаунтов «КОННЕКТА»)
#     - assert: |
#           Нулевой экран НЕ закрывается
#           Отображается карусель контактов "Ваши друзья и знакомые"
#           Открыт выбранный канал

  Отображается экран списка чатов при удалении введенного запроса из поле поиска, если ввод запроса осуществлялся с экрана списка чатов[manual]:
    - automation:
    - description: Авторизованы в приложении тестовым аккаунтом
    - do: Запустить тестовое приложение и открыть список чатов
    - assert: |
          Открывается список чатов
          Отображается курсор в поле поиска
    - do: Начать вводить название любого чата/канала в поле поиска
    - assert: |
          В поле поиска отображается вводимый запрос
          Открыт глобальный поиск
    - do: Удалить введенный запрос с помощью кнопки backspace
    - assert: |
          Глобальный поиск закрывается 
          Отображается список чатов

  Отображается нулевой экран при удалении введенного запроса из поле поиска, если ввод запроса осуществлялся с нулевого экрана[manual]:
    - automation:
    - description: Авторизованы в приложении тестовым аккаунтом
    - do: Запустить тестовое приложение и открыть список чатов
    - assert: |
          Открывается список чатов
          Отображается курсор в поле поиска
    - do: Нажать на поле поиска
    - assert: |
          Открывается нулевой экран 
          Отображается карусель контактов
    - do: Начать вводить название любого чата/канала в поле поиска
    - assert: |
          В поле поиска отображается вводимый запрос
          Открыт глобальный поиск
    - do: Удалить введенный запрос с помощью кнопки backspace
    - assert: |
          Глобальный поиск закрывается 
          Отображается нулевой экран 
          Отображается карусель контактов

  При удалении поискового запроса через крестик, если запрос был введен с нулевого экрана, отображается список чатов[manual]:
    - automation:
    - description: Авторизованы в приложении тестовым аккаунтом
    - do: Запустить тестовое приложение и открыть список чатов
    - assert: |
          Открывается список чатов
          Отображается курсор в поле поиска
    - do: Нажать на поле поиска
    - assert: |
          Открывается нулевой экран 
          Отображается карусель контактов
    - do: Начать вводить название любого чата/канала в поле поиска
    - assert: |
          В поле поиска отображается вводимый запрос
          Открыт глобальный поиск
    - do: Удалить введенный запрос с помощью крестика в поле поиска 
    - assert: |
          Глобальный поиск закрывается 
          Нулевой экран закрывается
          Отображается список чатов 


files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
