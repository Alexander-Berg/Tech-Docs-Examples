feature: Cover

params:
  exp_flags:
    - analytics-disabled=1

specs:
  Внешний вид шапки без логотипа:
    - tags: no_assessors
    - do: открыть страницу https://yandex.ru/turbo/spideradio.github.io/n/yandexturbocatalog/main/?patch=removeShopLogo
    - screenshot: шапка выглядит корректно [cover]

  Внешний вид минишапки без логотипа:
    - tags: no_assessors
    - do: открыть страницу https://yandex.ru/turbo/spideradio.github.io/n/yandexturbocatalog/?patch=removeShopLogo
    - screenshot: минишапка выглядит корректно [cover]

  Новая шапка:
      Внешний вид шапки без логотипа:
        - tags: no_assessors
        - do: открыть страницу https://yandex.ru/turbo/spideradio.github.io/n/yandexturbocatalog/main/?patch=removeShopLogo
        - screenshot: шапка выглядит корректно [cover]

      Внешний вид минишапки без логотипа:
        - tags: no_assessors
        - do: открыть страницу https://yandex.ru/turbo/spideradio.github.io/n/yandexturbocatalog/?patch=removeShopLogo
        - screenshot: минишапка выглядит корректно [cover]

      Внешний вид на главной странице:
        - do: открыть страницу https://yandex.ru/turbo/spideradio.github.io/n/yandexturbocatalog/main/
        - screenshot: шапка выглядит корректно [cover]

      Внешний вид на странице каталога:
        - do: открыть страницу https://yandex.ru/turbo/spideradio.github.io/n/yandexturbocatalog/
        - screenshot: шапка выглядит корректно [cover]

      Внешний вид на странице товара:
        - do: открыть страницу https://yandex.ru/turbo/spideradio.github.io/n/yandexturbocatalog/rnd/2lum7hf3?product_id=202
        - screenshot: шапка выглядит корректно [cover]

      Внешний вид поиска:
        - do: открыть страницу https://yandex.ru/turbo/spideradio.github.io/n/yandexturbocatalog/main/
        - do: в строке поиска ввести текст 'Текст'
        - screenshot: строка поиска выглядит корректно [search]

  Проверка кнопки закрытия в шторке:
    В большой шапке:
      - params:
          in-iframe: '1'
          overlay-drawer: '1'
      - do: открыть страницу https://yandex.ru/turbo/spideradio.github.io/n/yandexturbocatalog/main/
      - screenshot: шапка выглядит корректно [cover]
      - do: кликнуть на крестик
      - tech: отправился postMessage с action=close

    В минишапке:
      - params:
          in-iframe: '1'
          overlay-drawer: '1'
          product_id: '202'
          pcgi: rnd%3D2lum7hf3
      - do: открыть страницу https://yandex.ru/turbo/spideradio.github.io/n/yandexturbocatalog/
      - screenshot: шапка выглядит корректно [cover]
      - do: кликнуть на крестик
      - tech: отправился postMessage с action=close

  storybook:
    Внешний вид:
      - tags: no_assessors
      - screenshot: внешний вид разных вариаций cover из первого столбца [first]
      - screenshot: внешний вид разных вариаций cover из второго столбца [second]

  Под флагом turbo-app-bottombar:
    params:
      exp_flags:
        - turbo-app-bottombar=1
    Иконка профиля в шапке ведет на страницу пользователя:
      - do: залогинется в Яндексе
      - do: перейти по ссылке https://yandex.ru/turbo/spideradio.github.io/n/yandexturbocatalog/main/?ecommerce_main_page_preview=1&morda=1
      - assets: в шапке есть иконка профиля
      - do: нажать на иконку профиля
      - assets: произошел переход на страницу пользователя

    Иконка профиля в шапке ведет на Паспорт:
      - do: перейти по ссылке https://yandex.ru/turbo/spideradio.github.io/n/yandexturbocatalog/main/?ecommerce_main_page_preview=1&morda=1
      - assets: в шапке есть иконка профиля
      - do: нажать на иконку профиля
      - assets: произошел переход на passport.yandex.ru

files:
  - components/Cover/__tests__/Cover@phone.hermione.js

tags:
  - ecom-tap

tlds: ru

v-team: Turbo
