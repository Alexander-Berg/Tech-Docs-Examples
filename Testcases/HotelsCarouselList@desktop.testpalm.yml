feature: Hotels / Карусель
experiment: Редизайн карусели, список отелей

specs:
  beforeEach:
    - do: открыть выдачу по запросу 'отели в Алуште'
    - assert: на выдаче присутствует отельная карусель

  Внешний вид:
    - screenshot: примерный внешний вид списка отелей [list]

  Дозагрузка карточек по доскролу:
    - do: доскролить до конца списка отелей
    - assert: |
        после карточек отелей появился спиннер
        через некоторое время спиннер исчез, а в список добавились новые карточки отелей
    - do: ещё раз доскролить  до конца списка отелей
    - assert: среди загруженных отелей нет повторов

  Открытие попапа при клике в карточку:
    - do: кликнуть в карточку отельная
    - assert: открылся попап с информацией о данном отеле
    - tech: сработал счётчик /$page/$top/$result/companies-map-list/hotels-carousel-list/hotel-list/item/link

  Применение фильтра услуг вызывает отправку запроса с данными о фильтре:
    - do: выбрать в селекте услуг пункт "С завтраком"
    - tech: сработал счётчик /$page/$top/$result/companies-map-list/hotels-form-carousel/filters
    - tech: отправлен запрос на сервер с query-параметром "filter=hotels_with_breakfast:1"

files:
  - src/features/Companies/Companies.features/HotelsCarouselList/HotelsCarouselList.test/HotelsCarouselList@desktop.hermione.js

tlds:
  - ru
  - by
  - kz
  - ua

counter: /$page/$top/$result[@wizard_name="companies" and @subtype="travel_map"]/companies-map-list

v-team: KotTeam
