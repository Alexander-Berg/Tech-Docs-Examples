feature: Выбор участников группового чата

specs:

    Можно создать  "Групповой чат" через окно создания чата[manual]:
        - automation:
        - description: У авторизованного пользователя А в списке контактов есть пользователь Б
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Нажать на кпонку "Создать новый чат", которая находится над списком чатов
        - assert: |
              Открывается окно со списком контактов
              Над списком контактов есть кнопки "Новый груповой чат" и "Новый канал"
        - do: Нажать на "Новый групповой чат"
        - assert: |
              Отрывается окно создания группового чата
              Есть поля для ввода названия чата и описания чата
              Есть возможность загрузить аватар чата
        - do: Ввести название чата и нажать кнопку "Добавить участников"
        - assert: Открывается окно добавления участников
        - do: Выбрать в списке контактов пользователя Б и нажать кнопку "Создать чат"
        - assert: |
              Создался групповой чат с введенным названием
              Участники созданного группового чата - Вы и Пользователь Б
        - do: Отправить в созданный чат сообщение "Привет"
        - assert: Сообщение отобразилось в чате
        - do: Пользователем Б запустить тестовое приложениие и октрыть список чатов
        - assert: В списке чатов появился созданный в предыдущих шагах чат

    В окне добавления участников можно стереть введенный текст в поле ввода[manual]:
        - automation:
        - description: У авторизованного пользователя А в списке контактов есть пользователь Б
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Нажать на кпонку "Создать новый чат", которая находится над списком чатов
        - assert: |
              Открывается окно со списком контактов
              Над списком контактов есть кнопки "Новый груповой чат" и "Новый канал"
        - do: Нажать на "Новый групповой чат"
        - assert: |
              Отрывается окно создания группового чата
              Есть поля для ввода названия чата и описания чата
              Есть возможность загрузить аватар чата
        - do: Ввести название чата и нажать кнопку "Добавить участников"
        - assert: Открывается окно добавления участников
        - do: В поле ввода поиска контактов начать вводить disply name (отображаемое имя) пользователя Б
        - assert: |
              Появился саджест со всеми пользователями в disply name которых есть совпадения с вводимым
              В саджесте есть пользователь Б
              Фокус курсора находиться в поле ввода
        - do: Стереть ранее введенные символы
        - assert: |
              Символы были удалены
              Результаты поиска были отменены
              Фокус курсора находиться в поле ввода

    В окне добавления участников корректно работает ввод имени пользователя, которого нет в списке контактов[manual]:
        - automation:
        - description: У авторизованного пользователя А в списке контактов есть пользователь Б
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Нажать на кпонку "Создать новый чат", которая находится над списком чатов
        - assert: |
              Открывается окно со списком контактов
              Над списком контактов есть кнопки "Новый груповой чат" и "Новый канал"
        - do: Нажать на "Новый групповой чат"
        - assert: |
              Отрывается окно создания группового чата
              Есть поля для ввода названия чата и описания чата
              Есть возможность загрузить аватар чата
        - do: Ввести название чата и нажать кнопку "Добавить участников"
        - assert: Открывается окно добавления участников
        - do: В поле ввода ввести любые символы (так чтобы в результатах не было совпадений и никто не был найден)
        - assert: |
              Символы введены
              На экране появилась надписи "Ничего не найдено" и "Контактов с таким именем нет в вашей адресной книги"
              Фокус курсора находиться в поле ввода
        - do: Стереть ранее введенные символы
        - assert: |
              Введеный текст в поле ввода был удален
              Результаты поиска были отменены и отображается список контактов
              Фокус курсора находиться в поле ввода

    Можно создать групповой чат с одним собеседником[manual]:
        - automation:
        - description: У авторизованного пользователя А в списке контактов есть пользователь Б
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Нажать на кпонку "Создать новый чат", которая находится над списком чатов
        - assert: |
              Открывается окно со списком контактов
              Над списком контактов есть кнопки "Новый груповой чат" и "Новый канал"
        - do: Нажать на "Новый групповой чат"
        - assert: |
              Отрывается окно создания группового чата
              Есть поля для ввода названия чата и описания чата
              Есть возможность загрузить аватар чата
        - do: Ввести название чата и нажать кнопку "Добавить участников"
        - assert: Открывается окно добавления участников
        - do: Найти в списке контактов пользователя Б и выбрать его
        - assert: |
              Напротив пользователя Б поставился чек-бокс
              Пользователь Б был добавлен в карусель добавляемых участников
        - do: Нажать кнопку "Создать чат"
        - assert: |
              Создался групповой чат с введенным названием
              Участники созданного группового чата - Вы и Пользователь Б
        - do: Отправить в созданный чат сообщение "Привет"
        - assert: Сообщение отобразилось в чате
        - do: Пользователем Б запустить тестовое приложениие и октрыть список чатов
        - assert: В списке чатов появился созданный в предыдущих шагах чат

    Можно создать чат с N собеседниками[manual]:
        - tags: [advanced_smoke, b2b]
        - description: У авторизованного пользователя А в списке контактов есть пользователь Б, пользователь В и пользователь Д
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Нажать на кпонку "Создать новый чат", которая находится над списком чатов
        - assert: |
              Открывается окно со списком контактов
              Над списком контактов есть кнопки "Новый груповой чат" и "Новый канал"
        - do: Нажать на "Новый групповой чат"
        - assert: |
              Отрывается окно создания группового чата
              Есть поля для ввода названия чата и описания чата
              Есть возможность загрузить аватар чата
        - do: Ввести название чата, добавить описание, установить аватар для чата и нажать кнопку "Добавить участников"
        - assert: Открывается окно добавления участников
        - do: Найти в списке контактов пользователя Б и выбрать его
        - assert: |
              Напротив пользователя Б поставился чек-бокс
              Пользователь Б был добавлен в карусель добавляемых участников
        - do: Найти в списке контактов пользователя В и выбрать его
        - assert: |
              Напротив пользователя В поставился чек-бокс
              В карусель добавляемых участников был добавлен Пользователь В, который расположился перед пользователем Б
        - do: Найти в списке контактов пользователя Д и выбрать его
        - assert: |
              Напротив пользователя Д поставился чек-бокс
              В карусель добавляемых участников был добавлен Пользователь Д, который расположился перед пользователем В
        - do: Нажать кнопку "Создать чат"
        - assert: |
              Создался групповой чат с введенным названием
              Аватар чата и его описание совпадает с тем, которое мы устанавливали
              Участники созданного группового чата - Вы и Пользователи Б, В и Д
        - do: Отправить в чат сообщение "Привет"
        - assert: Сообщение отобразилось в чате
        - do: Пользователем Б запустить тестовое приложениие и октрыть список чатов
        - assert: В списке чатов появился созданный в предыдущих шагах чат

    Можно добавлять собеседников через поиск[manual]:
        - automation:
        - description: У авторизованного пользователя А в списке контактов есть пользователь Б, пользователь В и пользователь Д
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Нажать на кпонку "Создать новый чат", которая находится над списком чатов
        - assert: |
              Открывается окно со списком контактов
              Над списком контактов есть кнопки "Новый груповой чат" и "Новый канал"
        - do: Нажать на "Новый групповой чат"
        - assert: |
              Отрывается окно создания группового чата
              Есть поля для ввода названия чата и описания чата
              Есть возможность загрузить аватар чата
        - do: Ввести название чата и нажать кнопку "Добавить участников"
        - assert: Открывается окно добавления участников
        - do: В поле ввода поиска контактов начать вводить disply name (отображаемое имя) пользователя Б
        - assert: |
              Появился саджест со всеми пользователями в disply name которых есть совпадения с вводимым
              В саджесте есть пользователь Б
        - do: Нажать на пользователя Б
        - assert: |
              Напротив пользователя Б поставился чек-бокс
              Пользователь Б был добавлен в карусель добавляемых участников
        - do: В поле ввода поиска контактов начать вводить disply name (отображаемое имя) пользователя В
        - assert: |
              Появился саджест со всеми пользователями в disply name которых есть совпадения с вводимым
              В саджесте есть пользователь В
        - do: Нажать на пользователя В
        - assert: |
              Напротив пользователя В поставился чек-бокс
              В карусель добавляемых участников был добавлен Пользователь В, который расположился перед пользователем Б
        - do: В поле ввода поиска контактов начать вводить disply name пользователя Д
        - assert: |
              Появился саджест со всеми пользователями в disply name которых есть совпадения с вводимым
              В саджесте есть пользователь Д
        - do: Нажать на пользователя Д
        - assert: |
              Напротив пользователя Д поставился чек-бокс
              В карусель добавляемых участников был добавлен Пользователь Д, который расположился перед пользователем В
        - do: Нажать кнопку "Создать чат"
        - assert: |
              Создался групповой чат с введенным названием
              Участники созданного группового чата - Вы и Пользователи Б, В и Д
        - do: Отправить в чат сообщение "Привет"
        - assert: Сообщение отобразилось в чате
        - do: Пользователем Б запустить тестовое приложениие и октрыть список чатов
        - assert: В списке чатов появился созданный в предыдущих шагах чат

    Можно добавлять собеседников через список[manual]:
        - automation:
        - description: У авторизованного пользователя А в списке контактов есть пользователь Б, пользователь В и пользователь Д
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Нажать на кпонку "Создать новый чат", которая находится над списком чатов
        - assert: |
              Открывается окно со списком контактов
              Над списком контактов есть кнопки "Новый груповой чат" и "Новый канал"
        - do: Нажать на "Новый групповой чат"
        - assert: |
              Отрывается окно создания группового чата
              Есть поля для ввода названия чата и описания чата
              Есть возможность загрузить аватар чата
        - do: Ввести название чата и нажать кнопку "Добавить участников"
        - assert: Открывается окно добавления участников
        - do: Выбрать Пользователя Б в списке контактов
        - assert: |
              Напротив пользователя Б поставился чек-бокс
              Пользователь Б был добавлен в карусель добавляемых участников
        - do: Выбрать пользователя В
        - assert: |
              Напротив пользователя В поставился чек-бокс
              В карусель добавляемых участников был добавлен Пользователь В, который расположился перед пользователем Б
        - do: Выбрать пользователя Д
        - assert: |
              Напротив пользователя В поставился чек-бокс
              В карусель добавляемых участников был добавлен Пользователь Д, который расположился перед пользователем В
        - do: Нажать кнопку "Создать чат"
        - assert: |
              Создался групповой чат с введенным названием
              Участники созданного группового чата - Вы и Пользователи Б, В и Д
        - do: Отправить в чат сообщение "Привет"
        - assert: Сообщение отобразилось в чате
        - do: Пользователем Б запустить тестовое приложениие и октрыть список чатов
        - assert: В списке чатов появился созданный в предыдущих шагах чат

    При выборе собеседника, он добавляется в карусель над полем ввода[manual]:
        - automation:
        - description: У авторизованного пользователя А в списке контактов есть пользователь Б, пользователь В и пользователь Д
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Нажать на кпонку "Создать новый чат", которая находится над списком чатов
        - assert: |
              Открывается окно со списком контактов
              Над списком контактов есть кнопки "Новый груповой чат" и "Новый канал"
        - do: Нажать на "Новый групповой чат"
        - assert: |
              Отрывается окно создания группового чата
              Есть поля для ввода названия чата и описания чата
              Есть возможность загрузить аватар чата
        - do: Ввести название чата и нажать кнопку "Добавить участников"
        - assert: Открывается окно добавления участников
        - do: Найти в списке контактов пользователя Б и выбрать его
        - assert: |
              Напротив пользователя Б поставился чек-бокс
              Пользователь Б был добавлен в карусель добавляемых участников
        - do: Найти в списке контактов пользователя В и выбрать его
        - assert: |
              Напротив пользователя В поставился чек-бокс
              В карусель добавляемых участников был добавлен Пользователь В, который расположился перед пользователем Б
        - do: Найти в списке контактов пользователя Д и выбрать его
        - assert: |
              Напротив пользователя Д поставился чек-бокс
              В карусель добавляемых участников был добавлен Пользователь Д, который расположился перед пользователем В

    Можно удалить выбранного пользователя из карусели добавляемых участников[manual]:
        - description: У авторизованного пользователя А в списке контактов есть пользователь Б и пользователь В
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Нажать на кпонку "Создать новый чат", которая находится над списком чатов
        - assert: |
              Открывается окно со списком контактов
              Над списком контактов есть кнопки "Новый груповой чат" и "Новый канал"
        - do: Нажать на "Новый групповой чат"
        - assert: |
              Отрывается окно создания группового чата
              Есть поля для ввода названия чата и описания чата
              Есть возможность загрузить аватар чата
        - do: Ввести название чата и нажать кнопку "Добавить участников"
        - assert: Открывается окно добавления участников
        - do: Найти в списке контактов пользователя Б и выбрать его
        - assert: |
              Напротив пользователя Б поставился чек-бокс
              Пользователь Б был добавлен в карусель добавляемых участников
        - do: Найти в списке контактов пользователя В и выбрать его
        - assert: |
              Напротив пользователя В поставился чек-бокс
              В карусель добавляемых участников был добавлен Пользователь В, который расположился перед пользователем Б
        - do: Навести курсором на пользователя Б в карусели / тапнуть на пользователя Б в каруслеи
        - assert: В балуне пользователя Б появился "Крестик"
        - do: Нажать на "Крестик"
        - assert: |
              Пользователь Б удаляется из карусели добавляемых участников
              Убран чек-бокс напротив Пользователя Б
              Балун с пользователем В отображается в карусели добавляемых пользователей

    В окне добавления участников в карусели добавляемых участников работает горизонтальный скролл[manual]:
        - automation:
        - description: У авторизованного пользователя А в списке контактов есть более пяти пользователей
        - do: Нажать на кпонку "Создать новый чат", которая находится над списком чатов
        - assert: |
              Открывается окно со списком контактов
              Над списком контактов есть кнопки "Новый груповой чат" и "Новый канал"
        - do: Нажать на "Новый групповой чат"
        - assert: |
              Отрывается окно создания группового чата
              Есть поля для ввода названия чата и описания чата
              Есть возможность загрузить аватар чата
        - do: Ввести название чата и нажать кнопку "Добавить участников"
        - assert: Открывается окно добавления участников
        - do: Выбрать из списка контактов 5-10 пользователей
        - assert: Пользователи добавлены в карусель добавляемых участников над полем ввода
        - do: Проверить работу горизонтального скролла карусели добавляемых участников
        - assert: |
              Балуны с пользователями скроллятся корректно
              Анимация плавная, артефактов нет

    В окне добавления участников в групповой чат скролл работает корректно[manual]:
        - automation: MSSNGRFRONT-7704
        - description: У авторизованного пользователя А в списке контактов есть более 20 контактов
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Нажать на кпонку "Создать новый чат", которая находится над списком чатов
        - assert: |
              Открывается окно со списком контактов
              Над списком контактов есть кнопки "Новый груповой чат" и "Новый канал"
        - do: Нажать на "Новый групповой чат"
        - assert: |
              Отрывается окно создания группового чата
              Есть поля для ввода названия чата и описания чата
              Есть возможность загрузить аватар чата
        - do: Ввести название чата и нажать кнопку "Добавить участников"
        - assert: Открывается окно добавления участников
        - do: Проверить работу скролла списка контактов
        - assert: |
              Скролл контактов работает корректно
              Анимация плавная, артефактов нет

    Можно закрыть окно создания нового чата нажатием на "Крестик"[manual]:
        - description: У авторизованного пользователя А в списке контактов есть пользователь Б
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Нажать на кпонку "Создать новый чат", которая находится над списком чатов
        - assert: |
              Открывается окно со списком контактов
              Над списком контактов есть кнопки "Новый груповой чат" и "Новый канал"
        - do: Нажать на "Новый групповой чат"
        - assert: |
              Отрывается окно создания группового чата
              Есть поля для ввода названия чата и описания чата
              Есть возможность загрузить аватар чата
        - do: Ввести название чата и нажать кнопку "Добавить участников"
        - assert: Открывается окно добавления участников
        - do: Найти в списке контактов пользователя Б и выбрать его
        - assert: |
              Напротив пользователя Б поставился чек-бокс
              Пользователь Б был добавлен в карусель добавляемых участников
        - do: Нажать на "Крестик" в шапке  окна
        - assert: |
              Появляется попа подтверждения закрытия окна создания чата
              В попапе есть кнопки "Не отменять" и "Отменить"
        - do: Нажать на "Не отменять"
        - assert: |
              Попап закрывается
              Открыто окно с добавлением участников в чат
        - do: Нажать на "Крестик" в шапке  окна
        - assert: |
              Появляется попа подтверждения закрытия окна создания чата
              В попапе есть кнопки "Не отменять" и "Отменить"
        - do: Нажать на "Отменить"
        - assert: |
              Попап закрывается
              Окно создания чата закрывается
              Чат не создан

    Можно закрыть окно создания нового чата нажатием на "ESC"[manual]:
        - automation:
        - description: |
              У авторизованного пользователя А в списке контактов есть пользователь Б
              Данный тест-кейс является неактуальным для мобильного клиента
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Нажать на кпонку "Создать новый чат", которая находится над списком чатов
        - assert: |
              Открывается окно со списком контактов
              Над списком контактов есть кнопки "Новый груповой чат" и "Новый канал"
        - do: Нажать на "Новый групповой чат"
        - assert: |
              Отрывается окно создания группового чата
              Есть поля для ввода названия чата и описания чата
              Есть возможность загрузить аватар чата
        - do: Ввести название чата и нажать кнопку "Добавить участников"
        - assert: Открывается окно добавления участников
        - do: Найти в списке контактов пользователя Б и выбрать его
        - assert: |
              Напротив пользователя Б поставился чек-бокс
              Пользователь Б был добавлен в карусель добавляемых участников
        - do: Нажать на "ESC" в шапке  окна
        - assert: |
              Появляется попа подтверждения закрытия окна создания чата
              В попапе есть кнопки "Не отменять" и "Отменить"
        - do: Нажать на "Не отменять"
        - assert: |
              Попап закрывается
              Открыто окно с добавлением участников в чат
        - do: Нажать на "ESC" в шапке  окна
        - assert: |
              Появляется попа подтверждения закрытия окна создания чата
              В попапе есть кнопки "Не отменять" и "Отменить"
        - do: Нажать на "Отменить"
        - assert: |
              Попап закрывается
              Окно создания чата закрывается
              Чат не создан

files:
  - tests/hermione/suites/messenger/group-chats/participants-selection-group-chats.common.hermione.ts

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
