feature: Изменение информации чата

specs:

    Администратор может изменить название чата[manual]:
        - tags: [advanced_smoke, b2b]
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Есть групповой чат, в котором пользователь А - администратор, а пользователь Б обычный участник
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата нажатеием по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на "Настройки чата"
        - assert: Открыто окно настроек чата
        - do: Изменить название чата на произвольное и сохранить изменения нажатием по иконке "Сохранить"
        - assert: |
              Открыта карточка чата
              Название чата изменено
        - do: Закрыть карточку чата
        - assert: |
              Открыто окно чата
              Название чата изменено
              В окне чата есть техническая запись о том, что было измененно название чата
        - do: Под пользователем Б открыть список чатов
        - assert: |
              Открывается окно списка чатов
              В списке чатов отображается измененное пользователем А название группового чата

    Можно закрыть карточку настроек чата с помощью кнопки "ESC"[manual]:
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Есть групповой чат, в котором пользователь А - администратор, а пользователь Б обычный участник
              Данный тест-кейс является неактуальным для мобильного клиента
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата нажатеием по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на "Настройки чата"
        - assert: Открыто окно настроек чата
        - do: Нажать на кнопку "ESC"
        - assert: |
              Карточка настроек чата была закрыта
              Открыто окно чата

    Администратор может изменить аватар группы через выбор изображения из галереи[manual]:
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Есть групповой чат, в котором пользователь А - администратор, а пользователь Б обычный участник
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата нажатеием по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на "Настройки чата"
        - assert: Открыто окно настроек чата
        - do: Нажать на кнопку "Сменить фото"
        - assert: Открывается файловый менеджер
        - do: Выбрать любое изобраежние и затем в окне с этим изобраежнием нажать кнопку "Сохранить"
        - assert: |
              Открыта карточка настроек чата
              Аватар чата в карточке изменен
              Доступна кнопка "Сохранить"
        - do: Нажать кнопку "Сохранить"
        - assert: |
              Открыта карточка чата
              Аватар чата изменен
        - do: Закрыть карточку чата
        - assert: |
              Открыто окно чата
              Аватар чата изменен
        - do: Под пользователем Б открыть список чатов
        - assert: |
              Открывается окно списка чатов
              В списке чатов отображается групповой чат с измененным ранее пользователем А аватаром

    Администратор может назначить другого пользователя администратором[manual]:
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Есть групповой чат, в котором пользователь А - администратор, а пользователь Б обычный участник
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата нажатеием по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: Блок участники открыт
        - do: Назначить пользователя Б администратором чата нажатием по иконке с тремя точками напротив имени пользователя Б и выбрав пункт "Сделать администратором"
        - assert: Пользователь Б отображается в блоке "Администраторы"
        - do: Под пользователем Б Открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть групповой чат, который описан в description
        - assert: Чат открыт
        - do: Открыть администрирование чата нажатеием по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: |
              Блок участники открыт
              Пользователь Б отображается в блоке Администраторы
              Доступно администрирование чата

    Название группы останется прежним, если администратор не сохранит изменение[manual]:
        - automation: MSSNGRFRONT-5929
        - description: У авторизованного пользователя есть групповой чат, в котором он является администратором
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата нажатеием по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на "Настройки чата"
        - assert: Открыто окно настроек чата
        - do: Изменить название чата на произвольное и затем нажать кнопку "Отмена"
        - assert: |
              Появляется попап с предупреждающим тектом "Не редактировать чат?"
              Ниже есть текст "Несохраненные данные будут потеряны."
              В попапе есть кнопки "Не отменять" и "Отменить"
        - do: Нажать кнопку "Не отменить"
        - assert: |
              Закрылся попап
              Открыты настройки чата
        - do: Нажать на "крестик" в шапке натсроек чата
        - assert: |
              Появляется попап с предупреждающим тектом "Не редактировать чат?"
              Ниже есть текст "Несохраненные данные будут потеряны."
              В попапе есть кнопки "Не отменять" и "Отменить"
        - do: Нажать на кнопку "Отменть"
        - assert: |
              Открыта окно чата
              Название чата осталось прежним

    Аватар чата останется прежним, если администратор не сохранит изменение[manual]:
        - automation: MSSNGRFRONT-5929
        - description: У авторизованного пользователя есть групповой чат, в котором он является администратором
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата нажатеием по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на "Настройки чата"
        - assert: Открыто окно настроек чата
        - do: Нажать на кнопку "Сменить фото"
        - assert: Открывается файловый менеджер
        - do: Выбрать любое изобраежние и затем в окне с этим изобраежнием нажать кнопку "Сохранить"
        - assert: |
              Открыта карточка настроек чата
              Аватар чата в карточке изменен
              Доступна кнопка "Сохранить" и "Отмена"
        - do: Нажать кнопку "Отмена"
        - assert: |
              Появляется попап с предупреждающим тектом "Не редактировать чат?"
              Ниже есть текст "Несохраненные данные будут потеряны."
              В попапе есть кнопки "Не отменять" и "Отменить"
        - do: Нажать кнопку "Не отменить"
        - assert: |
              Закрылся попап
              Открыты настройки чата
        - do: Нажать на "крестик" в шапке натсроек чата
        - assert: |
              Появляется попап с предупреждающим тектом "Не редактировать чат?"
              Ниже есть текст "Несохраненные данные будут потеряны."
              В попапе есть кнопки "Не отменять" и "Отменить"
        - do: Нажать на кнопку "Отменть"
        - assert: |
              Открыто окно чата
              Аватар чата осталось прежним

    Пользователь без администраторских прав не может редактировать чат:
        - tags: [advanced_smoke, b2b]
        - description: У авторизованного пользователя есть групповой чат, в котором он не является администратором
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата нажатеием по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Попытаться отредактировать название чата и аватар чата
        - assert: В интерфейсе нет возможности изменения аватара и названия чата

    Только что назначенный администратор может изменить название группы[manual]:
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Есть групповой чат, в котором пользователь А - администратор, а пользователь Б обычный участник
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата нажатеием по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Назначить пользователя Б администратором чата нажатием по иконке с тремя точками напротив имени пользователя Б и выбрав пункт "Сделать администратором"
        - assert: Пользователь Б отображается в блоке "Администраторы"
        - do: Под пользователем Б Открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть групповой чат, который описан в description
        - assert: Чат открыт
        - do: Открыть администрирование чата нажатеием по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: |
              Карточка чата открыта
              Доступно администрирование чата
        - do: Нажать на "Настройки чата"
        - assert: Открыт экран настроек чата
        - do: Изменить название чата на произвольное и сохранить изменения нажатием по иконке "Сохранить" и вернуться в окне чата
        - assert: |
              Открыто окно чата
              Название чата изменено
              В окне чата есть техническая запись о том, что было измененно название чата
        - do: Под пользователем А открыть список чатов, если открыта другая вкладка
        - assert: |
              Открывается окно списка чатов
              В списке чатов отображается измененное пользователем Б название группового чата

    Только что назначенный администратор может изменить аватар группы через выбор изображения из галереи[manual]:
        - tags: [advanced_smoke, b2b]
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Есть групповой чат, в котором пользователь А - администратор, а пользователь Б обычный участник
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата нажатеием по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: Блок участники открыт
        - do: Назначить пользователя Б администратором чата нажатием по иконке с тремя точками напротив имени пользователя Б и выбрав пункт "Сделать администратором"
        - assert: Пользователь Б отображается в блоке "Администраторы"
        - do: Под пользователем Б Открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть групповой чат, который описан в description
        - assert: Чат открыт
        - do: Открыть администрирование чата нажатеием по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: |
              Карточка чата открыта
              Доступно администрирование чата
        - do: Нажать на "Настройки чата"
        - assert: Открыто окно настроек чата
        - do: Нажать на кнопку "Сменить аватар"
        - assert: Открывается файловый менеджер
        - do: Выбрать любое изобраежние и затем в окне с этим изобраежнием нажать кнопку "Сохранить"
        - assert: |
              Открыты настройки чата
              Аватар чата изменен
              Доступна кнопка "Сохранить"
        - do: Нажать кнопку "Сохранить"
        - assert: |
              Открыта карточка чата
              Аватар чата изменен
        - do: Под пользователем А открыть список чатов, если открыта другая вкладка
        - assert: |
              Открывается окно списка чатов
              В списке чатов отображается групповой чат с измененным ранее пользователем Б аватаром

    Пользователь без администраторских прав не может назначить администратором другого участника:
        - description: У авторизованного пользователя есть групповой чат, в котором он не является администратором
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата нажатеием по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: Блок участники открыт
        - do: Попытаться назначить пользователя Б администратором
        - assert: В интерфейсе отсутствует возможность назначать других пользователей администраторами

    Администратор может дать права администратора пользователю, который присоединился в этот чат по инвайт-ссылке[manual]:
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Есть групповой чат, в котором пользователь А - администратор, а пользователь Б обычный участник, пользователь Б присоединился ранее к этому групповому чату по ссылке
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата нажатеием по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: Блок участники открыт
        - do: Назначить пользователя Б администратором чата нажатием по иконке с тремя точками напротив имени пользователя Б и выбрав пункт "Сделать администратором"
        - assert: Пользователь Б отображается в блоке "Администраторы"
        - do: Под пользователем Б Открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть групповой чат, который описан в description
        - assert: Чат открыт
        - do: Открыть администрирование чата нажатеием по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: |
              Карточка чата открыта
              Доступно администрирование чата

    Администратор может изменить описание чата[manual]:
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Есть групповой чат, в котором пользователь А - администратор, а пользователь Б обычный участник
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата нажатеием по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на "Настройки чата"
        - assert: Открыто окно настроек чата
        - do: Изменить описание чата на произвольное и сохранить изменения нажатием по иконке "Сохранить"
        - assert: |
              Открыта карточка чата
              Описание чата изменено
        - do: Под пользователем Б проверить, что описание было изменено
        - assert: Описание чата из description изменено

    Администратор может выделить название чата в карточке чата[manual]:
        - automation: MSSNGRFRONT-5929
        - description: У авторизованного пользователя А в списке чатов есть чат в котором  он является админисратором
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Нажать на шапку чата
        - assert: |
              Открывается карточка чата
              В карточке  чата отображается название чата
        - do: Выделить название чата
        - assert: Название чата было выделено
        - do: Скопировать выделенный текст, вернуться в  окне чата  и вставить ранее скопированный текст
        - assert: В поле ввода отображается ранее скопированный текст

    Администратор может выделить описание чата в карточке чата[manual]:
        - automation: MSSNGRFRONT-5929
        - description: У авторизованного пользователя А в списке чатов есть чат в котором  он является админисратором и в котором есть описание
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Нажать на шапку чата
        - assert: |
              Открывается карточка чата
              В карточке  чата отображается описание чата
        - do: Выделить описание чата
        - assert: Описание чата было выделено
        - do: Скопировать выделенный текст, вернуться в  окне чата  и вставить ранее скопированный текст
        - assert: В поле ввода отображается ранее скопированный текст

    Не администратор может выделить название чата в карточке чата[manual]:
        - automation: MSSNGRFRONT-5929
        - description: У авторизованного пользователя А в списке чатов есть чат в котором  он не является админисратором
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Нажать на шапку чата
        - assert: |
              Открывается карточка чата
              В карточке  чата отображается название чата
        - do: Выделить название чата
        - assert: Название чата было выделено
        - do: Скопировать выделенный текст, вернуться в  окне чата  и вставить ранее скопированный текст
        - assert: В поле ввода отображается ранее скопированный текст

    Не администратор может выделить описание чата в карточке чата[manual]:
        - automation: MSSNGRFRONT-5929
        - description: У авторизованного пользователя А в списке чатов есть чат в котором  он не является админисратором и в котором есть описание
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Нажать на шапку чата
        - assert: |
              Открывается карточка чата
              В карточке  чата отображается описание чата
        - do: Выделить описание чата
        - assert: Описание чата было выделено
        - do: Скопировать выделенный текст, вернуться в  окне чата  и вставить ранее скопированный текст
        - assert: В поле ввода отображается ранее скопированный текст

    Можно выделить название канала в карточке канала[manual]:
        - automation: MSSNGRFRONT-5929
        - description: У авторизованного пользователя А в списке чатов есть канал
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой канал, который соответствует описанию, указанному в description
        - assert: Канал открыт
        - do: Нажать на шапку канала
        - assert: |
              Открывается карточка канала
              В карточке канала отображается название канала
        - do: Выделить название канала
        - assert: Название канала было выделено
        - do: Скопировать выделенный текст, вернуться в  окне чата  и вставить ранее скопированный текст
        - assert: В поле ввода отображается ранее скопированный текст

    Можно выделить описание канала в карточке канала[manual]:
        - automation: MSSNGRFRONT-5929
        - description: У авторизованного пользователя А в списке чатов есть канал с описанием
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой канал, который соответствует описанию, указанному в description
        - assert: Канал открыт
        - do: Нажать на шапку канала
        - assert: |
              Открывается карточка канала
              В карточке канала отображается описание канала
        - do: Выделить описание канала
        - assert: Описание канала было выделено
        - do: Скопировать выделенный текст, вернуться в  окне чата  и вставить ранее скопированный текст
        - assert: В поле ввода отображается ранее скопированный текст

files:
    - tests/hermione/suites/messenger/chat-administration/change-chat-information.common.hermione.ts

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
