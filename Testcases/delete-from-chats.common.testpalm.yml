feature: Удаление из чата

specs:

    Выйти из публичного чата можно самому[manual]:
        - tags: [advanced_smoke, b2b]
        - automation: MSSNGRFRONT-5929
        - description: |
              У авторизованного пользователя в списке чатов есть групповой чат, в котором он не является администратором
              В групповом чате включена публичная ссылка
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Нажать на меню три точки в шапке чата
        - assert: Открылось меню чата
        - do: Выбрать "Покинуть чат"
        - assert: Появляется попап с кнопками "Отмена" и "Ок"
        - do: Нажать кнопку "Отмена"
        - assert: |
              Попап закрывается
              Открыто окно чата
        - do: Нажать на меню три точки в шапке чата
        - assert: Открылось меню чата
        - do: Выбрать "Покинуть чат"
        - assert: Появляется попап с кнопками "Отмена" и "Ок"
        - do: Нажать кнопку "Ок"
        - assert: |
              Попап закрывается
              Октрыто окно чата и доступна кнопка "Присоединиться"

    Выйти из не публичного чата можно самому[manual]:
        - automation: MSSNGRFRONT-5929
        - description: |
              У авторизованного пользователя в списке чатов есть групповой чат, в котором он не является администратором
              В групповом чате выключена публичная ссылка
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Нажать на меню три точки в шапке чата
        - assert: Открылось меню чата
        - do: Выбрать "Покинуть чат"
        - assert: Появляется попап с кнопками "Отмена" и "Ок"
        - do: Нажать кнопку "Отмена"
        - assert: |
              Попап закрывается
              Открыто окно чата
        - do: Нажать на меню три точки в шапке чата
        - assert: Открылось меню чата
        - do: Выбрать "Покинуть чат"
        - assert: Появляется попап с кнопками "Отмена" и "Ок"
        - do: Нажать кнопку "Ок"
        - assert: |
              Попап закрывается
              Закрыто окно чата

    Удалить одного собеседника из чата может администратор[manual]:
        - tags: [advanced_smoke, b2b]
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Есть групповой чат, в котором пользователь А - администратор, а пользователь Б обычный участник
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата нажатеием по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: Блок участники открыт
        - do: Удалить пользователя Б из чата нажатием по кнопке с тремя точками напротив имени нужного участника и выбрав пункт Удалить из чата
        - assert: Пользователь Б не отображается в блоке "Участники"
        - do: Пользователем Б открыть список чатов
        - assert: |
              Открывается окно списка чатов
              Чат из description отсутствует в списке чатов

    Собеседник может покинуть чат, если присоединился по инвайт линке[manual]:
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Есть групповой чат, в котором пользователь А - администратор, а пользователь Б обычный участник, присоединившийся к групповому чату по инвайт-ссылке
        - do: Пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Выйти из чата через меню (3 точки в шапке чата)
        - assert: |
              Пользователь Б вышел из чата
              Вместо поля ввода доступна кнопка "Присоединиться"
        - do: Под пользователем А проверить, что пользвоателя Б нет в списке участников чата
        - assert: Пользователя Б нет в списке участников чата

    Администратор может удалить собеседника, присоединившегося по инвайт линке[manual]:
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Есть групповой чат, в котором пользователь А - администратор, а пользователь Б обычный участник, присоединившийся к групповому чату по инвайт-ссылке
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата тапом по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: Блок участники открыт
        - do: Удалить пользователя Б из чата нажатием по кнопке с тремя точками напротив имени нужного участника и выбрав пункт Удалить из чата
        - assert: Пользователь Б не отображается в блоке "Участники"
        - do: Пользователем Б открыть список чатов
        - assert: |
              Открывается окно списка чатов
              Чат из description отсутствует в списке чатов

    Администратор может выйти из чата[manual]:
        - automation: MSSNGRFRONT-5929
        - description: |
              У авторизованного пользователя А в списке чатов есть групповой чат, в котором он является администратором
              В групповом чате включена публичная ссылка
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Нажать на меню три точки в шапке чата
        - assert: Открылось меню чата
        - do: Выбрать "Покинуть чат"
        - assert: Появляется попап с кнопками "Отмена" и "Ок"
        - do: Нажать кнопку "Ок"
        - assert: |
              Попап закрывается
              Октрыто окно чата и доступна кнопка "Присоединиться"

    Пользователь, назначенный администратором, может выйти из чата[manual]:
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Есть групповой чат, в котором пользователь А - администратор, а пользователь Б обычный участник
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата нажатием по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: Блок участники открыт
        - do: Назначить пользователя Б администратором чата нажатием по иконке с тремя точками напротив имени пользователя Б выбрав пункт "Сделать администратором"
        - assert: Пользователь Б отображается в блоке "Администраторы"
        - do: Под пользователем Б Открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть групповой чат, который описан в description
        - assert: Чат открыт
        - do: Нажать на меню три точки в шапке чата
        - assert: Открылось меню чата
        - do: Выбрать "Покинуть чат"
        - assert: Появляется попап с кнопками "Отмена" и "Ок"
        - do: Нажать кнопку "Ок"
        - assert: |
              Попап закрывается
              Пользователь Б покинул чат
              Закрыто окно чата (если чат непублинчый), открыто окно чата и доступна кнопка "Присоединиться" (если чат публичный)

    Пользователь, назначенный администратором, может удалить собеседника из чата[manual]:
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Есть групповой чат, в котором пользователь А - администратор, а пользователь Б обычный участник
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата нажатием по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: Блок участники открыт
        - do: Назначить пользователя Б администратором чата нажатием по иконке с тремя точками напротив имени пользователя Б выбрав пункт "Сделать администратором"
        - assert: Пользователь Б отображается в блоке "Администраторы"
        - do: Под пользователем Б Открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть групповой чат, который описан в description
        - assert: Чат открыт
        - do: Открыть администрирование чата нажатием по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: Блок участники открыт
        - do: Удалить пользователя А из чата нажатием по кнопке с тремя точками напротив имени нужного участника и выбрав пункт Удалить из чата
        - assert: Пользователь А не отображается в блоке "Участники"
        - do: Пользователем А открыть список чатов
        - assert: |
              Открывается окно списка чатов
              Чат из description отсутствует в списке чатов

    В отсутствии интернет-соединения нет возможности удаления пользователя из чата[manual]:
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Есть групповой чат, в котором пользователь А - администратор, а пользователь Б обычный участник
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата нажатием по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: Блок участники открыт
        - do:  Отключить интернет-соединение
        - assert: Интернет-соединение отключено
        - do: Попытаться удалить пользователя Б из чата нажатием по иконке с тремя точками напротив имени пользователя Б и выбрав пункт Удалить из чата
        - assert: Пункт "Удалить из чата" неактивный в контекстном меню

    Пользователь, не являющийся администратором чата, не может удалить одного собеседника из этого чата[manual]:
        - tags: [b2b]
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Есть групповой чат, в котором пользователь А и Пользователь Б обычные участник (не администраторы)
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Открыть администрирование чата нажатием по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: Блок участники открыт
        - do: Попытаться удалить пользователя Б из чата
        - assert: В интерфейсе нет возможности удаления другого пользователя

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
