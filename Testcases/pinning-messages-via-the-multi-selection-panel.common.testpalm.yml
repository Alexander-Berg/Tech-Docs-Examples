feature: Закрепление сообщений через панель мультивыбора

specs:

    Можно закрепить собственное текстовое сообщение:
        - tags: [advanced_smoke]
        - description: |
              У авторизованного пользователя есть групповой чат в истории которого есть собственное текстовое сообщение
              Данный пользователь является администратором этого чата
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для сообщения из description
        - assert: Появляется контекстное меню для этого сообщения
        - do: Нажать на "Выбрать"
        - assert: |
              Сообщение было выделено
              Внизу появилась панель мультивыбора
              В панели мультивыбора есть кнопка "Закрепить сообщение" со значком закрепления (для небольших экранов или мобильных девайсов - отображается только значок закрепления)
        - do: Нажать на кнопку "Закрепить сообщение" (значок закрепления)
        - assert: |
              Сообщение закреплено
              В окне чата появляется техническая запись содержащая имя администратора, закрепившего сообщение, и текст "обновил(а) информацию о чате"

    Можно закрепить текстовое сообщение собеседника[manual]:
        - automation:
        - description: |
              У авторизованного пользователя есть групповой чат в истории которого есть текстовое сообщение собеседника
              Данный пользователь является администратором этого чата
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для сообщения из description
        - assert: Появляется контекстное меню для этого сообщения
        - do: Нажать на "Выбрать"
        - assert: |
              Сообщение было выделено
              Внизу появилась панель мультивыбора
              В панели мультивыбора есть кнопка "Закрепить сообщение" со значком закрепления (для небольших экранов или мобильных девайсов - отображается только значок закрепления)
        - do: Нажать на кнопку "Закрепить сообщение" (значок закрепления)
        - assert: |
              Сообщение закреплено
              В окне чата появляется техническая запись содержащая имя администратора, закрепившего сообщение, и текст "обновил(а) информацию о чате"

    Можно закрепить собственное изображение[manual]:
        - automation:
        - description: |
              У авторизованного пользователя есть групповой чат в истории которого есть собственное изображение
              Данный пользователь является администратором этого чата
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для изображения из description
        - assert: Появляется контекстное меню для этого изображения
        - do: Нажать на "Выбрать"
        - assert: |
              Изображение было выделено
              Внизу появилась панель мультивыбора
              В панели мультивыбора есть кнопка "Закрепить сообщение" со значком закрепления (для небольших экранов или мобильных девайсов - отображается только значок закрепления)
        - do: Нажать на кнопку "Закрепить сообщение" (значок закрепления)
        - assert: |
              Изображенин закреплено
              В окне чата появляется техническая запись содержащая имя администратора, закрепившего сообщение, и текст "обновил(а) информацию о чате"

    Можно закрепить изображение собеседника[manual]:
        - automation:
        - description: |
              У авторизованного пользователя есть групповой чат в истории которого есть изображение собеседника
              Данный пользователь является администратором этого чата
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для изображения из description
        - assert: Появляется контекстное меню для этого изображения
        - do: Нажать на "Выбрать"
        - assert: |
              Изображение было выделено
              Внизу появилась панель мультивыбора
              В панели мультивыбора есть кнопка "Закрепить сообщение" со значком закрепления (для небольших экранов или мобильных девайсов - отображается только значок закрепления)
        - do: Нажать на кнопку "Закрепить сообщение" (значок закрепления)
        - assert: |
              Изображение закреплено
              В окне чата появляется техническая запись содержащая имя администратора, закрепившего сообщение, и текст "обновил(а) информацию о чате"

    Можно закрепить собственное видео[manual]:
        - automation:
        - description: |
              У авторизованного пользователя есть групповой чат в истории которого есть собственное видео
              Данный пользователь является администратором этого чата
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для видео из description
        - assert: Появляется контекстное меню для этого видео
        - do: Нажать на "Выбрать"
        - assert: |
              Видео было выделено
              Внизу появилась панель мультивыбора
              В панели мультивыбора есть кнопка "Закрепить сообщение" со значком закрепления (для небольших экранов или мобильных девайсов - отображается только значок закрепления)
        - do: Нажать на кнопку "Закрепить сообщение" (значок закрепления)
        - assert: |
              Видео закреплено
              В окне чата появляется техническая запись содержащая имя администратора, закрепившего сообщение, и текст "обновил(а) информацию о чате"

    Можно закрепить видео собеседника[manual]:
        - automation:
        - description: |
              У авторизованного пользователя есть групповой чат в истории которого есть видео собеседника
              Данный пользователь является администратором этого чата
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для видео из description
        - assert: Появляется контекстное меню для этого видео
        - do: Нажать на "Выбрать"
        - assert: |
              Видео было выделено
              Внизу появилась панель мультивыбора
              В панели мультивыбора есть кнопка "Закрепить сообщение" со значком закрепления (для небольших экранов или мобильных девайсов - отображается только значок закрепления)
        - do: Нажать на кнопку "Закрепить сообщение" (значок закрепления)
        - assert: |
              Видео закреплено
              В окне чата появляется техническая запись содержащая имя администратора, закрепившего сообщение, и текст "обновил(а) информацию о чате"

    Можно закрепить собственный файл[manual]:
        - automation:
        - description: |
              У авторизованного пользователя есть групповой чат в истории которого есть собственный файлл
              Данный пользователь является администратором этого чата
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для файла из description
        - assert: Появляется контекстное меню для этого файла
        - do: Нажать на "Выбрать"
        - assert: |
              Файл был выделен
              Внизу появилась панель мультивыбора
              В панели мультивыбора есть кнопка "Закрепить сообщение" со значком закрепления (для небольших экранов или мобильных девайсов - отображается только значок закрепления)
        - do: Нажать на кнопку "Закрепить сообщение" (значок закрепления)
        - assert: |
              Файл закреплен
              В окне чата появляется техническая запись содержащая имя администратора, закрепившего сообщение, и текст "обновил(а) информацию о чате"

    Можно закрепить файл собеседника[manual]:
        - automation:
        - description: |
              У авторизованного пользователя есть групповой чат в истории которого есть файл собеседника
              Данный пользователь является администратором этого чата
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для файла из description
        - assert: Появляется контекстное меню для этого файла
        - do: Нажать на "Выбрать"
        - assert: |
              Файл был выделен
              Внизу появилась панель мультивыбора
              В панели мультивыбора есть кнопка "Закрепить сообщение" со значком закрепления (для небольших экранов или мобильных девайсов - отображается только значок закрепления)
        - do: Нажать на кнопку "Закрепить сообщение" (значок закрепления)
        - assert: |
              Файл закреплен
              В окне чата появляется техническая запись содержащая имя администратора, закрепившего сообщение, и текст "обновил(а) информацию о чате"

    Можно закрепить собственный стикер[manual]:
        - automation:
        - description: |
              У авторизованного пользователя есть групповой чат в истории которого есть собственный стикер
              Данный пользователь является администратором этого чата
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для стикера из description
        - assert: Появляется контекстное меню для этого стикера
        - do: Нажать на "Выбрать"
        - assert: |
              Стикер был выделен
              Внизу появилась панель мультивыбора
              В панели мультивыбора есть кнопка "Закрепить сообщение" со значком закрепления (для небольших экранов или мобильных девайсов - отображается только значок закрепления)
        - do: Нажать на кнопку "Закрепить сообщение" (значок закрепления)
        - assert: |
              Стикер закреплен
              В окне чата появляется техническая запись содержащая имя администратора, закрепившего сообщение, и текст "обновил(а) информацию о чате"

    Можно закрепить стикер собеседника[manual]:
        - automation:
        - description: |
              У авторизованного пользователя есть групповой чат в истории которого есть стикер собеседника
              Данный пользователь является администратором этого чата
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для стикера из description
        - assert: Появляется контекстное меню для этого стикера
        - do: Нажать на "Выбрать"
        - assert: |
              Стикер был выделен
              Внизу появилась панель мультивыбора
              В панели мультивыбора есть кнопка "Закрепить сообщение" со значком закрепления (для небольших экранов или мобильных девайсов - отображается только значок закрепления)
        - do: Нажать на кнопку "Закрепить сообщение" (значок закрепления)
        - assert: |
              Стикер закреплен
              В окне чата появляется техническая запись содержащая имя администратора, закрепившего сообщение, и текст "обновил(а) информацию о чате"

    Можно закрепить собственное голосовое сообщение[manual]:
        - automation:
        - description: |
              У авторизованного пользователя есть групповой чат в истории которого есть собственное голосовое сообщение
              Данный пользователь является администратором этого чата
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для голосового сообщения из description
        - assert: Появляется контекстное меню для этого голосового сообщения
        - do: Нажать на "Выбрать"
        - assert: |
              Голосовое сообщение было выделено
              Внизу появилась панель мультивыбора
              В панели мультивыбора есть кнопка "Закрепить сообщение" со значком закрепления (для небольших экранов или мобильных девайсов - отображается только значок закрепления)
        - do: Нажать на кнопку "Закрепить сообщение" (значок закрепления)
        - assert: |
              Голосовое сообщение было закреплено
              В окне чата появляется техническая запись содержащая имя администратора, закрепившего сообщение, и текст "обновил(а) информацию о чате"

    Можно закрепить голосовое сообщение собеседника[manual]:
        - automation:
        - description: |
              У авторизованного пользователя есть групповой чат в истории которого есть голосовое сообщение собеседника
              Данный пользователь является администратором этого чата
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для голосового сообщения из description
        - assert: Появляется контекстное меню для этого голосового сообщения
        - do: Нажать на "Выбрать"
        - assert: |
              Голосовое сообщение было выделено
              Внизу появилась панель мультивыбора
              В панели мультивыбора есть кнопка "Закрепить сообщение" со значком закрепления (для небольших экранов или мобильных девайсов - отображается только значок закрепления)
        - do: Нажать на кнопку "Закрепить сообщение" (значок закрепления)
        - assert: |
              Голосовое сообщение закреплено
              В окне чата появляется техническая запись содержащая имя администратора, закрепившего сообщение, и текст "обновил(а) информацию о чате"

    Можно закрепить собственное текстовое сообщение в приватном чате[manual]:
        - automation:
        - description: У авторизованного пользователя есть приватный чат в истории которого есть собственное текстовое сообщение
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для сообщения из description
        - assert: Появляется контекстное меню для этого сообщения
        - do: Нажать на "Выбрать"
        - assert: |
              Сообщение было выделено
              Внизу появилась панель мультивыбора
              В панели мультивыбора есть кнопка "Закрепить сообщение" со значком закрепления (для небольших экранов или мобильных девайсов - отображается только значок закрепления)
        - do: Нажать на кнопку "Закрепить сообщение" (значок закрепления)
        - assert: Сообщение закреплено

    Нельзя закрепить несколько выделенных сообщений:
        - tags: [advanced_smoke]
        - description: |
              У авторизованного пользователя есть групповой чат в истории которого есть собственные текстовые сообщения
              Данный пользователь является администратором этого чата
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для сообщения из description
        - assert: Появляется контекстное меню для этого сообщения
        - do: Нажать на "Выбрать"
        - assert: |
              Сообщение было выделено
              Внизу появилась панель мультивыбора
              В панели мультивыбора есть кнопка "Закрепить сообщение" со значком закрепления (для небольших экранов или мобильных девайсов - отображается только значок закрепления)
        - do: Выделить еще одно сообщение
        - assert: |
              Сообщение было выделено (теперь выделено два сообщения)
              В панели мультивыбора пропала кнопка "Закрепить сообщение" со значком закрепления (для небольших экранов или мобильных девайсов - пропал значок закрепления)
        - do: Нажать на ранее выделенное сообщение (теперь выделено одно сообщение)
        - assert: В панели мультивыбора есть кнопка "Закрепить сообщение" со значком закрепления (для небольших экранов или мобильных девайсов - отображается только значок закрепления)

    Не администратор чата не может закрепить сообщение[manual]:
        - automation:
        - description: |
              У авторизованного пользователя есть групповой чат в истории которого есть собственное текстовое сообщение
              Данный пользователь не является администратором этого чата
        - do: Запустить тестовое приложение
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Вызвать контекстное меню для сообщения из description
        - assert: Появляется контекстное меню для этого сообщения
        - do: Нажать на "Выбрать"
        - assert: |
              Сообщение было выделено
              Внизу появилась панель мультивыбора
              В панели мультивыбора НЕТ кнопки "Закрепить сообщение" со значком закрепления (для небольших экранов или мобильных девайсов - НЕТ значка закрепления)

files:
    - tests/hermione/suites/messenger/multi-selection/pinning-messages-via-the-multi-selection-panel.common.hermione.ts

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team

