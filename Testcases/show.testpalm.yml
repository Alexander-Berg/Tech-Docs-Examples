feature: Show

specs:
  Должен отправиться postMessage на показ страницы:
    - params:
        foreverdata: '2310953522'
    - do: получить выдачу по запросу 'foreverdata' и кликнуть в заголовок первого сниппета (название заголовка Тестовая новостная страница — турбо)
    - assert: открывается турбо-страница в той же вкладке (в поисковом приложении Яндекс турбо-страница открывается в новой вкладке)
    - tech: должен отправится postMessage c type = 'show' с доп. параметрами url и cleanUrl
  Должен отправиться postMessage на показ пустой страницы:
    - params:
        foreverdata: '2844848983'
    - do: получить выдачу по запросу 'foreverdata' и кликнуть в заголовок первого сниппета (название заголовка Борщи, рецепты с фото на RussianFood.com 718 рецептов как приготовить борщ)
    - assert: открывается турбо-страница в той же вкладке (в поисковом приложении Яндекс турбо-страница открывается в новой вкладке)
    - assert: турбо-страница автоматически закрывается
    - tech: должен отправится postMessage с type = 'show' и параметром emplty = true с доп. параметром url

  Отправляет postMessage на показ страницы с данными для подмены хоста:
    - browsers:
        - searchapp
        - android-yandex-browser-17-touch
        - ios-yandex-browser-17-touch
    - tags: no_assessors
    - do: перейти по ссылке 'https://lenta-ru.turbopages.org/s/lenta.ru/news/2020/02/26/lovushki/?parent-reqid=123'
    - assert: загрузилась турбо-страница
    - tech: |
        отправился postMessage с type = 'show'
        с параметром cleanUrl: '/turbo/s/lenta.ru/news/2020/02/26/lovushki/'
        с параметром displayHost: lenta.ru
        с паметром displayUrl: https://lenta-ru.turbopages.org/turbo/s/lenta.ru/news/2020/02/26/lovushki

files:
  - features/touch-phone/post-message/show/show.hermione.js

v-team: Turbo

tags: no_assessors

manager: tanzwuta

qa-engineer: olga0321

tlds: none
