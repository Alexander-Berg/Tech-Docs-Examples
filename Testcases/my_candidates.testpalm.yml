feature: Главная страница
type: Мои кандидаты

specs:
  beforeEach:
    - do: открыть главную страницу

  Список кандидатов:
    - assert: |
        на странице есть блок 'Мои кандидаты'
        в фильтре присутствует блок про твою роль у кандидата
        по умолчанию в фильтре роль указана 'Я основной рекрутер'
        в списке кандидатов отображаются только те, у которых ты являешься основным рекрутером
        в фильтре присутствует блок про испытания
        в фильтре испытаний по умолчанию выбрано значение 'Все'
        в каждом фильтре указано кол-во кандидатов
    - screenshot: пример внешнего вида [default]

  Ссылка в имени кандидата:
    - do: проверить ссылку в имени кандидата
    - assert: ссылка содержит /candidates/<id_кандидата>/

  Ссылка в рассматриваемых вакансиях кандидата:
    - do: проверить ссылку в рассматриваемых вакансиях
    - assert: ссылка содержит /vacancies/<id_вакансии>/

  Фильтр по роли:
    - do: клик в фильтре роли 'Все'
    - assert: в списке отображаются кандидаты, у которых ты или в основных рекрутерах, или наблюдатель
    - screenshot: пример внешнего вида [responsible_role_all]
    - do: клик в фильтре 'Я наблюдатель'
    - assert: в списке отображаются кандидаты, у которых ты являешься просто рекрутером (не основным)
    - screenshot: пример внешнего вида [responsible_role_recruiter]
  Фильтр по испытаниям:
    - do: клик в фильтре на 'Испытания назначены'
    - assert: |
        в списке отображаются только кандидаты, с назначенными и/или ожидающими ревью секциями
        в списке отображаются кандидаты, у которых ты стоишь в основных рекрутерах
    - screenshot: пример внешнего вида [stage_assessment_assigned]
    - do: клик в фильтре на 'Испытания завершены'
    - assert: |
        в списке отображаются только кандидаты, с завершенными секциями
        в списке отображаются кандидаты, у которых ты стоишь в основных рекрутерах
    - screenshot: пример внешнего вида [stage_assessment_finished]
    - do: клик в фильтре на 'Нет испытаний'
    - assert: |
        в списке отображаются только кандидаты, у которых нет испытаний
        в списке отображаются кандидаты, у которых ты стоишь в основных рекрутерах
    - screenshot: пример внешнего вида [stage_no_assessment]
  Пагинация в блоке кандидатов:
    - do: клик на любой номер страницы в блоке 'Мои кандидаты'
    - screenshot: открылась выбранная страница [pagination]

files:
  - tests/hermione/suites/desktop/main_page/my_candidates/my_candidates.hermione.js

tags:
  - reviewed

priority: critical

browsers:
  - yandex-browser-desktop
  - firefox-desktop
  - safari-desktop
