feature: Подписки/Интересы на таче (теги)

description: Есть возможность подписаться на интересные команды/турниры/спортсменов через теги, которые находятся под суммаризацией в сюжетах. Все интересы показываются на Главной Спорта в карусели подписок под рубрикатором.

specs:
  могут содержаться в сюжете [manual]:
    - do: залогиниться на сервисе Спорт
    - do: перейти в любой сюжет, в котором есть теги команды/матча/турнира под сюжетом - https://jing.yandex-team.ru/files/vasekerka/2022-07-08_12-36-17.png
    - assert: |
        под суммаризацией присутствует один и более тег,
        тегами могут быть названия команд, турниров, имена спортсменов,
        если тегов много, они переносятся на вторую строку,
        в конце всех тегов присутствует иконка информации "i",
        вёрстка не едет
    - do: тапнуть на "Читать далее" сразу под суммаризацией
    - assert: |
        блок суммаризации раскрывается,
        под суммаризацией появляется "Свернуть",
        теги под суммаризацией остаются,
        вёрстка не едет,
        внешний вид - https://jing.yandex-team.ru/files/vasekerka/2022-07-08_12-44-52.png

  могут содержать промо-шторку с доп.информацией [manual]:
    - do: залогиниться на сервисе Спорт
    - do: перейти в любой сюжет, в котором есть теги команды/матча/турнира под сюжетом - https://jing.yandex-team.ru/files/vasekerka/2022-07-08_12-36-17.png
    - assert: |
        под суммаризацией присутствует один и более тег,
        тегами могут быть названия команд, турниров, имена спортсменов,
        если тегов много, они переносятся на вторую строку,
        в конце всех тегов присутствует иконка информации "i",
        вёрстка не едет
    - do: тапнуть на иконку информации "i"
    - assert: |
        открывается промо-шторка с информацией о том, что дают подписки,
        внизу шторки присутствует кнопка "Понятно",
        внешний вид - https://jing.yandex-team.ru/files/vasekerka/2022-07-08_13-02-19.png
    - do: тапнуть на кнопку "Понятно"
    - assert: промо-шторка закрылась, виден сюжет, в который зашли в начале кейса

  через теги под сюжетом [manual]:
    можно добавить в подписки одну команду/матч/турнир [manual]:
      - do: залогиниться на сервисе Спорт
      - do: перейти в любой сюжет, в котором есть теги команды/матча/турнира под сюжетом - https://jing.yandex-team.ru/files/vasekerka/2022-07-08_12-36-17.png
      - do: тапнуть на тег команды/матча/турнира
      - assert: |
          открывается шторка подписки,
          вёрстка не едет,
          в шторке присутствует кнопка "Следить",
          внешний вид - https://jing.yandex-team.ru/files/vasekerka/2022-07-08_12-50-29.png
      - do: тапнуть по кнопке "Следить"
      - assert: |
          текст кнопки "Следить" изменился на "Вы следите",
          кнопка поменяла цвет, слева от текста вместо значка плюса проставилась галочка,
          внешний вид - https://jing.yandex-team.ru/files/vasekerka/2022-07-08_12-53-47.png
      - do: закрыть шторку любым способом
      - assert: шторка скрывается, виден сюжет, который был выбран изначально
      - do: перейти на Главную спорта любым способом
      - assert: |
          под рубрикатором отображается карусель подписок,
          в карусели подписок присутствует иконка настроек с надписью "Мои интересы",
          справа от настроек отображается дабавленная на прошлом шаге команда/матч/турнир,
          внешний вид - https://jing.yandex-team.ru/files/vasekerka/2022-07-08_12-55-53.png
      - do: вернуться в сюжет, в котором подписывались на тег
      - assert: |
          под суммаризацией видны все теги, включая тег, на который подписались ранее,
          в теге, на который подписались ранее, слева присутствует зеленая галочка,
          внешний вид - https://jing.yandex-team.ru/files/vasekerka/2022-07-08_12-57-06.png

    можно добавить в подписки две и более команды/матча/турнира [manual]:
      - do: быть залогиненым на сервисе под аккаунтом, под которым проходили прошлый кейс
      - do: перейти в любой сюжет, в котором есть теги команды/матча/турнира под сюжетом - https://jing.yandex-team.ru/files/vasekerka/2022-07-08_12-36-17.png
      - do: тапнуть на тег команды/матча/турнира
      - assert: |
          ткрывается шторка подписки,
          вёрстка не едет,
          в шторке присутствует кнопка "Следить",
          внешний вид - https://jing.yandex-team.ru/files/vasekerka/2022-07-08_12-50-29.png
      - do: тапнуть за пределы шторки
      - assert: шторка закрылась, отображается тот же сюжет
      - do: тапнуть по тому же объектному ответу еще раз
      - assert: открылась шторка
      - do: тапнуть по кнопке "Следить" 
      - assert: |
          текст кнопки "Следить" изменился на "Вы следите",
          кнопка поменяла цвет, слева от текста вместо значка плюса проставилась галочка,
          внешний вид - https://jing.yandex-team.ru/files/vasekerka/2022-07-08_12-53-47.png
      - do: закрыть шторку любым способом
      - assert: шторка скрывается, виден сюжет, который был выбран изначально        
      - do: перейти на Главную спорта любым способом
      - assert: |
          под рубрикатором отображается карусель подписок,
          в карусели подписок присутствует иконка настроек без каких-либо подписей,
          справа от настроек отображаются все подписки аккаунта,
          внешний вид - https://jing.yandex-team.ru/files/vasekerka/2022-07-08_13-13-36.png

    можно отменить любую подписку [manual]:
      - do: залогиниться на сервисе Спорт аккаунтом, у которого есть подписки
      - do: перейти в сюжет, в котором уже есть подписки
      - do: тапнуть на тег, на который подписались ранее - https://jing.yandex-team.ru/files/vasekerka/2022-07-08_13-20-25.png
      - assert: |
          открывается шторка подписок,
          в шторке присутствует кнопка "Вы следите",
          внешний вид - https://jing.yandex-team.ru/files/vasekerka/2022-07-08_13-21-46.png
      - do: тапнуть на кнопку "Вы следите"
      - assert: |
          кнопка "Вы следите" меняется на "Следить",
          шторка остается открытой, вёрстка не едет,
          внешний вид - https://jing.yandex-team.ru/files/vasekerka/2022-07-08_13-23-01.png
      - do: закрыть шторку любым способом
      - assert: |
            шторка закрылась, виден сюжет, который был выбран изначально,
            под суммаризацией видны все теги, включая тот, от которого отписались,
            у тега, от которого отписались, отсутствует галочка слева,
            внешний вид - https://jing.yandex-team.ru/files/vasekerka/2022-07-08_13-24-05.png
      - do: перейти на Главную спорта любым способом
      - assert: в карусели подписок под рубрикатором отсутствует тег, от которого отписались парой шагов выше

    можно авторизоваться через шторку подписок [manual]:
      - do: разлогиниться, если были залогинены
      - do: перейти в любой сюжет, в котором есть теги команды/матча/турнира под сюжетом - https://jing.yandex-team.ru/files/vasekerka/2022-07-08_12-36-17.png
      - do: кликнуть на любой тег команды/матча/турнира
      - assert: |
          открывается шторка подписки,
          вёрстка не едет,
          в шторке присутствует кнопка "Следить",
          внешний вид - https://jing.yandex-team.ru/files/vasekerka/2022-07-08_13-15-23.png
      - do: тапнуть по кнопке "Следить"
      - assert: появляется поп-ап залогина https://jing.yandex-team.ru/files/vasekerka/2022-07-08_13-15-50.png
      - do: тапнуть на кнопку "Закрыть" или за пределы поп-апа
      - assert: поп-ап залогина закрылся
      - do: снова тапнуть на кнопку "Следить" и авторизоваться на сервисе через поп-ап
      - assert: после авторизации происходит возврат на сюжет, в котором вы находились

files: []

tags:
  - subscriptions

manager: mrwhite

qa-engineer: vasekerka

tlds:
  - ru
  - by
  - kz
  - uz
  - ua
  - com