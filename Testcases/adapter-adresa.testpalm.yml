feature: Спецсниппет адресный

specs:
  одна точка:
    - do: получить выдачу по запросу 'аптека витамин спб' или 'аптека фиалка томск'
    - screenshot: в поисковой выдачи присутствует подобный сниппет (внешний вид и запрос может незначительно отличаться от скриншота) [adapters/adapter-adresa/single-106-{{PLATFORM}} >> plain]
    - assert: |
        на сниппете две кнопки, с телефоном и картой
        на сниппете серым цветом указан адрес организации
    - do: нажать на телефонный номер организации
    - assert: происходит набор номера (зависит от модели телефона, возможна другая реакция на нажатие, главное чтобы он пытался позвонить или выдавал меню с предложением сделать это)
    - tech: проверить счетчик в кнопке телефона
    - do: нажать на кнопку 'Карта'
    - assert: |
        в новой вкладке открылись карты или приложение Яндекс.Карты
        на открывшемся сервисе Карт информация об искомой организации
    - tech: проверить счетчик в кнопке карта
  несколько точек:
    - do: получить выдачу по запросу 'горздрав аптеки москвы'
    - screenshot: в поисковой выдачи присутствует подобный сниппет (внешний вид и запрос может незначительно отличаться от скриншота) [adapters/adapter-adresa/multiple-108-{{PLATFORM}} >> plain]
    - assert: в сниппете есть большая кнопка 'Адреса на карте'
    - do: нажать на кнопку 'Адреса на карте'
    - assert: |
        в новой вкладке открылись карты или приложение Яндекс.Карты
        запрос в картах соответствует искомой организации
    - tech: проверить счетчик в кнопке адреса на карте
    - tech: внешний вид в очень старых телефонах при некскольких точках без svg [adapters/adapter-adresa/multiple-108-{{PLATFORM}} >> nosvg]
    - tech: внешний вид в очень старых телефонах одной точки с длинным-длинным номером телефона или на слишком узком экране без svg [adapters/adapter-adresa/single_long-107-{{PLATFORM}} >> nosvg]
    - tech: внешний вид в очень старых телефонах одной точки без svg [adapters/adapter-adresa/single-106-{{PLATFORM}} >> nosvg]
    - tech: внешний вид одной точки с длинным-длинным номером телефона или на слишком узком экране [adapters/adapter-adresa/single_long-107-{{PLATFORM}} >> plain]

files:
# - features/touch-phone/adapters/adapter-adresa.autogenerated.hermione.js
  - hermione/test-suites/touch-phone/adapters/adapter-adresa/adapter-adresa.hermione.js

priority:
  - low

v-team: VanillaGeo

tags:
  - address
  - meta
  - sitelinks
  - button
  - smart
  - reviewed

selector: .t-construct-adapter__adresa

counter: /snippet/adress_button

tlds: none
