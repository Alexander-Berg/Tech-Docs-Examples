feature: Тыква новостей

description: Проверка фичи отдачи задампленных данных в случае падения бэка

specs:
  beforeEach:
    - do: авторизоваться на сервисе через кнопку справа сверху (авторизация не прорастет после попытки залогина - это основной признак, что тестируется тыква, а не прод. Это как раз ожидаемое поведение)
  
  отображает главную страницу новостей [manual]:
    - tags:
        - smoke_zen
    - do: открыть главную страницу сервиса Яндекс.Новости - https://yandex.ru/news
    - assert: |
        карточки в топ 5 на главной отображается без ошибок (выглядит как просто карточки сюжетов - требуется проскроллить чуть ниже, чтоб дойти до пятой),
        скриншот внешнего вида топа-5 на главной - https://jing.yandex-team.ru/files/volkhonov/top5maintouch.png
    - do: кликнуть по первому сюжету, запомнив заголовок
    - assert: |
        произошел переход в сюжет,
        в правом верхнем углу отображается кнопка Войти (нет авторизации) (в случае, если авторизация все же есть - попробуйте обновить страницу, она должна исчезнуть (особенности реализации)),
        над сюжетом отображается реклама,
        заголовок в сюжете соответствует заголовку на главной, с которой был переход,
        в сюжете отображается заголовок, над заголовком - источник, ниже - аннотация,
        в некоторых сюжетах могут отображаться видео (медиа-блок)
    - do: вернуться на главную страницу - https://yandex.ru/news
    - do: доскроллить до пятой по счету карточки на главной
    - do: тапнуть по этой карточке
    - assert: |
        произошел переход в сюжет,
        в правом верхнем углу отображается кнопка Войти (нет авторизации) (в случае, если авторизация все же есть - попробуйте обновить страницу, она должна исчезнуть (особенности реализации)),
        над сюжетом отображается реклама,
        заголовок в сюжете соответствует заголовку на главной, с которой был переход,
        в сюжете отображается заголовок, над заголовком - источник, ниже - аннотация,
        в некоторых сюжетах могут отображаться видео (медиа-блок)

  позволяет открыть гео-рубрику Москвы из рубрикатора [manual]:
    - tags:
        - smoke_zen
    - do: открыть главную страницу сервиса Яндекс.Новости - https://yandex.ru/news
    - assert: |
        в рубрикаторе отображается георубрика Москва, независимо от того, в каком регионе находится пользователь,
        внешний вид - https://jing.yandex-team.ru/files/volkhonov/touchRubricatorMoscow.png
    - do: кликнуть по рубрике Москва в рубрикаторе
    - assert: открылась гео-рубрика Москва (https://yandex.ru/news/region/moscow)
    - do: тапнуть по первой карточке сюжета на странице гео-рубрики, запомнив заголовок
    - assert: |
        произошел переход в сюжет,
        в правом верхнем углу отображается кнопка Войти (нет авторизации) (в случае, если авторизация все же есть - попробуйте обновить страницу, она должна исчезнуть (особенности реализации)),
        над сюжетом отображается реклама,
        заголовок в сюжете соответствует заголовку на странице рубрики, с которой был переход,
        в сюжете отображается заголовок, над заголовком - источник, ниже - аннотация,
        в некоторых сюжетах могут отображаться видео (медиа-блок)
    - do: вернуться на страницу гео-рубрики - https://yandex.ru/news/region/moscow
    - do: доскроллить до пятой по счету карточки на странице рубрики
    - do: тапнуть по этой карточке
    - assert: |
        произошел переход в сюжет,
        в правом верхнем углу отображается кнопка Войти (нет авторизации) (в случае, если авторизация все же есть - попробуйте обновить страницу, она должна исчезнуть (особенности реализации)),
        над сюжетом отображается реклама,
        заголовок в сюжете соответствует заголовку на главной, с которой был переход,
        в сюжете отображается заголовок, над заголовком - источник, ниже - аннотация,
        в некоторых сюжетах могут отображаться видео (медиа-блок)

  позволяет открыть сюжеты из рубрики Интересное [manual]:
    - tags:
        - smoke_zen
    - do: перейти в рубрику Интересное из рубрикатора или по прямой ссылке - https://yandex.ru/news/rubric/personal_feed
    - assert: |
        без ошибок открылась страница рубрики,
        отобразались карточки сюжетов,
        в правом верхнем углу отображается кнопка "Войти" (нет авторизации, не смотря на попытку авторизоваться ранее)
    - do: тапнуть по первй карточке сюжета в рубрике
    - assert: |
        произошел переход в сюжет,
        в правом верхнем углу отображается кнопка Войти (нет авторизации) (в случае, если авторизация все же есть - попробуйте обновить страницу, она должна исчезнуть (особенности реализации)),
        над сюжетом отображается реклама,
        заголовок в сюжете соответствует заголовку на странице рубрики, с которой был переход,
        в сюжете отображается заголовок, над заголовком - источник, ниже - аннотация,
        в некоторых сюжетах могут отображаться видео (медиа-блок)

  позволяет открыть сюжеты из рубрики Происшествия [manual]:
    - tags:
        - smoke_zen
    - do: перейти в рубрику Происшествия из рубрикатора или по прямой ссылке - https://yandex.ru/news/rubric/incident
    - assert: |
        без ошибок открылась страница рубрики,
        отобразались карточки сюжетов,
        в правом верхнем углу отображается кнопка "Войти" (нет авторизации, не смотря на попытку авторизоваться ранее)
    - do: тапнуть по первой карточке сюжета на странице рубрики
    - assert: |
        произошел переход в сюжет,
        в правом верхнем углу отображается кнопка Войти (нет авторизации) (в случае, если авторизация все же есть - попробуйте обновить страницу, она должна исчезнуть (особенности реализации)),
        заголовок в сюжете соответствует заголовку на главной, с которой был переход,
        в сюжете отображается заголовок, над заголовком - источник, ниже - аннотация,
        в некоторых сюжетах могут отображаться видео (медиа-блок)
    - do: вернуться на страницу рубрики с помощью браузерной кнопки "Назад"
    - do: доскроллить до 5 по счету карточки сюжета на странице рубрики
    - do: тапнуть по пятой по счету карточке сюжета на странице рубрики
    - assert: |
        произошел переход в сюжет,
        в правом верхнем углу отображается кнопка Войти (нет авторизации) (в случае, если авторизация все же есть - попробуйте обновить страницу, она должна исчезнуть (особенности реализации)),
        над сюжетом отображается реклама (если это траурный сюжет, реклама может отсуствовать),
        заголовок в сюжете соответствует заголовку на странице рубрики, с которой был переход,
        в сюжете отображается заголовок, над заголовком - источник, ниже - аннотация,
        в некоторых сюжетах могут отображаться видео (медиа-блок)

files: []

qa-engineer: volkhonov

manager: mrwhite

tags:
  - pumpkin
  - newspumpkin

tlds:
  - ru
  - by
  - kz
  - uz
  - ua
  - com
