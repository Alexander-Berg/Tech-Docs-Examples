feature: Объектный ответ
type: Списки
counter: /$page/$parallel/$result[@wizard_name="entity_search"]/list[@type="project"]/title

specs:
  Изменение размера экрана:
    - tlds: all
    - do: получить выдачу по запросу 'Анджелина Джоли'
    - assert: появилась карточка объекта со списками
    - do: установить размер экрана 1130x1200
    - assert: ширина карточки объекта и списков уменьшилась
    - screenshot: пример внешнего вида списка в узкой колонке [resize-plain]
    - do: нажать на стрелку с иконкой 'вправо' первого списка
    - assert: список проскроллился вправо, появилась стрелка с иконкой 'влево'
    - screenshot: пример внешнего вида проскролленого списка в узкой колонке [resize-step-one]
    - assertMetrics: '*'

  Cсылки и счетчики:
    - tags: ['smoke']
    - tlds: ['ru', 'ua', 'by', 'kz', 'com', 'com.tr', 'fr']
    - do: получить выдачу по запросу 'Анджелина Джоли'
    - assert: появилась карточка объекта со списками
    - screenshot: пример внешнего вида (незначительные детали могут не совпадать) [plain]
    - do: проверить ссылку в титуле списка 'Фильмы'
    - assert: происходит ajax-переход на новую выдачу, появляется карусель фильмов
    - tech: проверить счётчик в титуле списка 'Фильмы'
    - do: проверить ссылку в первой тумбе списка 'Фильмы'
    - assert: |
        происходит ajax-переход на новую выдачу,
        появляется карусель и карточка с фильмом в правой колонке
    - tech: проверить счётчик в первой тумбе списка 'Фильмы'
    - do: вернуться на страницу выдачи 'Анджелина Джоли'
    - do: проверить ссылку в титуле списка 'Смотрите также'
    - assert: |
        происходит ajax-перезапрос,
        появляется карусель актёров, исчезают карточка объекта и списки
    - tech: проверить счётчик в титуле списка 'Смотрите также'
    - do: проверить ссылку в первой тумбе списка 'Смотрите также'
    - assert: |
        происходит ajax-переход на новую выдачу,
        появляется карусель актёров и карточка соответствующего актера
    - tech: проверить счётчик в первой тумбе списка 'Смотрите также'

  Список с маленькими картинками:
    - tlds: all
    - do: получить выдачу по запросу 'toyota rav4'
    - assert: появилась карточка объекта со списками
    - do: проскроллить связанный список до конца
    - assert: появилась кнопка "Весь список"
    - screenshot: пример внешнего вида [plain]

  Список без объектов не отображается в карточке:
    - tlds: all
    - do: получить выдачу по запросу 'Маргарита'
    - assert: появилась карточка объекта с одним списком
    - screenshot: пример внешнего вида [plain]
  
  Кнопка весь список:
    - tlds: all
    - do: получить выдачу по запросу 'Ара'
    - assert: появилась карточка объекта со списками
    - do: пролистать все списки до конца
    - screenshot: пример внешнего вида [plain]

  Список с картинками square_smart:
    - tlds: all
    - do: получить выдачу по запросу 'брюнхильда мстители'
    - assert: появилась карточка объекта со списками
    - screenshot: пример внешнего вида первого списка [plain]

files:
  - features/desktop/z-entity-search/list/list.hermione.js

v-team: OO

tags:
  - smoke_extended
  - oo_list
