feature: Панель глобального поиска

specs:

    Можно вызвать поиск на экране списка чатов[manual]:
        - automation:
        - description: Авторизованы пользователем с привязанным номером телефона
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: |
              Открывается список чатов
              Над списком чатов есть поле ввода с заполнителем "Поиск"
        - do: Кликнуть / тапнуть в поле ввода
        - assert: фокус курсора поместился в поле ввода

    Поиск доступен L пользователю[manual]:
        - tags: [advanced_smoke]
        - automation:
        - description: |
              Не авторизованы в приложении
              Данный тест-кейс неактуален для десктопного приложения
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: |
              Открывается список чатов в котором есть блок "Популярные каналы", а над блоком баннер "Войдите в аккаунт"
              Над списком чатов есть поле ввода с заполнителем "Поиск"
        - do: Кликнуть / тапнуть в поле ввода
        - assert: фокус курсора поместился в поле ввода

    Поиск доступен  LU пользователю[manual]:
        - automation:
        - description: Авторизованы пользователем безпривязанного номера телефона
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: |
              Открывается список чатов
              Над списком чатов есть поле ввода с заполнителем "Поиск"
        - do: Кликнуть / тапнуть в поле ввода
        - assert: фокус курсора поместился в поле ввода

    Поиск доступен U пользователю[manual]:
        - automation:
        - description: Авторизованы пользователем с привязанным номером телефона
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: |
              Открывается список чатов
              Над списком чатов есть поле ввода с заполнителем "Поиск"
        - do: Кликнуть / тапнуть в поле ввода
        - assert: фокус курсора поместился в поле ввода

    Не сохраняется история предыдущих запросов[manual]:
        - automation:
        - description: Авторизованы пользователем с привязанным номером телефона
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: |
              Открывается список чатов
              Над списком чатов есть поле ввода с заполнителем "Поиск"
        - do: Кликнуть / тапнуть в поле ввода
        - assert: фокус курсора поместился в поле ввода
        - do: Ввести любое слово в поле поиска
        - assert: |
              Введенное слово отображено в поле поиска
              Справа в поле поиска есть крестик
              В зависимости от совпадений, результаты поиска разделены на категории - "Чаты" и "Сообщения"
        - do: Нажать на "Крестик" в поле поиска
        - assert: |
              Введенный текст в поле поиска был удален
              Результаты поиска были сброшены
              Открыт список чатов пользователя
        - do: Кликнуть / тапнуть в поле ввода
        - assert: |
              Фокус курсора поместился в поле ввода
              Нет никаких историй прошлых запросов

    Результаты поиска скидываются по кнопке Х[manual]:
        - automation:
        - description: Авторизованы пользователем с привязанным номером телефона
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: |
              Открывается список чатов
              Над списком чатов есть поле ввода с заполнителем "Поиск"
        - do: Кликнуть / тапнуть в поле ввода
        - assert: фокус курсора поместился в поле ввода
        - do: Ввести любое слово в поле поиска
        - assert: |
              Введенное слово отображено в поле поиска
              Справа в поле поиска есть крестик
              В зависимости от совпадений, результаты поиска разделены на категории - "Чаты" и "Сообщения"
        - do: Нажать на "Крестик" в поле поиска
        - assert: |
              Введенный текст в поле поиска был удален
              Результаты поиска были сброшены
              Открыт список чатов пользователя

    Результаты поиска скидываются по кнопке "ESC"[manual]:
        - automation:
        - description: |
              Авторизованы пользователем с привязанным номером телефона
              Данный тест-кейс не актуален для мобильного клиента
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: |
              Открывается список чатов
              Над списком чатов есть поле ввода с заполнителем "Поиск"
        - do: Кликнуть / тапнуть в поле ввода
        - assert: фокус курсора поместился в поле ввода
        - do: Ввести любое слово в поле поиска
        - assert: |
              Введенное слово отображено в поле поиска
              Справа в поле поиска есть крестик
              В зависимости от совпадений, результаты поиска разделены на категории - "Чаты" и "Сообщения"
        - do: Нажать на кнопку "ESC" на клавиатуре
        - assert: |
              Введенный текст в поле поиска был удален
              Результаты поиска были сброшены
              Открыт список чатов пользователя

    В окне поиска в секции "Сообщения" не показывается счетчик непрочитанных сообщений[manual]:
        - automation:
        - description: У авторизованного пользователя в списке чатов есть чат с непрочитанными сообщениями, в истории которого есть слово "Привет"
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: |
              Открывается список чатов
              Над списком чатов есть поле ввода с заполнителем "Поиск"
        - do: Кликнуть / тапнуть в поле ввода
        - assert: фокус курсора поместился в поле ввода
        - do: Ввести слово "Привет" в поле поиска
        - assert: |
              Введенное сслово отображается в поле поиска
              В секции "Сообщения" есть чат из description
              В превью чата не показывается счетчик непрочитанных сообщений

    В окне поиска в секции "Чаты" показывается счетчик непрочитанных сообщений[manual]:
        - automation:
        - description: У авторизованного пользователя в списке чатов есть чат с непрочитанными сообщениями
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: |
              Открывается список чатов
              Над списком чатов есть поле ввода с заполнителем "Поиск"
        - do: Кликнуть / тапнуть в поле ввода
        - assert: фокус курсора поместился в поле ввода
        - do: Ввести слово название чата из description в поле поиска
        - assert: |
              Введенное сслово отображается в поле поиска
              В секции "Чаты" есть чат из description
              В превью чата показывается счетчик непрочитанных сообщений

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
    - chamb
