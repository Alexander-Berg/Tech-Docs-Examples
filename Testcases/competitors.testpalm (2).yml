feature: Поиск в других системах

specs:
  в домене ru:
    - do: получить выдачу по запросу 'купить бетон'
    - do: опуститься в самый низ выдачи
    - assert: на выдаче присутствует блок поиска в других системах
    - screenshot: на выдаче присутствует блок поиска в других системах [competitors/default-35-{{PLATFORM}} >> plain]
    - assert: в блоке поиска в других системах 3 ссылки 'Bing', 'Google' и 'Mail.ru' (Если ваш регион Беларусь, у вас будет только два первых поисковика)
    - tech: проверить счётчик ссылки на Бинг
    - tech: проверить счётчик ссылки на Гугл
    - tech: проверить счётчик ссылки на Мэйл.ру
    - do: нажать на ссылку 'Bing'
    - assert: в новой вкладке открылся выбранный поисковик с таким же запросом
    - do: нажать на ссылку 'Google'
    - assert: в новой вкладке открылся выбранный поисковик с таким же запросом
    - do: нажать на ссылку 'Mail.ru'
    - assert: в новой вкладке открылся выбранный поисковик с таким же запросом
    - tech: внешний вид в очень старых телефонах  без svg для очень старых телефонов [competitors/default-35-{{PLATFORM}} >> nosvg]
  с семейным фильтром:
    - tags: no_assessors
    - do: получить выдачу по запросу 'test', в настройках выставить семейный фильтр
    - assert: внизу страницы есть блок поиска в других системах
    - assert: в блоке поиска в других системах - 2 ссылки
    - assert: текст ссылки на Бинг имеет вид 'Bing'
    - tech: проверить счётчик ссылки на Бинг
    - assert: урл ссылки на Бинг ведёт на безопасный поиск (содержит параметр 'adlt=strict')
    - assert: текст ссылки на Гугл имеет вид 'Google'
    - tech: проверить счётчик ссылки на Гугл
    - assert: урл ссылки на Гугл ведёт на безопасный поиск (содержит параметр 'safe=strict')
  на пустом запросе:
    в домене ru:
      - do: получить выдачу по пустому запросу
      - assert: блок поиска в других системах присутствует на выдаче
      - screenshot: такой блок (поиск в других системах) присутствует на выдаче [competitors/default-35-{{PLATFORM}} >> plain]
    с семейным фильтром:
      - tags: no_assessors
      - do: получить выдачу по пустому запросу '' (в настройках выставить семейный фильтр)
      - assert: блок поиска в других системах отсутствует

files:
  - hermione/test-suites/common/competitors.js
  - hermione/test-suites/touch-phone/competitors.hermione.js

tags:
  - othersystems
  - footer
  - smoke_extended
  - smart

v-team: Beauty

tlds: none
