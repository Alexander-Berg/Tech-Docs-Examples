feature: Страница печати

description: для перехода на страницу задачи вставьте номер задачи в адресе, пример формата номера T811, урл '/tutor/subject/problem/?problem_id=T811'

specs:
    Печать страницы варианта:
        beforeEach:
            - do: перейти по адресу /tutor/subject/variant/?variant_id=326&print=1
            - assert: открыта страница печати варианта
        Проверка внешнего вида заголовка:
            - screenshot: внешний вид заголовка [print-page-header]
            - screenshot: внешний вид навигации [print-page-breadcrumbs]
        Проверка внешнего вида контролов печати:
            - screenshot: внешний вид контролов печати [print-page-controls]
        Проверка отсутствия дублирующихся цитат:
            - screenshot: первое задание на странице [first]
            - screenshot: второе задание на странице [second]
        Задания:
          - tags: smoke
          - do: в первом селекте выбрать опцию "Задания"
          - assert: |
              опция "Задания" выбрана по умолчанию
              страница не обновилась
              в контенте печати отображены задания
          - screenshot: внешний вид контента для печати с заданиями [answer-task]
        Решения:
          - tags: smoke
          - do: в первом селекте выбрать опцию "Решения"
          - assert: |
              страница не обновилась
              в контенте печати отображены решения для заданий
          - screenshot: внешний вид контента для печати с решениями [answer-task]
        Ответы:
          - tags: smoke
          - do: в первом селекте выбрать опцию "Ответы"
          - assert: |
              страница не обновилась
              в контенте печати отображены ответы для заданий
          - screenshot: внешний вид контента для печати с ответами [answer-task]
        Справочные материалы [manual]:
          - automation: YOUNGLINGS-2902
          - do: в первом селекте выбрать опцию "Справочные материалы"
          - assert: |
              страница не обновилась
              в контенте печати отображены справочные материалы по предмету
          - screenshot: внешний вид контента для печати с справочными материалами [answer-task]
        Кнопка Печать [manual]:
            - automation: YOUNGLINGS-2902
            - do: кликнуть по кнопке "Печать"
            - assert: |
                открыто активное браузерное окно печати страницы
    Печать страницы топика:
        Проверка внешнего вида заголовка:
            - tags: smoke
            - do: перейти по адресу /tutor/subject/tag/problems/?ege_number_id=361&print=1&tag_id=19
            - assert: открыта страница печати указанного топика
            - screenshot: внешний вид заголовка [todo print-tag-controls] # FRONTEND-753
    Печать страницы задачи:
        Задача с картинкой:
            - tags: smoke
            - do: перейти на страницу задачи "T811"
            - do: нажать кнопку "Версия для печати"
            - assert: открылась страница печати задачи с картинкой
            - screenshot: внешний вид страницы печати задачи с картинкой [picture-task]
        Задача с таблицей:
            - tags: smoke
            - do: перейти на страницу задачи "T12"
            - do: нажать кнопку "Версия для печати"
            - assert: открылась страница печати задачи с таблицей
            - screenshot: внешний вид страницы печати задачи с таблицей [table-task]
        Задача с блоком кода с табуляцией:
            - tags: smoke
            - do: перейти на страницу задачи "T4819"
            - do: нажать кнопку "Версия для печати"
            - assert: открылась страница печати задачи с блоком кода
            - screenshot: внешний вид страницы печати задачи с блоком кода с табуляцией [tabs-task]
        Задача с блоком кода:
            - tags: smoke
            - do: перейти на страницу задачи "T787"
            - do: нажать кнопку "Версия для печати"
            - assert: открылась страница печати задачи с блоком кода
            - screenshot: внешний вид страницы печати задачи с блоком кода [code-task]
        Задача с блоком текста - >500 символов:
            - do: перейти на страницу задачи "T381"
            - do: нажать кнопку "Версия для печати"
            - assert: открылась страница печати задачи с блоком текста
            - assert: весь текст задачи целиком отображен
            - screenshot: внешний вид страницы печати задачи с блоком текста >500 символов [long-text-task]
        Задача с блоком текста - <500 символов:
            - tags: smoke
            - do: перейти на страницу задачи "T398"
            - do: нажать кнопку "Версия для печати"
            - assert: открылась страница печати задачи с блоком текста
            - assert: весь текст задачи целиком отображен
            - screenshot: внешний вид страницы печати задачи с блоком текста <500 символов [short-text-task]
        Задача со списками:
            - tags: smoke
            - do: перейти на страницу задачи "T388"
            - do: нажать кнопку "Версия для печати"
            - assert: открылась страница печати задачи с списками
            - screenshot: внешний вид страницы печати задачи с списками [lists-task]
        Задача с нумерованым списком:
            - tags: smoke
            - do: перейти на страницу задачи "T72"
            - do: нажать кнопку "Версия для печати"
            - assert: открылась страница печати задачи с нумерованным списком
            - screenshot: внешний вид страницы печати задачи с нумерованным списком [ordered-list-task]
        Задача со списком:
            - tags: smoke
            - do: перейти на страницу задачи "T608"
            - do: нажать кнопку "Версия для печати"
            - assert: открылась страница печати задачи с списком
            - screenshot: внешний вид страницы печати задачи с списком [list-task]
        Печать "Задания":
          - tags: smoke
          - do: в первом селекте выбрать опцию "Задания"
          - assert: |
              опция "Задания" выбрана по умолчанию
              страница не обновилась
              в контенте печати отображены задания
          - screenshot: внешний вид контента для печати с заданиями [answer-task]
        Печать "Решения":
          - tags: smoke
          - do: в первом селекте выбрать опцию "Решения"
          - assert: |
              страница не обновилась
              в контенте печати отображены решения для заданий
          - screenshot: внешний вид контента для печати с решениями [answer-task]
        Печать "Ответы":
          - tags: smoke
          - do: в первом селекте выбрать опцию "Ответы"
          - assert: |
              страница не обновилась
              в контенте печати отображены ответы для заданий
          - screenshot: внешний вид контента для печати с ответами [answer-task]
        Печать "Справочные материалы":
          - do: в первом селекте выбрать опцию "Справочные материалы"
          - assert: |
              страница не обновилась
              в контенте печати отображены справочные материалы по предмету
    Опции печати:
        beforeEach:
            - do: перейти на страницу печати любого варианта по предмету Математика Профильный уровень ЕГЭ
            - assert: открыта страница печати варианта

    Загрузка pdf:
        Генерация вертикальной разметки:
            - tags: smoke
            - do: перейти на страницу печати по любому предмету
            - do: нажать на кнопку "PDF"
            - assert: |
                под кнопками появилась полоса загрузки
                селект ориентации стал неактивным
                через несколько секунд открылся pdf файл с заданиями в той же вкладке в горизонтальной ориентации
        Генерация горизонтальной разметки:
            - tags: smoke
            - do: кликнуть в селект "Задания" и выбрать "Решения"
            - do: кликнуть в селект "Альбомная ориентация" и выбрать "Книжная ориентация"
            - do: нажать на кнопку "PDF"
            - assert: |
                под кнопками появилась полоса загрузки
                селект ориентации стал неактивным
                через несколько секунд открылся pdf файл с решениями в той же вкладке в вертикальной ориентации

v-team: Younglings

qa-engineer:
    - helm

platform:
    - desktop

tags:
    - edu-front
    - print-page

files:
    - tests/hermione/suites/desktop/print-page/print-page.hermione.js
