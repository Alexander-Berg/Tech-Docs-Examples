feature: Работа параметра unreadCounterChatId и unreadCounterOtherGuid

specs:

      Корректно работает параметр unreadCounterChatId когда в чате нет непрочитанных сообщений[manual]:
        - automation:
        - description: |
              Перед началом тестирования после открытия тестового стенда необходимо нажать кнопку "Сбросить конфиг"
              Авторизованы в мессенджере пользователем у которого есть групповой чат в котором нет непрочитанных сообщений
              Важно, chatId нужно копировать в формате - 0/1/19e00b03-371c-4380-8d1d-c2da6748abb8
        - do: Запустить тестовый стенд виджета
        - assert: Открыт тестовый стенд виджета
        - do: В тестовом стенде виджета выбрать сборку - Сервисы Яндекса
        - assert: Была выбрана нужная сборка
        - do: Нажать на кнопку "Сбросить конфиг"
        - do: Нажать на кнопку с виджетом
        - assert: Открывается виджет с чатами
        - do: Открыть чат из description
        - assert: Открыто окно чата
        - do: Вернуться на список чатов
        - assert: Открыт список чатов
        - do: Закрыть виджет ннажав на крестик  в шапке
        - assert: Виджет с чатами  был закрыт
        - do: Найти в тестовом стенде раздел **События** и скопировать оттуда последний chatId который отобразился в этом разделе (это будет chatId ранее открываемого Вами чата)
        - do: Найти параметр **unreadCounterChatId** в блоке "Параметры конструткора
        - assert: В данном параметре по умолчанию ничего не введено
        - do: В параметр unreadCounterChatId вставить ранее скопированный chatId
        - assert: |
              chatId был вставлен
              В разделе **События** появилась запись type:"unreadCounterChange" в которой есть интересующие нас значения value - **количество всех непрочитанных сообщений во всех чатах пользователя** и valueForChat - 0
        - do: Нажать на кнопку виджета и открыть любой чат
        - assert: |
              Открыто окно чата
              В разделе **События** появилась запись type:"unreadCounterChange" в которой есть интересующие нас значения value - **количество всех непрочитанных сообщений во всех чатах пользователя** и valueForChat - 0

      Корректно работает параметр unreadCounterChatId когда в чате есть непрочитанных сообщений[manual]:
        - automation:
        - description: |
              Перед началом тестирования после открытия тестового стенда необходимо нажать кнопку "Сбросить конфиг"
              Авторизованы в мессенджере пользователем у которого есть групповой чат в котором есть непрочитанных сообщения (больше 20, чтобы при октрытии чата все сообщения сразу не прочитывались)
              Важно, chatId нужно копировать в формате - 0/1/19e00b03-371c-4380-8d1d-c2da6748abb8
        - do: Запустить тестовый стенд виджета
        - assert: Открыт тестовый стенд виджета
        - do: В тестовом стенде виджета выбрать сборку - Сервисы Яндекса
        - assert: Была выбрана нужная сборка
        - do: Нажать на кнопку "Сбросить конфиг"
        - do: Нажать на кнопку с виджетом
        - assert: Открывается виджет с чатами
        - do: Открыть чат из description и не прочитывать оставшиеся непрочитанные  сообщения
        - assert: Открыто окно чата
        - do: Вернуться на список чатов
        - assert: Открыт список чатов
        - do: Закрыть виджет ннажав на крестик  в шапке
        - assert: Виджет с чатами  был закрыт
        - do: Найти в тестовом стенде раздел **События** и скопировать оттуда последний chatId который отобразился в этом разделе (это будет chatId ранее открываемого Вами чата)
        - do: Найти параметр **unreadCounterChatId** в блоке "Параметры конструткора
        - assert: В данном параметре по умолчанию ничего не введено
        - do: В параметр unreadCounterChatId вставить ранее скопированный chatId
        - assert: |
              chatId был вставлен
              В разделе **События** появилась запись type:"unreadCounterChange" в которой есть интересующие нас значения value - **количество всех непрочитанных сообщений во всех чатах пользователя** и **valueForChat - количество непрочитанных сообщений в чате из description**

      Корректно работает параметр unreadCounterChatId когда в чате есть непрочитанных сообщений и при прочтении их[manual]:
        - automation:
        - description: |
              Перед началом тестирования после открытия тестового стенда необходимо нажать кнопку "Сбросить конфиг"
              Авторизованы в мессенджере пользователем у которого есть групповой чат в котором есть непрочитанных сообщения (больше 40, чтобы при октрытии чата все сообщения сразу не прочитывались)
              Важно, chatId нужно копировать в формате - 0/1/19e00b03-371c-4380-8d1d-c2da6748abb8
        - do: Запустить тестовый стенд виджета
        - assert: Открыт тестовый стенд виджета
        - do: В тестовом стенде виджета выбрать сборку - Сервисы Яндекса
        - assert: Была выбрана нужная сборка
        - do: Нажать на кнопку "Сбросить конфиг"
        - do: Нажать на кнопку с виджетом
        - assert: Открывается виджет с чатами
        - do: Открыть чат из description и не прочитывать оставшиеся непрочитанные  сообщения
        - assert: Открыто окно чата
        - do: Вернуться на список чатов
        - assert: Открыт список чатов
        - do: Закрыть виджет ннажав на крестик  в шапке
        - assert: Виджет с чатами  был закрыт
        - do: Найти в тестовом стенде раздел **События** и скопировать оттуда последний chatId который отобразился в этом разделе (это будет chatId ранее открываемого Вами чата)
        - do: Найти параметр **unreadCounterChatId** в блоке "Параметры конструткора
        - assert: В данном параметре по умолчанию ничего не введено
        - do: В параметр unreadCounterChatId вставить ранее скопированный chatId
        - assert: |
              chatId был вставлен
              В разделе **События** появилась запись type:"unreadCounterChange" в которой есть интересующие нас значения value - **количество всех непрочитанных сообщений во всех чатах пользователя** и **valueForChat - количество непрочитанных сообщений в чате из description**
        - do: Нажать на кнопку виджета и открыть чат из description и прочитать несколько сообщений
        - assert: |
              Открыто окно чата
              В разделе **События** появилась запись type:"unreadCounterChange" в которой есть интересующие нас значения value - **количество всех непрочитанных сообщений во всех чатах пользователя** и **valueForChat - количество непрочитанных сообщений в чате из description** (эти значения будут изменены на число уже прочитанных сообщений в этом чате)

      Корректно работает параметр unreadCounterChatId когда у пользователя нет непрочитанных сообщений[manual]:
        - automation:
        - description: |
              Перед началом тестирования после открытия тестового стенда необходимо нажать кнопку "Сбросить конфиг"
              Авторизованы в мессенджере пользователем у которого нет непрочитанных сообщений
              Важно, chatId нужно копировать в формате - 0/1/19e00b03-371c-4380-8d1d-c2da6748abb8
        - do: Запустить тестовый стенд виджета
        - assert: Открыт тестовый стенд виджета
        - do: В тестовом стенде виджета выбрать сборку - Сервисы Яндекса
        - assert: Была выбрана нужная сборка
        - do: Нажать на кнопку "Сбросить конфиг"
        - do: Нажать на кнопку с виджетом
        - assert: Открывается виджет с чатами
        - do: Открыть чат из description
        - assert: Открыто окно чата
        - do: Вернуться на список чатов
        - assert: Открыт список чатов
        - do: Закрыть виджет ннажав на крестик  в шапке
        - assert: Виджет с чатами  был закрыт
        - do: Найти в тестовом стенде раздел **События** и скопировать оттуда последний chatId который отобразился в этом разделе (это будет chatId ранее открываемого Вами чата)
        - do: Найти параметр **unreadCounterChatId** в блоке "Параметры конструткора
        - assert: В данном параметре по умолчанию ничего не введено
        - do: В параметр unreadCounterChatId вставить ранее скопированный chatId
        - assert: |
              chatId был вставлен
              В разделе **События** появилась запись type:"unreadCounterChange" в которой есть интересующие нас значения value - 0 и valueForChat - 0
        - do: Нажать на кнопку виджета и открыть любой чат
        - assert: |
              Открыто окно чата
              В разделе **События** появилась запись type:"unreadCounterChange" в которой есть интересующие нас значения value - 0 и valueForChat - 0

      Корректно работает параметр unreadCounterOtherGuid когда в чате нет непрочитанных сообщений[manual]:
        - automation:
        - description: |
              Перед началом тестирования после открытия тестового стенда необходимо нажать кнопку "Сбросить конфиг"
              Авторизованы в мессенджере пользователем у которого есть приватный чат (чат 1 на 1 с другим пользователем) в котором нет непрочитанных сообщений
              Важно, guid нужно копировать в формате - 94283279-b06d-45f9-b5fe-340e85af77bf
        - do: Запустить тестовый стенд виджета
        - assert: Открыт тестовый стенд виджета
        - do: В тестовом стенде виджета выбрать сборку - Сервисы Яндекса
        - assert: Была выбрана нужная сборка
        - do: Нажать на кнопку "Сбросить конфиг"
        - do: Нажать на кнопку с виджетом
        - assert: Открывается виджет с чатами
        - do: Открыть чат из description
        - assert: Открыто окно чата
        - do: Вернуться на список чатов
        - assert: Открыт список чатов
        - do: Закрыть виджет ннажав на крестик  в шапке
        - assert: Виджет с чатами  был закрыт
        - do: Найти в тестовом стенде раздел **События** и скопировать оттуда последний guid который отобразился в этом разделе (это будет guid ранее открываемого Вами чата)
        - do: Найти параметр **unreadCounterOtherGuid** в блоке "Параметры конструткора
        - assert: В данном параметре по умолчанию ничего не введено
        - do: В параметр unreadCounterOtherGuid вставить ранее скопированный guid
        - assert: |
              guid был вставлен
              В разделе **События** появилась запись type:"unreadCounterChange" в которой есть интересующие нас значения value - 0 и valueForChat - 0
        - do: Нажать на кнопку виджета и открыть любой чат
        - assert: |
              Открыто окно чата
              В разделе **События** появилась запись type:"unreadCounterChange" в которой есть интересующие нас значения value - 0 и valueForChat - 0

      Корректно работает параметр unreadCounterOtherGuid когда в чате есть непрочитанных сообщений[manual]:
        - automation:
        - description: |
              Перед началом тестирования после открытия тестового стенда необходимо нажать кнопку "Сбросить конфиг"
              Авторизованы в мессенджере пользователем у которого есть приватный чат в котором есть непрочитанных сообщения (больше 20, чтобы при октрытии чата все сообщения сразу не прочитывались)
              Важно, guid нужно копировать в формате - 94283279-b06d-45f9-b5fe-340e85af77bf
        - do: Запустить тестовый стенд виджета
        - assert: Открыт тестовый стенд виджета
        - do: В тестовом стенде виджета выбрать сборку - Сервисы Яндекса
        - assert: Была выбрана нужная сборка
        - do: Нажать на кнопку "Сбросить конфиг"
        - do: Нажать на кнопку с виджетом
        - assert: Открывается виджет с чатами
        - do: Открыть чат из description и не прочитывать оставшиеся непрочитанные  сообщения
        - assert: Открыто окно чата
        - do: Вернуться на список чатов
        - assert: Открыт список чатов
        - do: Закрыть виджет ннажав на крестик  в шапке
        - assert: Виджет с чатами  был закрыт
        - do: Найти в тестовом стенде раздел **События** и скопировать оттуда последний guid который отобразился в этом разделе (это будет guid ранее открываемого Вами чата)
        - do: Найти параметр **unreadCounterOtherGuid** в блоке "Параметры конструткора
        - assert: В данном параметре по умолчанию ничего не введено
        - do: В параметр unreadCounterOtherGuid вставить ранее скопированный guid
        - assert: |
              guid был вставлен
              В разделе **События** появилась запись type:"unreadCounterChange" в которой есть интересующие нас значения value - **количество непрочитанных сообщений в чате из description** и **valueForChat - 0**

      Корректно работает параметр unreadCounterOtherGuid когда в чате есть непрочитанных сообщений и при прочтении их[manual]:
        - automation:
        - description: |
              Перед началом тестирования после открытия тестового стенда необходимо нажать кнопку "Сбросить конфиг"
              Авторизованы в мессенджере пользователем у которого есть приватный чат в котором есть непрочитанных сообщения (больше 40, чтобы при октрытии чата все сообщения сразу не прочитывались)
              Важно, guid нужно копировать в формате - 94283279-b06d-45f9-b5fe-340e85af77bf
        - do: Запустить тестовый стенд виджета
        - assert: Открыт тестовый стенд виджета
        - do: В тестовом стенде виджета выбрать сборку - Сервисы Яндекса
        - assert: Была выбрана нужная сборка
        - do: Нажать на кнопку "Сбросить конфиг"
        - do: Нажать на кнопку с виджетом
        - assert: Открывается виджет с чатами
        - do: Открыть чат из description и не прочитывать оставшиеся непрочитанные  сообщения
        - assert: Открыто окно чата
        - do: Вернуться на список чатов
        - assert: Открыт список чатов
        - do: Закрыть виджет ннажав на крестик  в шапке
        - assert: Виджет с чатами  был закрыт
        - do: Найти в тестовом стенде раздел **События** и скопировать оттуда последний guid который отобразился в этом разделе (это будет guid ранее открываемого Вами чата)
        - do: Найти параметр **unreadCounterOtherGuid** в блоке "Параметры конструткора
        - assert: В данном параметре по умолчанию ничего не введено
        - do: В параметр unreadCounterOtherGuid вставить ранее скопированный guid
        - assert: |
              guid был вставлен
              В разделе **События** появилась запись type:"unreadCounterChange" в которой есть интересующие нас значения value - **количество непрочитанных сообщений в чате из description** и **valueForChat - 0**
        - do: Нажать на кнопку виджета и открыть чат из description и прочитать несколько сообщений
        - assert: |
              Открыто окно чата
              В разделе **События** появилась запись type:"unreadCounterChange" в которой есть интересующие нас значения value - **количество непрочитанных сообщений в чате из description** (эти значения будут изменены на число уже прочитанных сообщений в этом чате) и valueForChat - 0

      Корректно работает параметр unreadCounterOtherGuid когда у пользователя нет непрочитанных сообщений[manual]:
        - automation:
        - description: |
              Перед началом тестирования после открытия тестового стенда необходимо нажать кнопку "Сбросить конфиг"
              Авторизованы в мессенджере пользователем у которого нет непрочитанных сообщений
              Авторизованы в мессенджере пользователем у которого есть приватный чат
              Важно, guid нужно копировать в формате - 94283279-b06d-45f9-b5fe-340e85af77bf
        - do: Запустить тестовый стенд виджета
        - assert: Открыт тестовый стенд виджета
        - do: В тестовом стенде виджета выбрать сборку - Сервисы Яндекса
        - assert: Была выбрана нужная сборка
        - do: Нажать на кнопку "Сбросить конфиг"
        - do: Нажать на кнопку с виджетом
        - assert: Открывается виджет с чатами
        - do: Открыть чат из description
        - assert: Открыто окно чата
        - do: Вернуться на список чатов
        - assert: Открыт список чатов
        - do: Закрыть виджет ннажав на крестик  в шапке
        - assert: Виджет с чатами  был закрыт
        - do: Найти в тестовом стенде раздел **События** и скопировать оттуда последний guid который отобразился в этом разделе (это будет guid ранее открываемого Вами чата)
        - do: Найти параметр **unreadCounterOtherGuid** в блоке "Параметры конструткора
        - assert: В данном параметре по умолчанию ничего не введено
        - do: В параметр unreadCounterOtherGuid вставить ранее скопированный guid
        - assert: |
              guid был вставлен
              В разделе **События** появилась запись type:"unreadCounterChange" в которой есть интересующие нас значения value - 0 и valueForChat - 0
        - do: Нажать на кнопку виджета и открыть любой чат
        - assert: |
              Открыто окно чата
              В разделе **События** появилась запись type:"unreadCounterChange" в которой есть интересующие нас значения value - 0 и valueForChat - 0

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
    - chamb

