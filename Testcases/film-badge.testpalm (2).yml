feature: Объектный ответ
type: Карточка фильма
counter: /$page/$parallel/$result[@wizard_name="entity_search"]/tabs/main/object-badge/trailer

specs:
  Эфекты при наведении курсора:
    - do: получить выдачу по запросу 'на западном фронте без перемен фильм 1979' (альтернативные запросы 'игра в кальмара', 'красное уведомление фильм')
    - assert: отображается карточка объектного ответа в правой колонке
    - do: навести курсор на тумбу Видео
    - screenshot: пример вида ховера на тумбе Видео [film]
    - assert: тумба затемнилась, значок проигрыша ролика стал крупнее
    - do: навести курсор на Постер рядом с тумбой Видео
    - screenshot: пример вида ховера на постере [poster]
    - assert: постер затемнился
    - assertMetrics: '*'
  Широкая тумба Видео и Постер при изменении рамера экрана:
    - do: получить выдачу по запросу 'я снова я и ирен' (альтернативные запросы 'до смерти красива', 'запретная зона')
    - assert: появилась карточка объектного ответа
    - do: установить размер экрана 1230x1200
    - screenshot: пример внешнего вида [cols-10]
    - assert: размеры тумб Видео и Постера изменились
    - do: установить размер экрана 1130x1200
    - screenshot: пример внешнего вида [cols-8]
    - assert: размеры тумб Видео и Постера изменились
    - do: установить размер экрана 1030x1200
    - screenshot: пример внешнего вида [cols-6]
    - assert: размеры тумб Видео и Постера изменились
    - assertMetrics: '*'
  Кнопки под тумбой Видео:
    - tags:
        - smoke_extended
    - do: получить выдачу по запросу 'я снова я и ирен' (альтернативные запросы 'до смерти красива', 'запретная зона')
    - assert: |
        появилась карточка объектного ответа в правой колонке
        под тумбой Видео есть кнопка 'Кадры из фильма'
    - do: нажать на кнопку 'Кадры из фильма'
    - assert: открывается страница Кинопоиска с кадрами из фильма
    - assertMetrics: '*'
  Кнопки под тумбой Трейлера:
    - tags: [no_assessors]
    - params:
        foreverdata: '3406404779'
    - do: получить выдачу по запросу 'foreverdata'
    - assert: |
        появилась карточка объектного ответа
        под тумбой Трейлера есть кнопка 'Кадры из фильма'
    - do: нажать на кнопку 'Кадры из фильма'
    - assert: открывается страница Кинопоиска с кадрами из фильма
    - assertMetrics: '*'

  Без галлереи:
    - do: разлогиниться
    - do: получить выдачу по запросу 'Всё везде и сразу' (альтернативные запросы 'миллиарды', 'теория большого взрыва')
    - assert: |
        должен появиться Объектный ответ
        должна быть тумба покупки фильма
    - screenshot: внешний вид [no-gallery]
    - assertMetrics: '*'
  Кнопки под тумбой трейлера адаптивность:
    - do: авторизоваться на портале Яндекс с логином 'yndx-lego-test-user01' и паролем 'Z9yx.6v0Q'
    - do: получить выдачу по запросу 'довод'
    - assert: должна появиться карточка фильма
    - do: установить размер экрана 1230x1200
    - screenshot: пример внешнего вида [col-10]
    - assert: ширина блока изменилась, кнопки под тумбой адаптровались
    - do: установить размер экрана 1130x1200
    - screenshot: пример внешнего вида [col-8]
    - assert: ширина блока изменилась, кнопки под тумбой адаптровались
    - do: установить размер экрана 1030x1200
    - screenshot: пример внешнего вида [col-6]
    - assert: ширина блока изменилась, кнопки под тумбой адаптровались
    - assertMetrics: '*'

files:
  - features/desktop/z-entity-search/film-badge/film-badge.hermione.js

v-team: Video

priority: minor

tags:
  - oo_film

tlds: ['ru', 'ua', 'by', 'kz', 'com.tr']
