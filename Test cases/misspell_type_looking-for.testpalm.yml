feature: Опечатка и Ко
type: Быть может вы искали

specs:
  Базовое поведение:
    - do: получить выдачу по запросу "шипито"
    - screenshot: внешний вид [looking-for]
    - assert: получена выдача по заданному запросу
    - assert: перед выдачей присутствует сообщение "Быть может, вы искали «шапито»?"
    - assert: текст "шапито" является гиперссылкой
    - assert: гиперссылка "шапито" ведет на выдачу по исправленному запросу
    - do: нажать на ссылку "шапито"
    - assert: выдача обновилась
    - assert: отображается выдача по запросу "шапито"
    - tech: сработал счетчик '/$page/$main/misspell/type_misspell_source/correct'
    - assertMetrics: '*'

specs-integration:
  Базовое поведение:
    - do: получить выдачу по запросу "корован"
    - assert: на выдаче присутствует опечаточник с сообщением "Быть может, вы искали «караван»?"
    - do: нажать на ссылку "караван"
    - assert: выдача обновилась
    - assert: на выдаче отсутствует сообщение "Быть может, вы искали «караван»?"
    - assert: в url'e страницы в адресной строке присутствует параметр &msp=1 (в поисковом приложении этот параметр отсутствует, это не является ошибкой)
    - tech: сработал счетчик '/$page/$main/misspell/type_misspell_source/correct'

files:
  - features/common/misspell/misspell_type_looking-for.hermione.js
  - features/common/misspell/misspell_type_looking-for.hermione.e2e.js

v-team: Freshness

tags:
  - yaani
  - searchapp
  - wtp_button
  - touch
  - wtp_ajax
  - ajax
  - mgranny
  - smart
  - button
  - granny
  - meta
  - spok_id
  - wizard
  - misprint
  - reviewed

priority: high

counter: /$page/$main/misspell/type_misspell_source

tlds:
  - ru
  - by
  - ua
  - kz
  - uz
