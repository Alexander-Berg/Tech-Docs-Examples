feature: Страница команды сервиса Я.Спорт

description: Страница команды позволяет просматривать информацию о прошедших и предстоящих матчах и турнирах команды.

specs-integration:
  открывается из матч-центра:
    - tags: 
      - backend_sport
    - do: открыть рубрику "Главное"
    - assert: отображается главная страница сервиса Спорт
    - do: кликнуть на наименование любого матча в матч-центре
    - assert: по клику происходит переход на страницу матча
    - do: кликнуть на название любой команды в открывшемся матче
    - assert: |
          при ховере наименование команды прокрасилось в красный,
          по клику открылась страница команды

specs:
  aliases:
    &goTo
      - do: открыть страницу футбольной команды https://yandex.ru/sport/team/79727
      - assert: |
            отображается виджет календаря, который содержит - дату матча, выпадушку со всеми турнирами, наименования команд матча, счет, логотип команд матча,
            каждый матч содержит команду, на странице которой мы находимся ("Лестер Сити"),
            внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-04-27_16-43-10.png

  открывается со страницы матча:
    - do: открыть страницу матча https://yandex.ru/sport/event/m528698
    - do: тапнуть по названию любой команды в открывшемся матче
    - assert: открылась страница команды

  содержит основные элементы для футбольной команды:
    - tags: 
      - backend_sport
    - do: открыть страницу футбольной команды https://yandex.ru/sport/team/79727
    - assert: |
          страница содержит основные элементы - выпадушка наименований турниров, сезоны, календарь и турнирная таблица,
          внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-04-27_16-42-30.png

  содержит кнопку "Показать еще" на странице футбольной команды:
    - tags: 
      - backend_sport
    - *goTo
    - do: промотать ниже виджета календаря
    - assert: под календарем отображается лента новостей
    - do: проскролить наверх страницы к виджету календаря и нажать кнопку "Показать еще" (если нет кнопки "Показать еще" - нужно выбрать в виджете календаря месяц ранее) - https://jing.yandex-team.ru/files/kossakovskaya/2021-04-27_16-43-34.png
    - assert: |
          по клику подгрузился список матчей,
          в списке матчей могут быть как завершенные, так и будущие (для будущих указано время начала вместо счета матча - https://jing.yandex-team.ru/files/kossakovskaya/2021-04-27_16-44-12.png)
    - do: промотать в начало страницы и во вкладке календаря выбрать любую другую дату https://jing.yandex-team.ru/files/weberxks/Screen%20Shot%202022-06-27%20at%2013.29.33.png
    - assert: |
          в выпадушке отображается та дата, которую вы выбрали,
          в виджете подгрузился список матчей за месяц
    - do: нажать кнопку "Показать еще" несколько раз
    - assert: после клика подгружается пачка матчей
    - do: в списке чемпионатов выбрать "Чемпионат Англии"
    - assert: |
          в списке матчей отображаются только матчи выбранного чемпионата,
          ранее выбранная дата в календаре не сбросилась,
          внешний вид - https://jing.yandex-team.ru/files/weberxks/Screen%20Shot%202022-06-27%20at%2013.31.44.png ,
          обратите внимание! если матчей не найдено - это ок, заводить баг на такое не нужно! выберите другую дату в календаре
    - do: нажать на кнопку "Показать еще"
    - assert: |
          подгрузились остальные матчи данного чемпионата, если они есть (могут не подгрузиться, если в ответ на запрос прийдет пустой ответ)

  отображает пустой виджет календаря при отсутствии матчей на странице футбольной команды:
    - tags: 
      - backend_sport
    - do: открыть страницу футбольной команды https://yandex.ru/sport/team/85895
    - assert: |
          отображается виджет календаря, который содержит - дату матча, выпадушку со всеми турнирами, наименования команд матча, счет, логотип команд матча,
          каждый матч содержит команду, на странице которой мы находимся ("Чонбук Хендэ Моторс"),
          внешний вид - https://jing.yandex-team.ru/files/weberxks/Screen%20Shot%202022-06-27%20at%2014.31.38.png
    - do: в выпадушке месяц/год выбрать "Ноябрь, 2022"
    - assert: |
          отобразилась заглушка о том, что событий не найдено,
          внешний вид - https://jing.yandex-team.ru/files/weberxks/Screen%20Shot%202022-06-27%20at%2014.32.30.png
    - do: выбрать другую дату, например, "Апрель, 2021"
    - assert: |
          матчи прогрузились корректно,
          при клике на "Показать еще" матчи подгружаются

  содержит основные элементы турнирной таблицы для футбольной команды:
    - tags: 
      - backend_sport
    - *goTo
    - do: кликнуть по вкладке "Турнирная таблица"
    - assert: |
          отобразилась турнирная страница, которая содержит элементы - место, логотип и наименование команды, кол-во игр, сколько из них выиграно, ничья и проиграно, столбец разницы голов и очки,
          внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-04-27_16-49-20.png ,
          Обратите внимание! если вместо данных у вас отображается заглушка о том, что "Таблица турнира не найдена" - выбирете любой турнир из выпадушки, в котором придут данные  - https://jing.yandex-team.ru/files/kossakovskaya/2021-09-07_16-07-50.png ,
          обратите внимание - 2! для турнира "Суперкубок Англии" нет таблицы, так как это матч по сути. поэтому, если вы выберете его и у вас ничего не отобразится - это ок, заводить на такое баг не нужно!
    - do: проскролить таблицу вправо-влево
    - assert: отображаются все столбцы таблицы корректно
    - do: пролистать до конца таблицы
    - assert: отобразилась лента новостей
    - do: промотать к началу турнирной таблицы и кликнуть по наименованию любой команды
    - assert: открылась страница выбранной команды

  отображает данные футбольной турнирной таблицы в зависимости от выбранного периода:
    - tags: 
      - backend_sport
    - *goTo
    - do: кликнуть по вкладке "Турнирная таблица"
    - assert: |
          отобразилась турнирная страница, которая содержит элементы - место, логотип и наименование команды, кол-во игр, сколько из них выиграно, ничья и проиграно, столбец разницы голов и очки,
          внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-04-27_16-49-20.png ,
          Обратите внимание! если вместо данных у вас отображается заглушка о том, что "Таблица турнира не найдена" - выберите любой турнир из выпадушки, в котором придут данные  - https://jing.yandex-team.ru/files/kossakovskaya/2021-09-07_16-07-50.png ,
          обратите внимание - 2! для турнира "Кубок Англии" нет таблицы, так как это матч по сути. поэтому, если вы выберите его и у вас ничего не отобразится - это ок, заводить на такое баг не нужно!
    - do: выбрать любой другой сезон в выпадушке сезонов - https://jing.yandex-team.ru/files/kossakovskaya/2021-04-27_16-51-00.png
    - assert: |
          в выпадушке отобразился выбранный сезон,
          список команд в турнирной таблице изменился
    - do: в выпадушке сезонов выбрать 2020-21, в выпадушке турниров выбрать "Лига Европы"
    - assert: |
          в выпадушках отображаются выбранные значения,
          турнирная таблица содержит значения по группам (A-L),
          внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-04-27_16-51-28.png
    - do: в выпадушке турниров выбрать "Кубок Англии"
    - assert: |
          отобразилось уведомление о том, что таблица турнира не найдена,
          внешний вид для выбранного турнира - https://jing.yandex-team.ru/files/weberxks/Screen%20Shot%202022-06-27%20at%2014.42.54.png ,
          под виджетом отображается лента новостей

  отображает основные элементы турнирной таблицы хоккейной команды:
    - tags: 
      - backend_sport
    - do: открыть страницу хоккейной команды https://yandex.ru/sport/team/80824
    - assert: |
          отображается виджет календаря, который содержит - дату матча, выпадушку со всеми турнирами, наименования команд матча , счет, видео (если есть), логотип команд матча,
          каждый матч содержит команду, на странице которой мы находимся ("Нешвилл Предаторз"),
          внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-04-27_16-55-25.png ,
          обратите внимание! Если матчей не найдено - выставьте в выпадушке другой месяц
    - do: кликнуть по вкладке "Турнирная таблица"
    - assert: |
          отобразилась турнирная страница, которая содержит элементы - место, логотип и наименование команды, количественные значения столбцов, тумблеры дивизионов,
          внешний вид - https://jing.yandex-team.ru/files/nightsonne/2021-11-09_17-50-35.png ,
          Обратите внимание! если вместо данных у вас отображается заглушка о том, что "Таблица турнира не найдена" - выбирете любой турнир из выпадушки, в котором придут данные  - https://jing.yandex-team.ru/files/kossakovskaya/2021-09-07_16-07-50.png
    - do: прослистать страницу ниже виджета таблицы
    - assert: отобразилась лента новостей
    - do: проскролить страницу вверх и прокликать тумблеры дивизионов - "Атлантический", "Центральный", "Метрополитан", "Тихоокеанский"
    - assert: данные таблицы меняются при смене дивизиона
    - do: кликнуть по наименованию любой команды
    - assert: открылась страница выбранной команды

  отображает данные турнирной таблицы хоккейной команды в зависимости от выбранного периода:
    - tags: 
      - backend_sport
    - do: открыть страницу хоккейной команды https://yandex.ru/sport/team/80824
    - assert: |
          отображается виджет календаря, который содержит - дату матча, выпадушку со всеми турнирами, наименования команд матча , счет, видео (если есть), логотип команд матча,
          каждый матч содержит команду, на странице которой мы находимся ("Нешвилл Предаторз"),
          внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-04-27_16-55-25.png ,
          обратите внимание! Если матчей не найдено - выставьте в выпадушке другой месяц
    - do: кликнуть по вкладке "Турнирная таблица"
    - assert: |
          отобразилась турнирная страница, которая содержит элементы - место, логотип и наименование команды, количественные значения столбцов, тумблеры дивизионов,
          внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-09-16_17-15-11.png ,
          Обратите внимание! если вместо данных у вас отображается заглушка о том, что "Таблица турнира не найдена" - выбирете любой турнир из выпадушки, в котором придут данные  - https://jing.yandex-team.ru/files/weberxks/Screen%20Shot%202022-06-27%20at%2016.18.44.png
    - do: выбрать любой другой сезон в выпадушке сезонов - https://jing.yandex-team.ru/files/kossakovskaya/2021-04-27_16-57-50.png
    - assert: |
          в выпадушке отобразился выбранный сезон,
          список команд в турнирной таблице изменился,
          список девизионов также может смениться - https://jing.yandex-team.ru/files/kossakovskaya/2021-04-27_16-58-06.png
    - do: в выпадушке турниров выбрать "НХЛ"
    - assert: |
          в выпадушках отображаются выбранные значения,
          содержимое турнирной таблицы не изменилось
    - do: кликнуть на буквенные наименования столбцов турнирной таблицы
    - assert: |
          отобразился тултип с расшифровкой буквенных сокращений - https://jing.yandex-team.ru/files/kossakovskaya/2021-04-27_16-58-38.png ,
          тултип отображается корректно, при скролле скрывается

  открывает видео из турнирной таблицы хоккейной команды:
    - tags: 
      - backend_sport
    - do: открыть страницу хоккейной команды https://yandex.ru/sport/team/80802
    - assert: |
          отображается виджет календаря, который содержит - дату матча, выпадушку со всеми турнирами, наименования команд матча , счет, видео (если есть), логотип команд матча,
          каждый матч содержит команду, на странице которой мы находимся ("Авангард"),
          внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-09-07_18-40-44.png,
          обратите внимание! Если матчей не найдено - выставьте в выпадушке другой месяц
    - do: кликнуть по вкладке "Турнирная таблица"
    - assert: |
          отобразилась турнирная страница, которая содержит элементы - место, логотип и наименование команды, количественные значения столбцов, тумблеры дивизионов,
          внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-09-07_18-41-23.png ,
          Обратите внимание! если вместо данных у вас отображается заглушка о том, что "Таблица турнира не найдена" - выбирете любой турнир из выпадушки, в котором придут данные  - https://jing.yandex-team.ru/files/kossakovskaya/2021-09-07_16-07-50.png
    - do: промотать к карусели видео "Последние видео"
    - do: проскролить карусель вправо-влево
    - assert: |
          карусель скроллится корректно, без рывков,
          подгружаются превью видео и наименование
    - do: кликнуть по любому видео из карусели
    - assert: в новой вкладке открылось видео в стороннем сервисе

files:
  - features/sport/team/team.phone.hermione.e2e.js
  - features/sport/team/team.phone.hermione.js

tags:
  - sport-neo
  - team

manager: mrwhite

qa-engineer: kossakovskaya

tlds:
  - ru
  - by
  - kz
  - uz
  - ua
  - com
