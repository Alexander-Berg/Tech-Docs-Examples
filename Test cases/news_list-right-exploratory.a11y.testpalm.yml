feature: Колдунщик новостей
type: Доступность

browsers:
  - chrome-desktop

specs:
  Новости без видео:
    - params:
        foreverdata: '305145875'
    - automation: SERP-97290
    - do: получить выдачу по запросу 'foreverdata'
    - assert: на выдаче присутствует колдунщик новостей
    - do: включить скринридер
    - do: c помощью клавиши tab перейти к заголовку колдунщика новостей
    - assert: ридер зачитывает 'Путин длинное тире сейчас в СМИ ссылка заголовок уровень 2'
    - do: нажать tab
    - assert: |
        фокус сместился на заголовок статьи
        ридер зачитывает 'Владимир Путин двоеточие Мне нужно не левая кавычка елочка ура правая кавычка елочка Мне нужно чтоб страна развивалась ссылка заголовок уровень 3' (знаки препинания могу не зачитываться в зависимости от настроек скринридера)
    - do: нажать tab
    - assert: |
        фокус сместился на гринурл новости
        ридер зачитывает 'kp.ru'
    - do: пронавигировать клавишей tab по остальным новостным сниппетам в колдунщике
    - assert: |
        фокус смещается на выбранный элемент
        для заголовка новостного сниппета ридер зачитывает 'текст заголовка новости + опубликовано + дата + ссылка' 
        для гринурла ридер зачитывает верный урл
  Новости с видеокаруселью:
    - params:
        foreverdata: '1854578532'
    - automation: SERP-97290
    - do: получить выдачу по запросу 'foreverdata'
    - assert: на выдаче присутствует колдунщик новостей с видеокаруселью
    - do: включить скринридер
    - do: c помощью клавиши tab перейти к заголовку колдунщика новостей
    - assert: ридер зачитывает 'Путин длинное тире сейчас в СМИ ссылка Alt+6'
    - do: нажать tab
    - assert: |
        фокус сместился на первое видео в карусели
        ридер зачитывает 'Результаты поиска основное ориентир список из 4 элементов Видео Путин обозначил главную задачу при реализации нацпроектов ссылка'
    - do: нажать tab
    - assert: |
        фокус сместился на метку свежести видео
        ридер зачитывает 'Опубликовано 25 февраля 2020 ссылка'
    - do: пронавигировать клавишей tab по остальным видео в карусели
    - assert: |
        для каждого видео ридер зачитывает:
        при первом нажатии tab для видео в карусели - видео + название + ссылка
        при следующем нажатии tab для видео в карусели - опубликовано + дата + ссылка
    - do: нажать tab
    - assert: |
        фокус сместился на картинку новости
        ридер зачитывает 'Владимир Путин двоеточие Мне нужно не левая кавычка елочка ура правая кавычка елочка Мне нужно чтоб страна развивалась ссылка' (знаки препинания могу не зачитываться в зависимости от настроек скринридера)
    - do: нажать tab
    - assert: |
        фокус сместился на текст заголовка новости
        ридер зачитывает 'Владимир Путин двоеточие Мне нужно не левая кавычка елочка ура правая кавычка елочка Мне нужно чтоб страна развивалась Опубликовано 25 февраля 2020 ссылка' (знаки препинания могу не зачитываться в зависимости от настроек скринридера)
    - do: нажать tab
    - assert: |
        фокус сместился на гринурл новости
        ридер зачитывает 'kp.ru'
    - do: пронавигировать клавишей tab по остальным новостным сниппетам в колдунщике
    - assert: |
        фокус смещается на выбранный элемент
        для картинки ридер зачитывает 'текст новости + ссылка'
        для заголовка новостного сниппета ридер зачитывает 'текст заголовка новости + опубликовано + дата + ссылка' 
        для гринурла ридер зачитывает верный урл
  Новости с одним видео:
    - params:
        foreverdata: '1409531340'
    - automation: SERP-97290
    - do: получить выдачу по запросу 'foreverdata'
    - assert: на выдаче присутствует колдунщик новостей с одним видео
    - do: включить скринридер
    - do: c помощью клавиши tab перейти к заголовку колдунщика новостей
    - assert: ридер зачитывает 'Путин длинное тире сейчас в СМИ ссылка Alt+6'
    - do: нажать tab
    - assert: |
        фокус сместился на картинку новости
        ридер зачитывает 'Владимир Путин двоеточие Мне нужно не левая кавычка елочка ура правая кавычка елочка Мне нужно чтоб страна развивалась ссылка' (знаки препинания могу не зачитываться в зависимости от настроек скринридера)
    - do: нажать tab
    - assert: |
        фокус сместился на текст заголовка новости
        ридер зачитывает 'Результаты поиска основное ориентир Владимир Путин двоеточие Мне нужно не левая кавычка елочка ура правая кавычка елочка Мне нужно чтоб страна развивалась Опубликовано 25 февраля 2020 ссылка' (знаки препинания могу не зачитываться в зависимости от настроек скринридера)
    - do: нажать tab
    - assert: |
        фокус сместился на гринурл новости
        ридер зачитывает 'kp.ru'
    - do: пронавигировать клавишей tab по остальным новостным сниппетам в колдунщике
    - assert: |
        фокус смещается на выбранный элемент
        для картинки ридер зачитывает 'текст новости + ссылка'
        для заголовка новостного сниппета ридер зачитывает 'текст заголовка новости + опубликовано + дата + ссылка' 
        для гринурла ридер зачитывает верный урл
    - do: нажать tab
    - assert: |
        фокус сместился на видео внизу карусели
        ридер зачитывает 'Видео Путин обозначил главную задачу при реализации нацпроектов ссылка'
    - do: нажать tab
    - assert: |
        фокус сместился на текст заголовка видео
        ридер зачитывает 'Путин обозначил главную задачу при реализации нацпроектов ссылка'

tags:
  - A11y_serp
  - no_assessors
  - skip_manual_check
  - news

v-team: Freshness

tlds:
  - ru

files: []
