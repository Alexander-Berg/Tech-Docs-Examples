feature: Дежурства

specs:
  Положительные:
    1. Подтверждение смены и снятие подтверждения с правами на управление дежурством:
      - automation: ABC-10831
      - tech: залогиниться под пользователем robot-abc-002
      - do: (PREPARE) открыть сервис "autotest-approve-shifts" (/services/autotest-approve-shifts/) 
      - do: (PREPARE) кликнуть на иконку карандашика рядом с надписью "Управляющие"
      - screenshot: (PREPARE) карандашик рядом с надписью "Управляющие" [https://jing.yandex-team.ru/files/pixel/Screenshot%20from%202021-05-27%2019-51-11.png]
      - do: (PREPARE) в модалке "Редактирование управляющих" в поле "Добавить сотрудника" ввести свои имя и фамилию 
      - do: (PREPARE) под полем появился выпадающий список вариантов 
      - do: (PREPARE) выбрать в выпадающем списке себя 
      - assert: (PREPARE) в блоке "Управляющие" появился выбранный сотрудник 
      - do: (PREPARE) кликнуть на кнопку "Сохранить"     
      - do: открыть график дежурств в сервисе "autotest-approve-shifts" (/services/autotest-approve-shifts/duty)
      - screenshot: на странице отображён график дежурств "Тестовое дежурство" со сменами. Подтверждённые - закрашены зелёным, неподтверждённые - закрашены серым [https://jing.yandex-team.ru/files/pixel/Screenshot%20from%202021-05-27%2020-01-26.png]
      - do: навести курсор мыши на любую неподтверждённую смену
      - screenshot: появился попап с подробной информацией о текущей смене и кнопкой "Подтвердить" [https://jing.yandex-team.ru/files/pixel/Screenshot%20from%202021-05-28%2018-16-19.png]
      - do: кликнуть на кнопку "Подтвердить"
      - screenshot: смена окрасилась в зелёный цвет, в попапе кнопка "Подтвердить" сменилась на "Подтверждено" [https://jing.yandex-team.ru/files/pixel/Screenshot%20from%202021-05-28%2018-17-43.png]
      - do: кликнуть в попапе на кнопку "Подтверждено"
      - assert: смена окрасилась в серый цвет, в попапе кнопка "Подтверждено" сменилась на "Подтвердить" [https://jing.yandex-team.ru/files/pixel/Screenshot%20from%202021-05-28%2018-19-09.png]



files: []

priority: critical

tags:
  - reviewed
