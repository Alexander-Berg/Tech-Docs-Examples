feature: Авторизация LU пользователем

specs:

    Авторизация через кнопку "Войдите в аккаунт" на списке чатов, без привыязки номера телефона[manual]:
        - automation: 
        - description: |
              Не автороизованы в паспорте
              У Вас есть доступ к аккаунту у которого не привязан номер телефона (к личному аккаунту)
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: |
              Открывается мессенджер
              В верху списка чатов есть баннер с кнопкой "Войти в аккунт"
        - do: Нажать на кнопку "Войти в аккаунт"
        - assert: В новой вкладке открывается паспорт
        - do: Ввести корректный логин и пароль из description и нажать кнопку "Войти"
        - assert: |
              Вкладка с паспортом закрывается
              Осуществляетяс переход в ранее открытую вкладку месссенджера
              Загрузились чаты аккаунта, которым Вы были авторизованы
              Баннер с кнопкой "Войти в аккаунт" пропал со списка чатов
        - do: Нажать на кнопку создания чата
        - assert: Появляется модельное окно для привязки номера телефона

    Авторизация через паспорт без привязки номера телефона[manual]:
        - automation: 
        - description: |
              Не автороизованы в паспорте
              У Вас есть доступ к аккаунту у которого не привязан номер телефона (к личному аккаунту)
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: |
              Открывается мессенджер
              В верху списка чатов есть баннер с кнопкой "Войти в аккунт"
        - do: Открыть в новой вкладке сайт https://passport.yandex.ru/ и авторизоваться аккаунтом из description
        - assert: Авторизация прошла успешно
        - do: Открыть вкладку с мессенджером и обвноить страницу браузера
        - assert: |
              Загрузились чаты аккаунта, которым Вы были авторизованы
              Баннер с кнопкой "Войти в аккаунт" пропал со списка чатов
        - do: Нажать на кнопку создания чата
        - assert: Появляется модельное окно для привязки номера телефона

    Авторизация через кнопку создания чата, без привязки номера телефона[manual]:
        - automation: 
        - description: |
              Не автороизованы в паспорте
              У Вас есть доступ к аккаунту у которого не привязан номер телефона (к личному аккаунту)
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: |
              Открывается мессенджер
              В верху списка чатов есть баннер с кнопкой "Войти в аккунт"
              В шапке спискаа чатов есть кнопка создания чата
        - do: Нажать на кнопку "Создать чат"
        - assert: Появляется попап с кнопками "Отмена" и "Авторизоваться"
        - do: Нажать на кнопку "Авторизоватья"
        - assert: В новой вкладке открывается паспорт
        - do: Ввести корректный логин и пароль аккаунта из **description** и нажать кнопку "Войти"
        - assert: |
              Вкладка с паспортом закрывается
              Осуществляетяс переход в ранее открытую вкладку месссенджера
              Загрузились чаты аккаунта, которым Вы были авторизованы
              Баннер с кнопкой "Войти в аккаунт" пропал со списка чатов
        - do: Нажать на кнопку создания чата
        - assert: Появляется модельное окно для привязки номера телефона

#     Авторизация через "плюсик", без привязки номера телефона[manual]:
#         - automation: 
#         - description: |
#               Не автороизованы в паспорте
#               У Вас есть доступ к аккаунту у которого не привязан номер телефона (к личному аккаунту)
#         - do: Запустить тестовое приложениие и октрыть список чатов
#         - assert: |
#               Открывается мессенджер
#               В верху списка чатов есть баннер с кнопкой "Войти в аккунт"
#               Под баннером расположен блок "Популярных каналов"
#               В шапке спискаа чатов есть кнопка создания чата
#         - do: Перейти к блоку "Популярных каналов" и нажать на "Плюск" на один из каналов
#         - assert: В новой вкладке открывается паспорт
#         - do: Ввести корректный логин и пароль аккаунта из description и нажать кнопку "Войти"
#         - assert: |
#               Вкладка с паспортом закрывается
#               Осуществляетяс переход в ранее открытую вкладку месссенджера
#               Открылось окно канала, на который осуществилась автоматическая подписка
#         - do: Проверить, что все чаты данного аккаунта были загружены
#         - assert: Все чаты были корректно загружены
#         - do: Нажать на кнопку создания чата
#         - assert: Появляется модельное окно для привязки номера телефона

#     Авторизация через кнопку "Переслать", без привязки номера телефона[manual]:
#         - automation:
#         - description: |
#               Не автороизованы в паспорте
#               У Вас есть доступ к аккаунту у которого не привязан номер телефона (к личному аккаунту)
#         - do: Запустить тестовое приложениие и октрыть список чатов
#         - assert: |
#               Открывается мессенджер
#               В верху списка чатов есть баннер с кнопкой "Войти в аккунт"
#               Под баннером расположен блок "Популярных каналов"
#               В шапке списка чатов есть кнопка создания чата
#         - do: Перейти к блоку "Популярных каналов" и открыть один из каналов
#         - assert: |
#               Открылось окно канала
#               Вместо поля ввода есть кнопка "Войти, чтобы подписаться"
#         - do: Нажать на кнопку "Переслать" (самолетик)
#         - assert: Появляется попап с кнопками "Отмена" и "Авторизоваться"
#         - do: Нажать на кнопку "Авторизоватья"
#         - assert: В новой вкладке открывается паспорт
#         - do: Ввести корректный логин и пароль аккаунта из description и нажать кнопку "Войти"
#         - assert: |
#               Вкладка с паспортом закрывается
#               Осуществляетяс переход в ранее открытую вкладку месссенджера
#               Открылось окно канала
#               Есть кнопка "Подписаться на канал"
#         - do: Проверить, что все чаты данного аккаунта были загружены
#         - assert: Все чаты были корректно загружены
#         - do: Нажать на кнопку создания чата
#         - assert: Появляется модельное окно для привязки номера телефона

    Можно привязать номер телефона к аккаунту, если точка входа была кнопка создания чата[manual]:
        - automation: 
        - description: |
              Не автороизованы в паспорте
              У Вас есть доступ к аккаунту у которого не привязан номер телефона (к личному аккаунту)
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: |
              Открывается мессенджер
              В верху списка чатов есть баннер с кнопкой "Войти в аккунт"
        - do: Нажать на кнопку "Войти в аккаунт"
        - assert: В новой вкладке открывается паспорт
        - do: Ввести корректный логин и пароль из description и нажать кнопку "Войти"
        - assert: |
              Вкладка с паспортом закрывается
              Осуществляетяс переход в ранее открытую вкладку месссенджера
              Загрузились чаты аккаунта, которым Вы были авторизованы
              Баннер с кнопкой "Войти в аккаунт" пропал со списка чатов
        - do: Нажать на кнопку создания чата
        - assert: Появляется модельное окно для привязки номера телефона
        - do: Ввести номер телефона в данное модальное окно и нажать кнопку "Далее"
        - assert: Открывается экран ввода кода из СМС
        - do: Ввести код из СМС и нажать кнопку "Подтвердить"
        - assert: |
               Телефон был привязан к данному аккаунту
               Открывается окно создания чата со списком контактов

    Можно привязать номер телефона к аккаунту если точка входа отправка сообщения в[manual]:
        - automation: 
        - description: |
              Не автороизованы в паспорте
              У Вас есть доступ к аккаунту у которого не привязан номер телефона (к личному аккаунту)
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: |
              Открывается мессенджер
              В верху списка чатов есть баннер с кнопкой "Войти в аккунт"
        - do: Нажать на кнопку "Войти в аккаунт"
        - assert: В новой вкладке открывается паспорт
        - do: Ввести корректный логин и пароль из description и нажать кнопку "Войти"
        - assert: |
              Вкладка с паспортом закрывается
              Осуществляетяс переход в ранее открытую вкладку месссенджера
              Загрузились чаты аккаунта, которым Вы были авторизованы
              Баннер с кнопкой "Войти в аккаунт" пропал со списка чатов
        - do: Открыть любой чат
        - assert: Открыто окно чата
        - do: Ввести в поле ввода сообщение и нажать кнопкe отправки
        - assert: Появляется модельное окно для привязки номера телефона
        - do: Ввести номер телефона в данное модальное окно и нажать кнопку "Далее"
        - assert: Открывается экран ввода кода из СМС
        - do: Ввести код из СМС и нажать кнопку "Подтвердить"
        - assert: Телефон был привязан к данному аккаунту. Сообщение осталось в поле ввода
        - do: Тапнуть на значок отправки справа от поля ввода
        - assert: Сообщение отправлено и отобрадается в окне чата, сообщения о приивязки номера больше не появляется

    Привязанный номер телефона к аккаунту не сбрасывается после обновления страницы[manual]:
        - automation: 
        - description: |
              Не автороизованы в паспорте
              У Вас есть доступ к аккаунту у которого не привязан номер телефона (к личному аккаунту)
              Для десктопного приложения данный тест-кейс не актуальен
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: |
              Открывается мессенджер
              В верху списка чатов есть баннер с кнопкой "Войти в аккунт"
        - do: Нажать на кнопку "Войти в аккаунт"
        - assert: В новой вкладке открывается паспорт
        - do: Ввести корректный логин и пароль из description и нажать кнопку "Войти"
        - assert: |
              Вкладка с паспортом закрывается
              Осуществляетяс переход в ранее открытую вкладку месссенджера
              Загрузились чаты аккаунта, которым Вы были авторизованы
              Баннер с кнопкой "Войти в аккаунт" пропал со списка чатов
        - do: Нажать на кнопку создания чата
        - assert: Появляется модельное окно для привязки номера телефона
        - do: Ввести номер телефона в данное модальное окно и нажать кнопку "Далее"
        - assert: Открывается экран ввода кода из СМС
        - do: Ввести код из СМС и нажать кнопку "Подтвердить"
        - assert: |
               Телефон был привязан к данному аккаунту
               Открывается окно создания чата со списком контактов
        - do: Обновить страницу с мессенджером
        - assert: |
              Страница обновлена
              Все чаты загружены
        - do: Открыть любой ат и отправить сообщение
        - assert: Сообщение было корректно отправлено

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team

