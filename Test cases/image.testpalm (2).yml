feature: Картинка

specs:

  Инлайновая картинка-ссылка:
    - params:
        foreverdata: '2310953522'
    - do: получить выдачу по запросу 'foreverdata' и кликнуть в заголовок первого сниппета (название заголовка Тестовая новостная станица — турбо)
    - assert: открывается турбо-страница в той же вкладке (в поисковом приложении Яндекс турбо-страница открывается в новой вкладке)
    - do: найти в тексте "Это ссылка ->" и тапнуть по картинке после нее
    - assert: должны открыться ссылка в новой вкладке

  Несколько инлайновых картинок подряд:
    - do: открыть страницу 'yandex.ru/turbo?stub=image/inline.json'
    - assert: на странице есть текст с инлайновыми картинками
    - screenshot: внешний вид аналогичен примеру [plain]

  Картинка в cover не должна миксовать lazy-block:
    - params:
        foreverdata: '2310953522'
    - tags: no_assessors
    - do: получить выдачу по запросу 'foreverdata' и кликнуть в заголовок первого сниппета (название заголовка Тестовая новостная станица — турбо)
    - assert: открывается турбо-страница в той же вкладке (в поисковом приложении Яндекс турбо-страница открывается в новой вкладке)
    - assert: блок image с модификатором cover не должен миксовать блок lazy-block

  Базовая расстановка (rss):
    - do: открыть ссылку https://yandex.ru/turbo?stub=image/basic-rss.json
    - screenshot: внешний вид аналогичен примеру [plain]

  Блочные на странице:
    - do: открыть ссылку https://yandex.ru/turbo?stub=image/type-block.json
    - screenshot: внешний вид аналогичен примеру [plain]

  Edge на странице:
    - do: открыть ссылку https://yandex.ru/turbo?stub=image/type-edge.json
    - screenshot: внешний вид аналогичен примеру (на первой позиции просто серый фон) [plain]

  В карточке:
     - do: открыть ссылку https://yandex.ru/turbo?stub=image/in-card.json
     - screenshot: внешний вид аналогичен примеру [plain]

  В каруселе:
    - do: открыть ссылку https://yandex.ru/turbo?stub=image/in-carousel.json
    - screenshot: внешний вид аналогичен примеру [left]
    - do: прокрутить карусель влево до упора
    - screenshot: внешний вид аналогичен примеру [right]

  В галерее (rss):
    - do: открыть ссылку https://yandex.ru/turbo?stub=image/in-gallery.json
    - screenshot: внешний вид аналогичен примеру [left]
    - do: прокрутить галерею влево до упора
    - screenshot: внешний вид аналогичен примеру [right]
    - do: нажать на первую картинку в гелерее
    - assert: открылся просмотрщик картинки (кроме андроид браузера 4.4, там просмотрщик не открывается)
    - screenshot: внешний вид аналогичен примеру [viewer]

  На странице лендингов в обложке:
    - do: открыть ссылку https://yandex.ru/turbo?stub=image/in-landing.json
    - screenshot: внешний вид аналогичен примеру [plain]
    - do: нажать на картинку
    - assert: ничего не произошло

  В цитате:
    - do: открыть ссылку https://yandex.ru/turbo?stub=image/in-quote.json
    - screenshot: внешний вид аналогичен примеру [plain]

  В слайдере (rss):
    aliases:
      - &ScreenshotSlider
        - screenshot: внешний вид аналогичен примеру [first]
        - do: свайп справа налево по картинке в слайдере
        - screenshot: внешний вид аналогичен примеру [second]
        - do: свайп справа налево по картинке в слайдере
        - screenshot: внешний вид аналогичен примеру [third]
        - do: свайп справа налево по картинке в слайдере
        - screenshot: внешний вид аналогичен примеру [fourth]

    contain:
      - do: открыть ссылку https://yandex.ru/turbo?stub=image/in-slider-contain.json
      - *ScreenshotSlider

    portrait-contain:
      - do: открыть ссылку https://yandex.ru/turbo?stub=image/in-slider-portrait-contain.json
      - *ScreenshotSlider

  В сниппете (rss):
    - do: открыть ссылку https://yandex.ru/turbo?stub=image/in-snippet.json
    - screenshot: внешний вид аналогичен примеру [plain]

  В таблице:
    - do: открыть ссылку https://yandex.ru/turbo?stub=image/in-table.json
    - screenshot: внешний вид аналогичен примеру [plain]

  Первые две картинки не должны миксовать lazy-block:
    - params:
        foreverdata: '2310953522'
    - tags: no_assessors
    - do: получить выдачу по запросу 'foreverdata' и кликнуть в заголовок первого сниппета (название заголовка Тестовая новостная станица — турбо)
    - assert: открывается турбо-страница в той же вкладке (в поисковом приложении Яндекс турбо-страница открывается в новой вкладке)
    - assert: первый блок image с модификатором fit=cover не должен миксовать блок lazy-block
    - assert: второй блок image с модификатором fit=cover не должен миксовать блок lazy-block

  Третья и последующие картинки должны миксовать lazy-block:
    - params:
        foreverdata: '2310953522'
    - tags: no_assessors
    - do: получить выдачу по запросу 'foreverdata' и кликнуть в заголовок первого сниппета (название заголовка Тестовая новостная станица — турбо)
    - assert: открывается турбо-страница в той же вкладке (в поисковом приложении Яндекс турбо-страница открывается в новой вкладке)
    - assert: третий блок image с модификатором fit=cover должен миксовать блок lazy-block

  Картинки без альяса [manual]:
    - tags: [no_assessors, skip_manual_check]
    - automation: TURBOUI-1675
    - do: открыть ссылку https://yandex.ru/turbo?stub=image/no-alias.json
    - tech: url картинки над надписью "Большая блочная картинка [[ no_alias ]]" заканчивается на .../orig
    - tech: url картинки над надписью "Большая блочная картинка [[ default ]]" заканчивается на .../max_g480_c12_r4x3_pd10
    - tech: url первой маленькой картинки заканчивается на .../orig
    - tech: url второй маленькой картинки заканчивается на .../max_g480_c12_r4x3_pd10

files:
# - features/blocks/image/image.ex-gemini.hermione.js
  - features/blocks/image/image.hermione.js

v-team: Turbo

manager: tanzwuta

qa-engineer: olga0321, dakhetov

tlds: none
