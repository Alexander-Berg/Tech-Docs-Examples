feature: Отели
type: Happy page
description: >-
  Внешний вид для Десктопа и Тача могут немного отличаться, но функциональность
  от этого не зависит.

  1. Перейти на вкладку отелей, заполнить все поля и нажать на кнопку "Найти" -
  переход осуществится на страницу выдачи отелей в портале.

  2. В фильтре партнеров на поиске выбрать Expedia.

  3. Кликнуть по карточке любого отеля -> произойдет переход на страницу отеля.

  4. Нажать по предложению Яндекс.Путешествий - произойдет переход на страницу
  бронирования с формой ввода данных гостей.

  Асессорам - При переходе из письма на страницу заказа необходимо заменить url на travel.crowdtest.yandex.ru


  Карта для тестовой оплаты тестовой брони (не для асессоров): 5100002767155462

  Месяц и год: 12/22

  CVV: 454
specs:
  Получение ваучера на почту:
    - do: >-
        * Перейти на страницу бронирования для любого отеля для одного гостя по
        инструкции из подготовки

        * Ввести валидные данные в поля фамилии, имени и номера телефона
        (последнее может не потребоваться, если пользователь залогинен)

        * Указать свой действующий адрес на yandex-team в поле почты (письма на
        другие учетки приходить не будут)

        * Оплатить заказ
    - assert: >-
        * При успешной оплате открылась success страница - хэппи пейдж

        * Под информацией о бронировании отображается тот же мейл, который был указан при
        бронировании

        * Рядом с мейлом есть информация о том, что по этому адресу отправлено
        подтверждение бронирования
    - do: 'Проверить почту, на которую должно прийти подтверждение'
    - assert: |-
        * Письмо с информацией о брони пришло
        * Адресант - Команда Яндекс.Путешествий
        * Есть вложение - ваучер
        * Название файла содержит номер заказа
        * В письме содержится следующая информация
            * номер брони
            * название отеля
            * тип номера
            * даты заезда и выезда
            * гости
            * итоговая стоимость брони
            * ссылка на страницу заказа
            * ссылка на помощь
            * номер телефона тех поддержки
        * Все данные совпадают с данными на странице бронирования
    - do: Кликнуть по ссылке страницы заказа
    - assert: |-
        * Открылась страница бронирования
        * Все данные на странице совпадают с данными при бронировании
    - do: |-
        Вернуться к письму
        Кликнуть по ссылке помощи
    - assert: '* Открылась страница сервиса в Яндекс Помощи'
    - do: |-
        Вернуться к письму
        Открыть ваучер во вложении
    - assert: |-
        * Данные в документе соответствуют данным со страницы заказа
        * Формат документа pdf
    - do: |-
        В письме скопировать ссылку с кнопки страницы заказа
        Открыть ссылку со страницей заказа в окне инкогнито
    - assert: '- открывается страница с просьбой ввести номер телефона или залогиниться'
    - do: |-
        Ввести номер телефона или емейл, который указывали при создании заказа
        Нажать кнопку Посмотреть заказ
    - assert: '- открылась страница заказа'
manual: true
Функциональность: Покупка
Устройство:
  - Десктоп
  - Тач
Страница: Happy page
Сервис: Отели
Тестирование асессорами: Да
Окружение: Testing
Tag:
  - orkestrator
  - Smoke
Автор: iliasova
