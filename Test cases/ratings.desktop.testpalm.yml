feature: Страница "Ключевые показатели"

description: В кейсах описываются компоненты и общий вид элементов на странице ключевых показателей.

specs:
  содержит описание страницы:
    - do: открыть страницу "Ключевые показатели" https://partner-tst.news.yandex.ru/v2/ratings?userid=521917854&agencyid=1310
    - assert: |
        страница содержит оглавление - "Ключевые показатели",
        под оглавлением содержится описание страницы,
        внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-11-29_14-35-04.png

  содержит график "Оперативность, цитируемость и качество заголовков" [manual]:
    - reasonNotToAuto:
      - есть проблема с моком ответа ручек, запрос в которые выполняется при загрузке страницы
    - do: открыть страницу "Ключевые показатели" https://partner-tst.news.yandex.ru/v2/ratings?userid=521917854&agencyid=1310
    - assert: |
        страница содержит график "Оперативность, цитируемость и качество заголовков",
        на графике по умолчанию выделен таб "Общие"

  позволяет переключать табы "Региональные" и "Тематические":
    - do: открыть страницу "Ключевые показатели" https://partner-tst.news.yandex.ru/v2/ratings?userid=521917854&agencyid=1310
    - assert: страница содержит табы "Региональные" и "Тематические"
    - do: навести курсор мыши на таб "Региональные"
    - assert: по ховеру шрифт меняет цвет
    - do: кликнуть на таб "Региональные"
    - assert: на месте графика появляется блок выбора региона
    - do: навести курсор мыши на кнопку "Выбор региона"
    - assert: по ховеру кнопка меняет стиль
    - do: кликнуть на кнопку "Выбор региона"
    - assert: |
        появляется поп-ап со списком регионов,
        список скроллится
    - do: кликнуть на таб "Тематические"
    - assert: на месте блока выбора региона появляется блок выбора тематики

files:
  - features/news-partners/ratings/ratings.desktop.hermione.js

qa-engineer: kossakovskaya

manager: halilu

tags:
  - news-partner

tlds:
  - ru
