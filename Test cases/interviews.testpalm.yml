feature: Кандидат.Испытания

specs:
  beforeEach:
    - do: открыть страницу кандидата /candidates/<id кандидата>/interviews/
    - assert: |
        появились табы
        появилась кнопка создания секций
    - do: кликнуть по кнопке 'Создать секцию'
    - assert: появилась форма создания секций
  Создание секции:
    Создание предварительной секции:
        - do: в поле 'Тип' выбрать значение 'Предварительная секция'
        - assert: |
            появилось поле 'Вакансия'
            появилось поле 'Секция с написанием кода'
            появилось поле 'Пресет задач'
            в поле 'Название' появился текст 'Предварительная секция'
            появилось поле 'Ссылка на встречу'
        - do: в поле 'Вакансия' выбрать 'VAC 50228 Новый контент менеджер'
        - do: в поле 'Кто проведет' выбрать 'Марат Январев'
        - do: заполнить поле 'Ссылка на встречу'. https://calendar.tst.yandex-team.ru/event/?event_id=13434
        - screenshot: форма заполнена [screening_form_filled]
        - do: кликнуть 'Сохранить'
        - assert: |
            скрылась форма создания
            появилась новая секция в списке испытаний
            возле таба 'Испытания' обновилось кол-во созданных секций
            вся информация о секции соответствует заполненным полям в форме
            подгрузились данные по встрече
        - screenshot: внешний вид таба испытаний с новой секцией [screening_new_interview_appeared]
    Создание стандартной секции:
        - do: в поле 'Тип' выбрать значение 'Стандартная секция'
        - assert: |
            появилось поле 'Вакансия'
            появилось поле 'Секция с написанием кода'
            появилось поле 'Пресет задач'
            появилось поле 'Ссылка на встречу'
        - do: в поле 'Вакансия' выбрать 'VAC 50228 Новый контент менеджер'
        - do: в поле 'Название' написать 'Стандартная секция'
        - do: в поле 'Кто проведет' выбрать 'Марат Январев'
        - do: заполнить поле 'Ссылка на встречу'. https://calendar.tst.yandex-team.ru/event/?event_id=13434
        - screenshot: форма заполнена [regular_form_filled]
        - do: кликнуть 'Сохранить'
        - assert: |
            скрылась форма создания
            появилась новая секция в списке испытаний
            возле таба 'Испытания' обновилось кол-во созданных секций
            вся информация о секции соответствует заполненным полям в форме
            подгрузились данные по встрече
        - screenshot: внешний вид таба испытаний с новой секцией [regular_new_interview_appeared]
    Создание АА секции:
        - do: в поле 'Тип' выбрать значение 'АА секция'
        - assert: |
            появилось поле 'Тип АА' со значением 'Стандартный'
            появилось поле 'Секция с написанием кода'
            появилось поле 'Пресет задач'
            в поле 'Название' появился текст 'АА секция'
            появилось поле 'Ссылка на встречу'
        - do: в поле 'Кто проведет' выбрать '@4c4d'
        - do: заполнить поле 'Ссылка на встречу'. https://calendar.tst.yandex-team.ru/event/?event_id=13434
        - screenshot: форма заполнена [aa_form_filled]
        - do: кликнуть 'Сохранить'
        - assert: |
            скрылась форма создания
            появилась новая секция в списке испытаний
            возле таба 'Испытания' обновилось кол-во созданных секций
            вся информация о секции соответствует заполненным полям в форме
        - screenshot: внешний вид таба испытаний с новой секцией [aa_new_interview_appeared]

files:
  - tests/hermione/suites/desktop/candidates/interviews/section_create/interviews.hermione.js

tags:
  - reviewed

priority: blocker

browsers:
  - yandex-browser-desktop
  - firefox-desktop
  - safari-desktop
