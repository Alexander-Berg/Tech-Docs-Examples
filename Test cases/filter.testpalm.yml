feature: "Dispenser: Список заявок - Фильтры"

specs:
  beforeEach:
    - do: Залогиниться под пользователем robot-abc-002

  Панель фильтров:
    1. Фильтр по сервису:
      - do: открыть страницу железа (/hardware)
      - screenshot: исходное состояние списка заявок [initial]
      - assert: в URL отсуствуют параметры фильтрации
      - do: в фильтре "Сервис" набрать в строке саджеста "автотест"
      - do: кликнуть по пункту "Сервис для автотестов"
      - screenshot: отображаются только заявки сервиса "Сервис для автотестов" [filtered]
      - assert: |
          в URL присутствует параметр service=3407,
          в URL отсуствуют параметры кроме приведенных выше

    2. Вшитый фильтр страницы сервиса:
      - do: |
          открыть сраницу сервиса "Сервис для автотетсов"
          вкладка запрос ресурсов (/service/serviceforrobot003/hardware)
      - screenshot: >-
          отображаются только заявки сервиса "Сервис для автотестов",
          фильтра "Сервиса" нет [filtered-by-service]

  Постраничная навигация:
    1. Фильтр по номеру страницы:
      - do: открыть сраницу железа с фильтром по номеру страницы (/hardware/?page=1)
      - do: в блоке пагинации кликнуть на страницу 2
      - assert: в URL присутствует параметр фильтрации page=2

files:
  - test/features/desktop/dispenser/filter.hermione.js

priority: blocker

tags:
  - no_assessors
