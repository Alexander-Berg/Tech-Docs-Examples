feature: Колдунщик stateful favorites сценария

specs:
  beforeEach:
    - do: получить выдачу по запросу 'foreverdata'
    - assert: на выдаче присутствует колдунщик про тему 'Избранное'
  Колдунщик избранного:
    - tags:
        no_assessors
    - params:
        foreverdata: '888010629'
    - do: нажать на кнопку первую карточку в избранном
    - assert: произошел переход по ссылке
    - tech: отправился счетчик /$page/$main/$result/stateful-favorites/scroller/favorite-card/link
  Колдунщик избранного с текстовой карточкой:
    - params:
        foreverdata: '2697038701'
    - screenshot: внешний вид [stateful-favorites-with-text-card]
  Колдунщик избранного и шторка:
    - params:
        foreverdata: '888010629'
    - screenshot: внешний вид [stateful-favorites]
    - do: нажать на кнопку "Избранное"
    - tech: отправился счетчик /$page/$main/$result/stateful-favorites/title
    - assert: открылась шторка
    - screenshot: внешний вид [stateful-favorites-drawer]
    - do: нажать на кнопку первую карточку в избранном
    - tech: отправился счетчик /$page/$main/$result/stateful-favorites/favorite-card/link
  Догрузка карточек в шторке:
    params:
      foreverdata: '1391261080'
    Внешний вид:
      - assert: под карточками есть кнопка 'Показать ещё'
      - screenshot: внешний вид с кнопкой [stateful-favorites-drawer]
    Догрузка по нажатию на кнопку:
      - tags: no_assessors # проверить на живом вебе нельзя
      - do: нажать на заголовок 'Избранное'
      - assert: открылась шторка с карточками избранное и кнопкой 'Показать ещё'
      - tech: отправился счетчик /$page/$main/$result/stateful-favorites/title
      - do: нажать на кнопку
      - assert: кнопка скрылась
      - assert: подгрузилось еще несколько карточек
      - tech: отправился счетчик /$page/$main/$result/stateful-favorites/load-more
      - screenshot: внешний вид [stateful-favorites-drawer-full]
  Редизайн:
    - params:
        foreverdata: '41053474'
    - screenshot: внешний вид [stateful-favorites]
    - do: нажать на кнопку "Избранное"
    - tech: отправился счетчик /$page/$main/$result/stateful-favorites/title
    - assert: открылась шторка
    - screenshot: внешний вид [stateful-favorites-drawer]
    - do: нажать на кнопку первую карточку в избранном
    - tech: отправился счетчик /$page/$main/$result/stateful-favorites/favorite-card/link
  Редизайн - горизонтальная ориентация:
    - params:
        foreverdata: '41053474'
    - do: повернуть девайс в горизонтальную ориентацию
    - screenshot: внешний вид [stateful-favorites-land]
    - do: нажать на кнопку "Избранное"
    - assert: открылась шторка
    - screenshot: внешний вид [stateful-favorites-drawer-land]
  Редизайн - без избранного:
    - params:
        foreverdata: '2004700583'
    - screenshot: внешний вид [stateful-favorites-empty]

files:
  - src/features/StatefulFavorites/StatefulFavorites.test/StatefulFavorites@touch-phone.hermione.js

v-team: Freshness

tlds: all

tags:
  - skip_e2e_check
