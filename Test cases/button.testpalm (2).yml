feature: Button


specs:
  aliases:
  - &CheckAnchorButton
    - assert: открывается турбо-страница
    - do: кликнуть по первой кнопке (под заголовком "Бритва серии 9C")
    - assert: |
        страница не перезагрузилась и переместилась к форме
        первое поле формы заполнено "Бритва серии 9C"
    - do: пролистать вверх до заголовка "Бритва серии V"
    - do: кликнуть по первой кнопке под заголовком
    - assert: |
        страница не перезагрузилась и переместилась к форме
        первое поле формы заполнено "Бритва серии V"
    - do: пролистать вниз до заголовка "Бритва серии 9C"
    - do: нажать на первую кнопку под заголовком
    - assert: |
        страница не перезагрузилась и переместилась к форме
        первое поле формы заполнено "Бритва серии 9C"
    - do: пролистать вверх до заголовка "Бритва серии V"
    - do: кликнуть по первой кнопке под заголовком
    - assert: |
        страница не перезагрузилась и переместилась к форме
        первое поле формы заполнено "Бритва серии V"

  Все кнопки:
    - do: перейти по ссылке https://yandex.ru/turbo?stub=button/all.json
    - assert: открывается турбо-страница в той же вкладке (в поисковом приложении Яндекс турбо-страница открывается в новой вкладке)
    - screenshot: внешний вид соотвествует скриншоту [plain]

  Кнопки-ссылки:
    Анкор с обновлением формы:
      - do: перейти по ссылке https://yandex.ru/turbo?text=bin:return-to-forms
      - *CheckAnchorButton

    Анкор с обновлением формы в iframe:
      - params:
          foreverdata: '2552492086'
      - do: получить выдачу по запросу 'foreverdata' и кликнуть в заголовок первого сниппета (название заголовка Тестовая станица для блока кнопки с анкором — турбо)
      - *CheckAnchorButton
      - do: нажать кнопку назад или крестик в вверхнем углу
      - assert: страница турбо закрылась, видно поисковую выдачу

files:
- features/common/blocks/button/button.hermione.js

v-team: Turbo

tlds: none
