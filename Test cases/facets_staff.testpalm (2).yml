feature: Стафф
type: Фасеты

specs:
  Базовая проверка [manual]:
    - automation: ISEARCH-6477
    - do: открыть страницу поиска /peoplesearch?text=<имя/логин_сотрудника>
    - assert: |
        открылась страница на вкладке 'Стафф'
        на странице отображаются колдунщики по людям
        справа от колдунщиков присутствует колонка фасетов
        в фасетах присутствует блок 'Города', 'Департаменты', 'Сервисы'
        рядом с каждым значением фасета присутвует количество найденных результатов
        если значений в блоке больше 5, остальные остаются свернутыми
    - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/grikyan91/kseniya__Poisk_po_Lyudyam_nashlos_737_2020-05-28_17-45-47.png]
    - do: клик на '...' в свернутом блоке фасета
    - screenshot: развернулись остальные значения блока фасета [https://jing.yandex-team.ru/files/grikyan91/kseniya__Poisk_po_Lyudyam_nashlos_737_2020-05-28_17-46-26.png]
    - do: в блоке 'Города' выбрать любое значение
    - assert: |
        выдача обновилась
        в выдаче присутствуют только люди из выбранного города
        под поисковой строкой появилась кнопка с названием выбранного фасета
        выбранный фасет отмечен галочкой в группе
    - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/grikyan91/kseniya__Poisk_po_Lyudyam_nashlos_31_2020-05-28_17-48-55.png]
    - do: выбрать любое значение в блоке 'Департаменты'
    - assert: |
        выдача обновилась
        в выдаче присутствуют только люди из выбранного департамента
        под поисковой строкой появилась кнопка с названием выбранного фасета
        выбранный фасет отмечен галочкой в группе
    - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/grikyan91/kseniya__Poisk_po_Lyudyam_nashlos_10_2020-05-28_17-50-36.png]
    - do: выбрать любое значение в блоке 'Сервисы'
    - assert: |
        выдача обновилась
        в выдаче присутствуют только люди из выбранного сервиса
        под поисковой строкой появилась кнопка с названием выбранного фасета
        выбранный фасет отмечен галочкой в группе
    - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/grikyan91/kseniya__Poisk_po_Lyudyam_nashlos_1_2020-05-28_17-51-48.png]
    - do: перезадать поисковый запрос
    - assert: |
        выбранные фасеты не сбросились
        в результатах поиска показываются колдунщики людей с выбранными в фасетах значениями
    - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/grikyan91/anastasiya__Poisk_po_Lyudyam_nashlos_1_2020-05-28_17-52-16.png]
    - do: клик на кретик кнопки с названием фасета под поисковой строкой
    - assert: |
        поисковая выдача обновилась
        под поисковой строкой пропала кнопка фасета
        варианты значений вернулись в удаленный фасет
    - do: навести курсор на галочку в фасете
    - assert: появился иконка крестика
    - do: клик на крестик в фасете
    - assert: |
        поисковая выдача обновилась
        под поисковой строкой пропала кнопка фасета
        варианты значений вернулись в удаленный фасет
    - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/grikyan91/anastasiya__Poisk_po_Lyudyam_nashlos_194_2020-05-28_17-54-13.png]

tags:
  - reviewed

priority: normal

browsers:
  - yandex-browser-desktop
  - firefox-desktop
  - safari-desktop
