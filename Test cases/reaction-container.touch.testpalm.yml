feature: Контейнер реакций в сообщениях

specs:

    Для своего текстового сообщения контейнер накладывается поверх баббла в правом нижнем углу[manual]:
        - automation: MSSNGRFRONT-5218
        - description: У авторизованного пользователя в списке чатво есть приватный / групповой чат в истории которого есть собственные сообщения
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Для своего сообщения из description вызвать контекстное меню и выставить любую реакцию
        - assert: Меню закрывается и у сообщения проставляется выбранная реакция
        - do: Проверить расположение контейнера с реакцией
        - assert: Контейнер реакции накладывается поверх баббла в правом нижнем углу

    Для своей картинки контейнер накладывается поверх баббла в правом нижнем углу[manual]:
        - automation: MSSNGRFRONT-5218
        - description: У авторизованного пользователя в списке чатво есть приватный / групповой чат в истории которого есть собственное изображение
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Для своего сообщения из escription вызвать контекстное меню и выставить любую реакцию
        - assert: Меню закрывается и у сообщения проставляется выбранная реакция
        - do: Проверить расположение контейнера с реакцией
        - assert: Контейнер реакции накладывается поверх баббла в правом нижнем углу

    Для своего файла контейнер накладывается поверх баббла в правом нижнем углу[manual]:
        - automation: MSSNGRFRONT-5218
        - description: У авторизованного пользователя в списке чатво есть приватный / групповой чат в истории которого есть собственный файл
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Для своего сообщения из escription вызвать контекстное меню и выставить любую реакцию
        - assert: Меню закрывается и у сообщения проставляется выбранная реакция
        - do: Проверить расположение контейнера с реакцией
        - assert: Контейнер реакции накладывается поверх баббла в правом нижнем углу

    Для своего стикера контейнер распологается под бабблом в правом нижнем углу[manual]:
        - automation: MSSNGRFRONT-5218
        - description: У авторизованного пользователя в списке чатво есть приватный / групповой чат в истории которого есть собственный стикер
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Для своего сообщения из escription вызвать контекстное меню и выставить любую реакцию
        - assert: Меню закрывается и у сообщения проставляется выбранная реакция
        - do: Проверить расположение контейнера с реакцией
        - assert: Контейнер реакции распологается под бабблом в правом нижнем углу

    Для текстового сообщения собеседника контейнер накладывается поверх баббла в правом нижнем углу[manual]:
        - automation: MSSNGRFRONT-5218
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, м вспомогательным аккаунтом необходимо авторизовываться в этом же браузере / приложении
              Пользователь А - основной аккаунт, Пользователь Б - вспомогательный
              Между пользователем А и Б есть общий приватный / группоовой чат, в истории которого есть текстовое сообщение от Пользователя Б
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Для своего сообщения из description вызвать контекстное меню и выставить любую реакцию
        - assert: Меню закрывается и у сообщения проставляется выбранная реакция
        - do: Авторизоваться пользователем А, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Проверить расположение контейнера с реакцией
        - assert: Контейнер реакции накладывается поверх баббла в правом нижнем углу

    Для картинки собеседника контейнер накладывается поверх баббла в правом нижнем углу[manual]:
        - automation: MSSNGRFRONT-5218
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, м вспомогательным аккаунтом необходимо авторизовываться в этом же браузере / приложении
              Пользователь А - основной аккаунт, Пользователь Б - вспомогательный
              Между пользователем А и Б есть общий приватный / группоовой чат, в истории которого есть изображение от Пользователя Б
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Для своего сообщения из description вызвать контекстное меню и выставить любую реакцию
        - assert: Меню закрывается и у сообщения проставляется выбранная реакция
        - do: Авторизоваться пользователем А, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Проверить расположение контейнера с реакцией
        - assert: Контейнер реакции накладывается поверх баббла в правом нижнем углу

    Для  файла собеседника контейнер накладывается поверх баббла в правом нижнем углу[manual]:
        - automation: MSSNGRFRONT-5218
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, м вспомогательным аккаунтом необходимо авторизовываться в этом же браузере / приложении
              Пользователь А - основной аккаунт, Пользователь Б - вспомогательный
              Между пользователем А и Б есть общий приватный / группоовой чат, в истории которого есть файл от Пользователя Б
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Для своего сообщения из description вызвать контекстное меню и выставить любую реакцию
        - assert: Меню закрывается и у сообщения проставляется выбранная реакция
        - do: Авторизоваться пользователем А, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Проверить расположение контейнера с реакцией
        - assert: Контейнер реакции накладывается поверх баббла в правом нижнем углу

    Для стикера собеседника контейнер распологается под бабблом в правом нижнем углу[manual]:
        - automation: MSSNGRFRONT-5218
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, м вспомогательным аккаунтом необходимо авторизовываться в этом же браузере / приложении
              Пользователь А - основной аккаунт, Пользователь Б - вспомогательный
              Между пользователем А и Б есть общий приватный / группоовой чат, в истории которого есть стикер от Пользователя Б
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Для своего сообщения из description вызвать контекстное меню и выставить любую реакцию
        - assert: Меню закрывается и у сообщения проставляется выбранная реакция
        - do: Авторизоваться пользователем А, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Проверить расположение контейнера с реакцией
        - assert: Контейнер реакции распологается под бабблом в правом нижнем углу

    При Reply реакции оригинального сообщения не сохраняются[manual]:
        - automation: MSSNGRFRONT-5218
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, м вспомогательным аккаунтом необходимо авторизовываться в этом же браузере / приложении
              Пользователь А - основной аккаунт, Пользователь Б - вспомогательный
              Между пользователем А и Б есть общий приватный / группоовой чат, в истории которого есть текстовое сообщение от Пользователя А
        - do: Авторизоваться пользователем А, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Для своего сообщения из description вызвать контекстное меню и выставить любую реакцию
        - assert: Меню закрывается и у сообщения проставляется выбранная реакция
        - do: Ответить на сообщение с реакцией
        - assert: Релпай отображается в чате и не показывается реакция оригинального сообщения
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Проверить отсутствие реакции в Reply у оригинального сообщения
        - assert: Реакции не отображаются

    При Forward реакции оригинального сообщения не сохраняются[manual]:
        - automation: MSSNGRFRONT-5218
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, м вспомогательным аккаунтом необходимо авторизовываться в этом же браузере / приложении
              Пользователь А - основной аккаунт, Пользователь Б - вспомогательный
              Между пользователем А и Б есть общий приватный / группоовой чат, в истории которого есть текстовое сообщение от Пользователя А
        - do: Авторизоваться пользователем А, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Для своего сообщения из description вызвать контекстное меню и выставить любую реакцию
        - assert: Меню закрывается и у сообщения проставляется выбранная реакция
        - do: Сделать Forward без подписи на сообщение с реакцией в другой чат, где тоже есть пользователь Б
        - assert: Forward сделан и у оригинального текста сообщения нет реакции
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат, куда пользователь Б отправил Forward
        - assert: У оригинального текста сообщения нет реакции

    Добавляется аватар и имя автора к сообщениям, если поставили реакцию на одно из сообщений  в стеке сообщений[manual]:
        - automation: MSSNGRFRONT-5218
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, м вспомогательным аккаунтом необходимо авторизовываться в этом же браузере / приложении
              Пользователь А - основной аккаунт, Пользователь Б - вспомогательный
              Между пользователем А и Б есть общий группоовой чат
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Отправить три сообщения
        - assert: Сообщения отправлены
        - do: Авторизоваться пользователем А, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Для второго сообщения собеседника вызвать контекстное меню и выставить любую реакцию
        - assert: |
              Меню закрывается и у сообщения проставляется выбранная реакция
              К третьему сообщению добавляется аватар и имя собеседника

    Для своего Reply контейнер накладывается поверх баббла в правом нижнем углу[manual]:
        - automation: MSSNGRFRONT-5218
        - description: У авторизованного пользователя в списке чатво есть приватный / групповой чат в истории которого есть собственный reply
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Для своего сообщения из description вызвать контекстное меню и выставить любую реакцию
        - assert: Меню закрывается и у сообщения проставляется выбранная реакция
        - do: Проверить расположение контейнера с реакцией
        - assert: Контейнер реакции накладывается поверх баббла в правом нижнем углу

    Для Reply собеседника контейнер накладывается поверх баббла в правом нижнем углу[manual]:
        - automation: MSSNGRFRONT-5218
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, м вспомогательным аккаунтом необходимо авторизовываться в этом же браузере / приложении
              Пользователь А - основной аккаунт, Пользователь Б - вспомогательный
              Между пользователем А и Б есть общий приватный / группоовой чат, в истории которого есть Reply от Пользователя Б
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Для своего сообщения из description вызвать контекстное меню и выставить любую реакцию
        - assert: Меню закрывается и у сообщения проставляется выбранная реакция
        - do: Авторизоваться пользователем А, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Проверить расположение контейнера с реакцией
        - assert: Контейнер реакции накладывается поверх баббла в правом нижнем углу

    Удаляется аватар и имя автора к сообщениям, если удалили реакции на одно из сообщений в стеке сообщений[manual]:
        - automation: MSSNGRFRONT-5218
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, м вспомогательным аккаунтом необходимо авторизовываться в этом же браузере / приложении
              Пользователь А - основной аккаунт, Пользователь Б - вспомогательный
              Между пользователем А и Б есть общий группоовой чат
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Отправить три сообщения
        - assert: Сообщения отправлены
        - do: Авторизоваться пользователем А, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Для второго сообщения собеседника вызвать контекстное меню и выставить любую реакцию
        - assert: |
              Меню закрывается и у сообщения проставляется выбранная реакция
              К третьему сообщению добавляется аватар и имя собеседника
        - do: я второго сообщения собеседника вызвать контекстное меню и удалить ранее проставленную реакцию, тапнув по ней
        - assert: Меню закрывается и у сообщения удаляется ранее поставленная реакция.Видим как у третьего сообщения удаляется аватар и имя собеседника А

    В контейнере показывается не более трех популярных реакций плюс счетчик[manual]:
        - automation: MSSNGRFRONT-5218
        - description: |
              Есть Пользователи А, Б, В,Г и они состоят в одном групповом чате
              В этом чате есть текстовое сообщение пользователя А
              Авторизовываться пользовтаелями необходимо будет в одном браузере / приложении
        - do: Авторизоваться пользователем А, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Для своего сообщения из description вызвать контекстное меню и выставить любую реакцию
        - assert: Меню закрывается и у сообщения проставляется выбранная реакция
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Для сообщения собеседника вызвать контекстное меню и выставить реакцию, отличную от выставленной пользователем А
        - assert: Меню закрывается и у сообщения проставляется выбранная реакция
        - do: Авторизоваться пользователем В, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Для сообщения собеседника вызвать контекстное меню и выставить реакцию, отличную от выставленной пользователем А и Б
        - assert: Меню закрывается и у сообщения проставляется выбранная реакция - в контейнере три штуки
        - do: Авторизоваться пользователем Г, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Для сообщения собеседника вызвать контекстное меню и выставить реакцию, отличную от выставленной пользователем А, Б и В
        - assert: Меню закрывается и у сообщения проставляется выбранная реакция - в контейнере три штуки, а на счетчике 4

    Контейнер не показывается для сообщений скрытых модерацией[manual]:
        - automation: MSSNGRFRONT-5218
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, м вспомогательным аккаунтом необходимо авторизовываться в этом же браузере / приложении
              Пользователь А - основной аккаунт, Пользователь Б - вспомогательный
              Между пользователем А и Б есть общий канал, в котором пользователь А - администратор (канал должен быть Публичным, для этого в настройках канала нужно включить ползунок "Публичный канал")
              В истории канала есть текстовое сообщение 18+ от пользователя А (нпример, "Сука")
        - do: Авторизоваться пользователем А, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Тапнуь по скрытому сообщению и раскрыть его
        - assert: Сообщение 18+ раскрыто
        - do: Для своего сообщения из description вызвать контекстное меню и выставить любую реакцию
        - assert: Меню закрывается и у сообщения проставляется выбранная реакция
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Посмотреть на сообщение 18+
        - assert: Оно скрыто и не показывается реакция

    Контейнер с реакциями удаляется, если удалили сообщение[manual]:
        - automation: MSSNGRFRONT-5218
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, м вспомогательным аккаунтом необходимо авторизовываться в этом же браузере / приложении
              Пользователь А - основной аккаунт, Пользователь Б - вспомогательный
              Между пользователем А и Б есть общий приватный / группоовой чат в истории которого есть сообщение от пользователя А
        - do: Авторизоваться пользователем А, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Для своего сообщения из description вызвать контекстное меню и выставить любую реакцию
        - assert: Меню закрывается и у сообщения проставляется выбранная реакция
        - do: Удалить сообщение с реакцией
        - assert: Сообщение удаляется и вместе сообщением удаляется реакция
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Убедиться что у удаленного сообщения нет реакции
        - assert: Реакции нет

    При тапе по контейнеру с реакциями открывается контекстное меню[manual]:
        - automation: MSSNGRFRONT-5218
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, м вспомогательным аккаунтом необходимо авторизовываться в этом же браузере / приложении
              Пользователь А - основной аккаунт, Пользователь Б - вспомогательный
              Между пользователем А и Б есть общий приватный / группоовой чат в истории которого есть сообщение от пользователя А
        - do: Авторизоваться пользователем А, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Для своего сообщения из description вызвать контекстное меню и выставить любую реакцию
        - assert: Меню закрывается и у сообщения проставляется выбранная реакция
        - do: Тапнуть по самому контейнеру с реакцией
        - assert: Открывается контекстное меню сообщения
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Тапнуть по самому контейнеру с реакцией
        - assert: Открывается контекстное меню сообщения

    Можно выставить реакцию для Forward без подписи[manual]:
        - automation: MSSNGRFRONT-5218
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, м вспомогательным аккаунтом необходимо авторизовываться в этом же браузере / приложении
              Пользователь А - основной аккаунт, Пользователь Б - вспомогательный
              Между пользователем А и Б есть общий приватный / группоовой чат в истории которого есть Forward без подписи от пользователя А
        - do: Авторизоваться пользователем А, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Для своего сообщения из description вызвать контекстное меню и выставить любую реакцию
        - assert: Меню закрывается и у сообщения проставляется выбранная реакция
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Вызвать контекстное меню для Forward и выставить любую реакцию, отличную от той что выставил пользователь А
        - assert: Меню закрывается и у сообщения проставляется выбранная реакция

    Можно выставить реакцию для Forward с подписью[manual]:
        - automation: MSSNGRFRONT-5218
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, м вспомогательным аккаунтом необходимо авторизовываться в этом же браузере / приложении
              Пользователь А - основной аккаунт, Пользователь Б - вспомогательный
              Между пользователем А и Б есть общий приватный / группоовой чат в истории которого есть Forward с подписью от пользователя А
        - do: Авторизоваться пользователем А, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть канал из description
        - assert: Открывается канал из description
        - do: Для своего сообщения из description вызвать контекстное меню и выставить любую реакцию
        - assert: Меню закрывается и у сообщения проставляется выбранная реакция
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Вызвать контекстное меню для Forward и выставить любую реакцию, отличную от той что выставил пользователь А
        - assert: Меню закрывается и у сообщения проставляется выбранная реакция

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
