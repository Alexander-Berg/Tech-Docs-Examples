feature: Опечатка и Ко
type: Исключено слово

specs:
  Поиск по исключению `Отменить`:
    - do: получить выдачу по запросу "серфинг -виндсерфинг"
    - assert: получена выдача по указанному запросу
    - assert: на странице присутствует сообщение "Исключены результаты со словом «виндсерфинг»" и кнопка "Отменить"
    - screenshot: Пример внешнего вида [minus-word]
    - do: кликнуть по кнопке "Отменить"
    - tech: сработал счетчик '/wiz/minuswords/all', vars 'source=wizard,pos=top'
    - assert: выдача обновилась
    - assert: в поисковой стрелке отобржается запрос "серфинг виндсерфинг"
    - assertMetrics: '*'

specs-integration:
  Базовое поведение:
    - do: получить выдачу по запросу "серфинг -виндсерфинг"
    - assert: на выдаче присутствует опечаточник с сообщением "Исключены результаты со словом" и исключенное слово в кавычках
    - assert: справа от сообщения присутствует кнопка "Отменить"
    - do: нажать кнопку "Отменить"
    - assert: выдача обновилась
    - assert: на выдаче отсутствует сообщение "Исключены результаты со словом"
    - tech: сработал счетчик '/wiz/minuswords/all', vars 'source=wizard,pos=top'

files:
  - features/common/misspell/misspell_type_minus-word.hermione.js
  - features/common/misspell/misspell_type_minus-word.hermione.e2e.js

v-team: Freshness

tags:
  - yaani
  - searchapp
  - wtp_button
  - touch
  - wtp_ajax
  - ajax
  - mgranny
  - smart
  - button
  - granny
  - meta
  - spok_id
  - wizard
  - misprint
  - reviewed

priority: high

selector: .misspell

counter: /wiz/minuswords

tlds:
  - ru
  - by
  - ua
  - kz
  - uz
