feature: Страница футбольного матча

specs:

  aliases:
    &goTo
      - do: (для рана в браузере) открыть главную страницу сервиса Я.Спорт
      - do: (для рана в ПП) открыть вертикаль Спорта в ПП тапом по иконке в бендере
      - do: открыть спортивный календарь тапом по "Все матчи" в матч-тизере напротив заголовка Футбол ИЛИ если матч-тизер отсутствует по прямой ссылке https://yandex.ru/sport/calendar/football
      - assert: |
          (для рана в браузере) произошел переход на футбольный календарь,
          (для рана в ПП) в новом апп-табе внутреннего браузера ПП, а не в вертикали, открывается футбольный календарь,
          в календаре присутствует дата-пикер https://jing.yandex-team.ru/files/nightsonne/2020-04-13_19-17-24.png
      - do: тапнуть на дата-пикер и установить дату 1 марта 2020
      - assert: открыт список матчей за 1 марта

  может содержать видео [manual]:
    - automation: NERPA-9339
    - tags: backend_sport
    - *goTo
    - assert: некоторые матчи содержат иконку-индикатор видео, скрин https://jing.yandex-team.ru/files/nightsonne/2019-11-11_18-19-20.png
    - do: перейти на страницу футбольного матча тапом на матч с иконкой видео в разделе 'Вчера' или 'Сегодня'
    - assert: |
          страница матча может содержать большое видео, скрин https://jing.yandex-team.ru/files/nightsonne/2019-11-11_18-20-12.png,
          под большим видео расположено название видео,
          под большим видео может быть расположена карусель видео моментов матча
    - do: тапнуть на большое видео
    - assert: в новой вкладке открывается видео матча (на сервисе Яндекс.Эфир, sportbox и тд)
    - do: вернуться на вкладку с матчем
    - do: поскроллить карусель видео
    - assert: |
          карусель скроллится,
          каждое видео содержит подпись момента (максимум 2 строки),
          длинные названия моментов корректно обрезаются многоточием
    - do: тапнуть на любое видео в карусели
    - assert: в новой вкладке открывается видео момента

#  из блоков 'Вчера' или 'Сегодня' содержит футбольный виджет [manual]:
  из списка прошедших матчей содержит футбольный виджет [manual]:
    - automation: NERPA-9339
    - tags: backend_sport
    - *goTo
    - do: перейти на страницу футбольного матча тапом на матч со счетом
    - assert: |
        страница матча содержит футбольный виджет,
        виджет содержит название чемпионата, статус матча, для завершенных матчей - время завершения, названия команд, счет,
        при победе по буллитам или в овертайме виджет содержит соответствующее указание под названием лиги,
        счет и название команды-победителя выделено жирным шрифтом,
        скрин https://jing.yandex-team.ru/files/nightsonne/2019-11-11_18-24-59.png

# закомменчено до возобновления матчей
#  из блока 'Завтра' содержит футбольный виджет [manual]:
#    - automation: NERPA-9339
#    - *goTo
#    - do: перейти на страницу футбольного матча тапом на матч в разделе 'Завтра' (если раздела нет - найти другой матч)
#    - assert: |
#        страница матча содержит футбольный виджет,
#        виджет содержит название чемпионата, названия команд, время начала матча, надпись 'Завтра',
#        скрин https://jing.yandex-team.ru/files/nightsonne/2019-11-11_18-25-51.png

#  из блоков 'Вчера' или 'Сегодня' может содержать блок 'Ход матча' [manual]:
  из списка прошедших матчей может содержать блок 'Ход матча' [manual]:
    - automation: NERPA-9339
    - tags: backend_sport
    - *goTo
    - do: перейти на страницу футбольного матча тапом на матч со счетом
    - assert: |
        страница матча может содержать блок 'Ход матча' (если в данном матче блока нет, открыть другой матч),
        блок содержит логотипы команд или флаги стран,
        рядом с каждым событием указана минута матча,
        скрин https://jing.yandex-team.ru/files/nightsonne/2019-11-11_18-29-04.png
    - do: найти в блоке 'Ход матча' гол или гол с пенальти
    - assert: |
        голы отмечены значком мяча, пенальти - иконкой с буквой П поверх мяча,
        рядом со значком мяча указана фамилия игрока, забившего гол,
        над фамилией игрока есть надпись 'Гооол!' серым шрифтом,
        под фамилией игрока серым шрифтом может быть указан игрок, отдавший пас,
        под фамилией игрока может быть иконка видео голевого момента с кнопкой плэй,
        скрин https://jing.yandex-team.ru/files/nightsonne/2019-11-11_18-39-50.png
    - do: тапнуть по иконке видео рядом с голом
    - assert: в новой вкладке открывается видео голевого момента (на сервисе Яндекс.Эфир, sportbox и тд)
    - do: вернуться на вкладку с матчем
    - do: найти в блоке 'Ход матча' событие выдачи желтой или красной карточки
    - assert: |
        карточки отмечены значком соответствующего цвета,
        рядом со значком указана фамилия игрока, которому выдана карточка,
        над фамилией игрока есть надпись 'Желтая карточка' или 'Красная карточка' серым шрифтом
    - do: найти в блоке 'Ход матча' событие замены игрока
    - assert: |
        замены отмечены цветными стрелками,
        фамилия замененного игрока отображена серым шрифтом,
        фамилия заменяющего игрока отображена черным шрифтом,
        над фамилиями игроков есть надпись 'Замена' серым шрифтом,
        скрин https://jing.yandex-team.ru/files/nightsonne/2019-11-11_18-45-51.png

#  из блоков 'Вчера' или 'Сегодня' может содержать блок 'Состав' [manual]:
  из списка прошедших матчей может содержать блок 'Состав' [manual]:
    - automation: NERPA-9339
    - tags: backend_sport
    - *goTo
    - do: перейти на страницу футбольного матча тапом на матч со счетом
    - assert: |
        страница матча может содержать блок 'Состав' (если в данном матче блока нет, открыть другой матч),
        в блоке есть переключатель состава команд с лого и названием команд,
        длинные названия команд корректно обрезаются многоточнием в переключателе и не выходят за рамки блока переключателя,
        по умолчанию отображается состав первой команды,
        номер и позиция игрока отображены серым шрифтом (позиция игрока сокращена - вр, пз, зщ, нп),
        скрин https://jing.yandex-team.ru/files/nightsonne/2019-11-11_18-48-23.png
    - do: тапнуть по переключателю
    - assert: |
        с анимацией отобразился состав второй команды,
        в блоке с переключателем выделена вторая команда
    - do: найти в блоке 'Состав' гол или гол с пенальти
    - assert: |
         рядом с фамилией игрока, забившего гол, есть иконка мяча и счетчик с количеством голов,
         скрин https://jing.yandex-team.ru/files/nightsonne/2019-11-11_18-56-27.png
    - do: найти в блоке 'Состав' событие замены игрока
    - assert: |
        замены отмечены цветными стрелками,
        рядом с фамилией замененного игрока указана минута замены,
        скрин https://jing.yandex-team.ru/files/nightsonne/2019-11-11_18-52-41.png
    - do: найти в блоке 'Состав' событие событие выдачи желтой или красной карточки
    - assert: справа от фамилии игрока есть значок красной или желтой карточки
    - do: проскроллить до конца блока 'Состав'
    - assert: внизу указан тренер команды

#  из блоков 'Вчера' или 'Сегодня' может содержать турнирную таблицу [manual]:
  из списка прошедших матчей может содержать турнирную таблицу [manual]:
    - automation: NERPA-9339
    - tags: backend_sport
    - *goTo
    - do: перейти на страницу футбольного матча тапом на матч со счетом
    - do: поскроллить матч ниже блоков видео, 'Ход матча', 'Состав'
    - assert: |
        страница матча может содержать блок 'Турнирная таблица' (если в данном матче блока нет, открыть другой матч),
        если есть вкладки групп - по умолчанию открыта вкладка той группы, к которой относятся команды данного матча,
        команды данного матча выделены жирным шрифтом,
        верстка таблицы корректна,
        скрин https://jing.yandex-team.ru/files/nightsonne/2019-12-18_15-02-01.png
    - do: попереключать вкладки групп в таблице (если есть)
    - assert: вкладки переключаются, отображается новый список команд

#  из блоков 'Вчера' или 'Сегодня' может содержать блок 'Другие матчи' [manual]:
  из списка прошедших матчей может содержать блок 'Другие матчи' [manual]:
    - automation: NERPA-9339
    - tags: backend_sport
    - *goTo
    - do: перейти на страницу футбольного матча тапом на матч со счетом
    - do: поскроллить матч ниже блоков видео, 'Ход матча', 'Состав', 'Турнирная таблица'
    - assert: |
        страница матча может содержать блок 'Другие матчи' (если в данном матче блока нет, открыть другой матч),
        блок содержит названия и лого команд, время, дату, счет (в зависимости от того прошел матч или нет),
        внизу есть кнопка 'Все матчи',
        верстка блока корректна,
        скрин https://jing.yandex-team.ru/files/nightsonne/2019-12-18_15-05-48.png
    - do: тапнуть на любой матч в блоке 'Другие матчи'
    - assert: в той же вкладке открывается страница выбранного матча
    - do: вернуться назад
    - do: тапнуть на 'Все матчи'
    - assert: в той же вкладке открывается страница футбольного календаря

#  из блоков 'Вчера' или 'Сегодня' может содержать карточки о связанных с матчем новостях [manual]:
  из списка прошедших матчей может содержать карточки о связанных с матчем новостях [manual]:
    - automation: NERPA-9339
    - tags: backend_sport
    - *goTo
    - do: перейти на страницу футбольного матча тапом на матч со счетом
    - do: поскроллить матч ниже блоков видео, 'Ход матча', 'Состав', но ДО блока 'Новости футбола'
    - assert: |
        страница матча может содержать карточки о связанных с матчем новостях (если в данном матче карточек нет, открыть другой матч),
        карточки о связанных с матчем новостях (при наличии располагаются над заголовком Новости футбола) содержат иконку добавления в избранное (но не сожержат иконку лайка и комментария),
        скрин https://jing.yandex-team.ru/files/nightsonne/2019-11-11_19-00-38.png
    - do: тапнуть по любой карточке о связанных с матчем новостях
    - assert: в новой вкладке открывается страница источника

  содержит Новости футбола [manual]:
    - automation: NERPA-9339
    - tags: backend_sportм
    - *goTo
    - do: перейти на страницу футбольного матча тапом на любой матч
    - do: поскроллить матч ниже блоков видео, 'Ход матча', 'Состав' до блока 'Новости футбола'
    - assert: страница матча содержит новостные карточки
    - do: проскроллить страницу матча до лоадера
    - assert: загружаются новые карточки
    - do: проскроллить страницу на несколько порций карточек
    - assert: |
        новостной блок помимо новостных карточек может содержать карточки с каруселями видео и рекламные блоки,
        карусели видео скроллятся
    - do: тапнуть по заголовку или картинке любой новостной карточки
    - assert: в этой же вкладке открывается страница сюжета
    - do: вернуться назад на страницу футбольного матча
    - do: тапнуть по любому видео в любой карусели
    - assert: в новой вкладке открывается страница с видео

files: []

qa-engineer:
  - nightsonne

tags:
  - sport-fb

priority:
  - middle

tlds:
  - ru
  - ua
  - by
  - kz
  - uz
  - com

v-team: Sport

manager: skhovaev
