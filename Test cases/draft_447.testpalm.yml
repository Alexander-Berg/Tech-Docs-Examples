feature:  Умный дом - задержки в сценариях - отмена выполнения

specs:
    Умный дом - задержки в сценариях - отмена выполнения:
    - tags: 
        - https://testpalm.yandex-team.ru/alice/testcases/4038
        - release_Webview
        - platform_common
        - testid_394744
        - webview_regress
        - iot_scenario
    - do: "Description Для отмены во время задержки есть отдельное окно-модалка. В остальное время показывается меню из https://testpalm.yandex-team.ru/testcase/alice-3047; ; Отменяем действия, которые стоят в сценарии после задержки."
    - do: "Preconditions Создать сценарий с активацией по времени через минуту от сейчас, содержащий задержку"
    - do: "Открыть главную страницу сценариев; Дождаться активации сценария"
    - assert: "В блоке `Скоро сработают` находится созданный сценарий, идёт таймер задержки; Прогресс-бар обновляется с течением времени; <img src=`https://jing.yandex-team.ru/files/cubovaya/prog_on.png` alt=`Скриншот` width=`300`/>"
    - do: "Кликнуть на крестик в плашке исполняемого сценария с задержкой"
    - assert: "Появляется окно с вопросом: `Отменить запуск сценария?`; <img src=`https://jing.yandex-team.ru/files/levkovskayama/Снимок%20экрана%202021-09-15%20в%2016.55.13.cc36129.png` alt=`Скриншот` width=`300`/>"
    - do: "Нажать `Не сейчас`"
    - assert: "Всплывающее окно закрылось"
    - do: "Снова нажать на крестик, затем `Отменить`"
    - assert: "Плашка исполняемого сценария пропадает"
    - do: "Открыть историю срабатывания сценариев"
    - assert: "Есть событие отмены сценария, время соответствует отмене через приложение"
