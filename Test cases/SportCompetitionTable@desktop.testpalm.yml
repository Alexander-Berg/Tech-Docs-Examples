feature: Страница турнира

specs:
  Внешний вид группового этапа турнирной таблицы:
    - tags:
      - sportauto
    - do: открыть /turbo?stub=sportcompetitiontable/football-group-phase-desktop.json
    - assert: турнирная таблица отображается
    - do: ресайзим 1920x1972
    - screenshot: внешний вид соответствует скриншоту [layout-1920]
    - do: ресайзим 1366x1972
    - screenshot: внешний вид соответствует скриншоту [layout-1366]
    - do: ресайзим 1250x1972
    - screenshot: внешний вид соответствует скриншоту [layout-1250]

  Внешний вид турнирной таблицы (Футбол):
    - tags:
      - sportauto
    - do: открыть /turbo?stub=sportcompetitiontable/football-desktop.json
    - assert: турнирная таблица отображается
    - do: ресайзим 1920x1972
    - screenshot: внешний вид соответствует скриншоту [layout-1920]
    - do: ресайзим 1366x1972
    - screenshot: внешний вид соответствует скриншоту [layout-1366]
    - do: ресайзим 1250x1972
    - screenshot: внешний вид соответствует скриншоту [layout-1250]

  Внешний вид турнирной таблицы (Баскетбол):
    - tags:
      - sportauto
    - do: открыть /turbo?stub=sportcompetitiontable/basketball-desktop.json
    - assert: турнирная таблица отображается
    - do: ресайзим 1920x1972
    - screenshot: внешний вид соответствует скриншоту [layout-1920]
    - do: ресайзим 1366x1972
    - screenshot: внешний вид соответствует скриншоту [layout-1366]
    - do: ресайзим 1250x1972
    - screenshot: внешний вид соответствует скриншоту [layout-1250]

  Внешний вид турнирной таблицы (Волейбол):
    - tags:
      - sportauto
    - do: открыть /turbo?stub=sportcompetitiontable/volleyball-desktop.json
    - assert: турнирная таблица отображается
    - do: ресайзим 1920x1972
    - screenshot: внешний вид соответствует скриншоту [layout-1920]
    - do: ресайзим 1366x1972
    - screenshot: внешний вид соответствует скриншоту [layout-1366]
    - do: ресайзим 1250x1972
    - screenshot: внешний вид соответствует скриншоту [layout-1250]

  Внешний вид турнирной таблицы (Хоккей):
    - tags:
      - sportauto
    - do: открыть /turbo?stub=sportcompetitiontable/hockey-desktop.json
    - assert: турнирная таблица отображается
    - do: ресайзим 1920x1972
    - screenshot: внешний вид соответствует скриншоту [layout-1920]
    - do: ресайзим 1366x1972
    - screenshot: внешний вид соответствует скриншоту [layout-1366]
    - do: ресайзим 1250x1972
    - screenshot: внешний вид соответствует скриншоту [layout-1250]

  открывается:
    из матч-центра [manual]:
      - automation: NERPA-8437
      - tags: backend_sport
      - do: открыть главную страницу Я.Спорт
      - assert: в матч-центре по умолчанию открыта вкладка 'Футбол' (!! Любого вида спорта в матч-центре может не быть при отсутствии матчей. В таком случае пропустить шаги кейса для такого вида спорта)
      - do: навести курсор мыши на название любого турнира https://jing.yandex-team.ru/files/nightsonne/2020-03-30_14-07-32.png
      - assert: по ховеру курсор меняет стиль, шрифт выделяется красным
      - do: кликнуть на любой турнир
      - assert: |
          в той же вкладке открывается турнирная таблица,
          название турнира соответствует названию в матч-центре
      - do: вернуться на главную Я. Спорт и открыть вкладку 'Хоккей' в матч-центре
      - do: навести курсор мыши на название любого турнира (НХЛ, КХЛ)
      - assert: по ховеру курсор меняет стиль, шрифт выделяется красным
      - do: кликнуть на любой турнир
      - assert: |
          в той же вкладке открывается турнирная таблица,
          название турнира соответствует названию в матч-центре
      - do: вернуться на главную Я. Спорт и открыть вкладку 'Баскетбол' в матч-центре
      - do: навести курсор мыши на название любого турнира (НБА)
      - assert: по ховеру курсор меняет стиль, шрифт выделяется красным
      - do: кликнуть на любой турнир
      - assert: |
          в той же вкладке открывается турнирная таблица,
          название турнира соответствует названию в матч-центре
      - do: вернуться на главную Я. Спорт и открыть вкладку 'Волейбол' в матч-центре
      - do: навести курсор мыши на название любого турнира
      - assert: по ховеру курсор меняет стиль, шрифт выделяется красным
      - do: кликнуть на любой турнир
      - assert: |
          в той же вкладке открывается турнирная таблица,
          название турнира соответствует названию в матч-центре

    со страницы футбольного матча [manual]:
      - automation: NERPA-8437
      - tags: backend_sport
      - do: открыть главную страницу Я.Спорт
      - do: перейти в календарь кликом по кнопке 'Весь футбол'/'Весь хоккей' в матч-центре
      - assert: в той же вкладке открывается футбольный или хоккейный календарь
      - do: перейти на вкладку Футбол, если открыта вкладка другого вида спорта
      - assert: открыт футбольный календарь (может быть пустым при отсутствии матчей)
      - do: выбрать любой прошедший день, в который проводились матчи, открыв вкладку 'Вчера' или выбрав дату в дата-пикере https://jing.yandex-team.ru/files/nightsonne/2020-03-30_15-03-40.png
      - assert: открыт список матчей за конкретный день
      - do: кликнуть на любой матч со счетом
      - assert: в той же вкладке открылась страница матча
      - do: навести курсор мыши на название турнира в шапке матча
      - assert: по ховеру курсор меняет стиль, шрифт выделяется красным
      - do: кликнуть на название турнира
      - assert: |
          в той же вкладке открывается турнирная таблица,
          название турнира соответствует названию в шапке матча
      - do: вернуться с помощью браузерной кнопки назад на страницу матча
      - do: пролистать страницу матча до блока 'Турнирная таблица' https://jing.yandex-team.ru/files/nightsonne/2020-03-30_16-08-38.png
      - do: навести курсор мыши на название блока 'Турнирная таблица'
      - assert: по ховеру курсор меняет стиль, шрифт выделяется красным
      - do: кликнуть на название блока 'Турнирная таблица'
      - assert: |
          в той же вкладке открывается турнирная таблица,
          название турнира соответствует названию в шапке матча

    со страницы хоккейного матча [manual]:
      - automation: NERPA-8437
      - tags: backend_sport
      - do: открыть главную страницу Я.Спорт
      - do: перейти в календарь кликом по кнопке 'Весь футбол'/'Весь хоккей' в матч-центре
      - assert: в той же вкладке открывается футбольный или хоккейный календарь
      - do: перейти на вкладку Хоккей, если открыта вкладка другого вида спорта
      - assert: открыт хоккейный календарь (может быть пустым при отсутствии матчей)
      - do: выбрать любой прошедший день, в который проводились матчи, открыв вкладку 'Вчера' или выбрав дату в дата-пикере https://jing.yandex-team.ru/files/nightsonne/2020-03-30_16-22-35.png
      - assert: открыт список матчей за конкретный день
      - do: кликнуть на любой матч со счетом
      - assert: в той же вкладке открылась страница матча
      - do: навести курсор мыши на название турнира в шапке матча (КХЛ, НХЛ)
      - assert: по ховеру курсор меняет стиль, шрифт выделяется красным
      - do: кликнуть на название турнира
      - assert: |
          в той же вкладке открывается турнирная таблица,
          название турнира соответствует названию в шапке матча
      - do: вернуться с помощью браузерной кнопки назад на страницу матча
      - do: пролистать страницу матча до блока 'Турнирная таблица' https://jing.yandex-team.ru/files/nightsonne/2020-03-30_16-08-38.png
      - do: навести курсор мыши на название блока 'Турнирная таблица'
      - assert: по ховеру курсор меняет стиль, шрифт выделяется красным
      - do: кликнуть на название блока 'Турнирная таблица'
      - assert: |
          в той же вкладке открывается турнирная таблица,
          название турнира соответствует названию в шапке матча

    со страницы баскетбольного матча [manual]:
      - automation: NERPA-8437
      - tags: backend_sport
      - do: открыть главную страницу Я.Спорт
      - do: перейти в календарь кликом по кнопке 'Весь футбол'/'Весь хоккей' в матч-центре
      - assert: в той же вкладке открывается футбольный или хоккейный календарь
      - do: перейти на вкладку Баскетбол, если открыта вкладка другого вида спорта
      - assert: открыт баскетбольный календарь (может быть пустым при отсутствии матчей)
      - do: выбрать любой прошедший день, в который проводились матчи, открыв вкладку 'Вчера' или выбрав дату в дата-пикере https://jing.yandex-team.ru/files/nightsonne/2020-03-30_16-30-04.png
      - assert: открыт список матчей за конкретный день
      - do: кликнуть на любой матч со счетом
      - assert: в той же вкладке открылась страница матча
      - do: навести курсор мыши на название турнира в шапке матча (НБА)
      - assert: по ховеру курсор меняет стиль, шрифт выделяется красным
      - do: кликнуть на название турнира
      - assert: |
          в той же вкладке открывается турнирная таблица,
          название турнира соответствует названию в шапке матча
      - do: вернуться с помощью браузерной кнопки назад на страницу матча
      - do: пролистать страницу матча до блока 'Турнирная таблица' https://jing.yandex-team.ru/files/nightsonne/2020-03-30_16-08-38.png
      - do: навести курсор мыши на название блока 'Турнирная таблица'
      - assert: по ховеру курсор меняет стиль, шрифт выделяется красным
      - do: кликнуть на название блока 'Турнирная таблица'
      - assert: |
          в той же вкладке открывается турнирная таблица,
          название турнира соответствует названию в шапке матча

    со страницы волейбольного матча [manual]:
      - automation: NERPA-8437
      - tags: backend_sport
      - do: открыть главную страницу Я.Спорт
      - do: перейти в календарь кликом по кнопке 'Весь футбол'/'Весь хоккей' в матч-центре
      - assert: в той же вкладке открывается футбольный или хоккейный календарь
      - do: перейти на вкладку Волейбол, если открыта вкладка другого вида спорта
      - assert: открыт баскетбольный календарь (может быть пустым при отсутствии матчей)
      - do: выбрать любой прошедший день, в который проводились матчи, открыв вкладку 'Вчера' или выбрав дату в дата-пикере (например, 18.09.19) https://jing.yandex-team.ru/files/nightsonne/2020-03-30_16-35-58.png
      - assert: открыт список матчей за конкретный день
      - do: кликнуть на любой матч со счетом
      - assert: в той же вкладке открылась страница матча
      - do: навести курсор мыши на название турнира в шапке матча
      - assert: по ховеру курсор меняет стиль, шрифт выделяется красным
      - do: кликнуть на название турнира
      - assert: |
          в той же вкладке открывается турнирная таблица,
          название турнира соответствует названию в шапке матча
      - do: вернуться с помощью браузерной кнопки назад на страницу матча
      - do: пролистать страницу матча до блока 'Турнирная таблица' https://jing.yandex-team.ru/files/nightsonne/2020-03-30_16-08-38.png
      - do: навести курсор мыши на название блока 'Турнирная таблица'
      - assert: по ховеру курсор меняет стиль, шрифт выделяется красным
      - do: кликнуть на название блока 'Турнирная таблица'
      - assert: |
          в той же вкладке открывается турнирная таблица,
          название турнира соответствует названию в шапке матча

    из футбольного календаря [manual]:
      - automation: NERPA-8437
      - tags: backend_sport
      - do: открыть главную страницу Я.Спорт
      - do: перейти в календарь кликом по кнопке 'Весь футбол'/'Весь хоккей' в матч-центре
      - assert: в той же вкладке открывается футбольный или хоккейный календарь
      - do: в календаре перейти на вкладку Футбол, если открыта вкладка другого вида спорта
      - assert: открыт футбольный календарь (может быть пустым при отсутствии матчей)
      - do: выбрать любой прошедший день, в который проводились матчи, открыв вкладку 'Вчера' или выбрав дату в дата-пикере https://jing.yandex-team.ru/files/nightsonne/2020-03-30_15-03-40.png
      - assert: открыт список матчей за конкретный день
      - do: навести курсор мыши на название турнира в шапке матча https://jing.yandex-team.ru/files/nightsonne/2020-03-30_16-50-21.png
      - assert: по ховеру курсор меняет стиль, шрифт выделяется красным
      - do: кликнуть на название турнира
      - assert: |
          в той же вкладке открывается турнирная таблица,
          название турнира соответствует названию в календаре

    из хоккейного календаря [manual]:
      - automation: NERPA-8437
      - tags: backend_sport
      - do: открыть главную страницу Я.Спорт
      - do: перейти в календарь кликом по кнопке 'Весь футбол'/'Весь хоккей' в матч-центре
      - do: в календаре перейти на вкладку Хоккей, если открыта вкладка другого вида спорта
      - assert: открыт хоккейный календарь (может быть пустым при отсутствии матчей)
      - do: выбрать любой прошедший день, в который проводились матчи, открыв вкладку 'Вчера' или выбрав дату в дата-пикере https://jing.yandex-team.ru/files/nightsonne/2020-03-30_16-22-35.png
      - assert: открыт список матчей за конкретный день
      - do: навести курсор мыши на название турнира в шапке матча (КХЛ, НХЛ)
      - assert: по ховеру курсор меняет стиль, шрифт выделяется красным
      - do: кликнуть на название турнира
      - assert: |
          в той же вкладке открывается турнирная таблица,
          название турнира соответствует названию в календаре

    из баскетбольного календаря [manual]:
      - automation: NERPA-8437
      - tags: backend_sport
      - do: открыть главную страницу Я.Спорт
      - do: перейти в календарь кликом по кнопке 'Весь футбол'/'Весь хоккей' в матч-центре
      - do: в календаре перейти на вкладку Баскетбол
      - assert: открыт баскетбольный календарь (может быть пустым при отсутствии матчей)
      - do: выбрать любой прошедший день, в который проводились матчи, открыв вкладку 'Вчера' или выбрав дату в дата-пикере https://jing.yandex-team.ru/files/nightsonne/2020-03-30_16-30-04.png
      - assert: открыт список матчей за конкретный день
      - do: навести курсор мыши на название турнира в шапке матча (НБА)
      - assert: по ховеру курсор меняет стиль, шрифт выделяется красным
      - do: кликнуть на название турнира
      - assert: |
          в той же вкладке открывается турнирная таблица,
          название турнира соответствует названию в календаре

    из волейбольного календаря [manual]:
      - automation: NERPA-8437
      - tags: backend_sport
      - do: открыть главную страницу Я.Спорт
      - do: перейти в календарь кликом по кнопке 'Весь футбол'/'Весь хоккей' в матч-центре
      - do: в календаре перейти на вкладку Волейбол
      - assert: открыт волейбольный календарь (может быть пустым при отсутствии матчей)
      - do: выбрать любой прошедший день, в который проводились матчи, открыв вкладку 'Вчера' или выбрав дату в дата-пикере (например, 18.09.19) https://jing.yandex-team.ru/files/nightsonne/2020-03-30_16-35-58.png
      - assert: открыт список матчей за конкретный день
      - do: навести курсор мыши на название турнира в шапке матча
      - assert: по ховеру курсор меняет стиль, шрифт выделяется красным
      - do: кликнуть на название турнира
      - assert: |
          в той же вкладке открывается турнирная таблица,
          название турнира соответствует названию в календаре

  позволяет:
    выбрать сезон [manual]:
      - automation: NERPA-8437
      - tags: backend_sport
      - do: открыть страницу турнирной таблицы с выбором сезона https://yandex.ru/sport/competition/3277
      - assert: |
          открыта страница турнирной таблицы https://jing.yandex-team.ru/files/nightsonne/2020-04-07_11-54-46.png,
          цвет шапки таблицы может быть любым и не совпадать со скрином,
          рядом с заголовком расположен селект сезона с галочкой вниз https://jing.yandex-team.ru/files/nightsonne/2020-04-07_11-58-08.png,
          селект имеет прозрачный шрифт, расположен в одну строку с заголовком и не съехал вниз
      - do: наверсти курсор мыши на селект сезона
      - assert: по ховеру шрифт становится непрозрачным, меняется стиль курсора мыши
      - do: кликнуть на селект сезона
      - assert: |
          галочка в названии селекта переворачивается вверх,
          появляется выпадающее меню со списком сезонов https://jing.yandex-team.ru/files/nightsonne/2020-04-07_12-07-00.png,
          текущий сезон отмечен галочкой, остальные сезоны без галочки,
          выпадающее меню не перекрывает заголовок, отображается поверх таблицы
      - do: поскролить страницу вниз с развернутым выпадающим меню
      - assert: при скролле меню не пропадает и не перекрывает рубрикатор сервиса
      - do: поскроллить страницу обратно к началу
      - do: навести курсор на любой не отмеченный галочкой сезон в выпадающем меню
      - assert: по ховеру шрифт становится красным, меняется стиль курсора мыши
      - do: кликнуть по любому не отмеченному галочкой сезону в выпадающем меню
      - assert: |
          страница обновляется,
          в заголовке таблицы указан выбранный сезон
      - do: кликнуть на селект сезона
      - assert: |
          галочка в названии селекта переворачивается вверх,
          появляется выпадающее меню со списком сезонов,
          выбранный сезон отмечен галочкой, остальные сезоны без галочки

    перейти к календарю и обратно [manual]:
      - automation: NERPA-8437
      - do: открыть страницу футбольной турнирной таблицы https://yandex.ru/sport/competition/3277
      - assert: |
          открыта страница турнирной таблицы https://jing.yandex-team.ru/files/nightsonne/2020-04-07_11-54-46.png,
          цвет шапки таблицы может быть любым и не совпадать со скрином,
          по умолчанию открыта вкладка 'Общее',
          фон названия вкладки темный
      - do: наверсти курсор мыши на вкладку 'Календарь'
      - assert: по ховеру фон вкладки становится темным, меняется стиль курсора мыши
      - do: кликнуть на вкладку 'Календарь'
      - assert: |
          открывается вкладка 'Календарь' https://jing.yandex-team.ru/files/nightsonne/2020-04-07_12-33-43.png,
          вкладка 'Общее' больше не выделена, выделена вкладка 'Календарь',
          страница содержит селекты месяца и команды,
          по умолчанию в селектах отображаются текущий месяц и 'Все команды',
          на странице отображаются сгруппированные по дате матчи
      - do: наверсти курсор мыши на вкладку 'Общее'
      - assert: по ховеру фон вкладки становится темным, меняется стиль курсора мыши
      - do: кликнуть на вкладку 'Общее'
      - assert: |
          открывается турнирная таблица, нет бесконечного лоадера на месте таблицы,
          вкладка 'Календарь' больше не выделена, выделена вкладка 'Общее'

    выбрать месяц проведения матчей на вкладке 'Календарь' [manual]:
      - automation: NERPA-8437
      - tags: backend_sport
      - do: открыть страницу футбольной турнирной таблицы https://yandex.ru/sport/competition/3277
      - assert: |
          открыта страница турнирной таблицы https://jing.yandex-team.ru/files/nightsonne/2020-04-07_11-54-46.png,
          цвет шапки таблицы может быть любым и не совпадать со скрином,
          по умолчанию открыта вкладка 'Общее'
      - do: кликнуть на вкладку 'Календарь'
      - assert: |
          открывается вкладка 'Календарь' https://jing.yandex-team.ru/files/nightsonne/2020-04-07_12-33-43.png,
          вкладка 'Общее' больше не выделена, выделена вкладка 'Календарь',
          страница содержит селекты месяца и команды,
          по умолчанию в селектах отображаются текущий месяц и 'Все команды',
          на странице отображаются сгруппированные по дате матчи
      - do: наверсти курсор мыши на селект месяца
      - assert: по ховеру меняется стиль курсора мыши
      - do: кликнуть по селекту месяца
      - assert:  |
          галочка в названии селекта переворачивается вверх,
          появляется выпадающее меню со списком  https://jing.yandex-team.ru/files/nightsonne/2020-04-07_13-02-51.png,
          текущий месяц отмечен галочкой, остальные месяцы без галочки
      - do: поскролить страницу вниз с развернутым выпадающим меню
      - assert: при скролле меню не пропадает и не перекрывает рубрикатор сервиса
      - do: поскроллить страницу обратно к началу
      - do: навести курсор на любой не отмеченный галочкой месяц в выпадающем меню
      - assert: по ховеру шрифт становится красным, меняется стиль курсора мыши
      - do: кликнуть по любому прошедшему месяцу в выпадающем меню
      - assert: |
          некоторое время отображается желтый лоадер, список матчей обновляется,
          группировка списка матчей соответствует выбранному месяцу,
          в селекте отображен выбранный месяц, выпадающее меню скрыто

    выбрать команду на вкладке 'Календарь' [manual]:
      - automation: NERPA-8437
      - tags: backend_sport
      - do: открыть страницу футбольной турнирной таблицы https://yandex.ru/sport/competition/3277
      - assert: |
          открыта страница турнирной таблицы https://jing.yandex-team.ru/files/nightsonne/2020-04-07_11-54-46.png,
          цвет шапки таблицы может быть любым и не совпадать со скрином,
          по умолчанию открыта вкладка 'Общее'
      - do: кликнуть на вкладку 'Календарь'
      - assert: |
          открывается вкладка 'Календарь' https://jing.yandex-team.ru/files/nightsonne/2020-04-07_12-33-43.png,
          вкладка 'Общее' больше не выделена, выделена вкладка 'Календарь',
          страница содержит селекты месяца и команды,
          по умолчанию в селектах отображаются текущий месяц и 'Все команды',
          на странице отображаются сгруппированные по дате матчи
      - do: навести курсор мыши на селект команды
      - assert: по ховеру меняется стиль курсора мыши
      - do: кликнуть по селекту команды
      - assert:  |
          галочка в названии селекта переворачивается вверх,
          появляется выпадающее меню со списком команд https://jing.yandex-team.ru/files/nightsonne/2020-04-07_13-14-53.png,
          в выпадающем меню может быть скролл (для некоторых браузеров (IE, EDGE) скролл будет выглядеть иначе, чем на скрине)
      - do: поскролить страницу вниз с развернутым выпадающим меню
      - assert: при скролле меню не пропадает и не перекрывает рубрикатор сервиса
      - do: поскроллить страницу обратно к началу
      - do: поскролить команды внутри выпадающего меню
      - assert: |
          пункт 'Все команды' отмечен галочкой, остальные команды без галочки,
          длинные названия команд корректно обрезаются многоточием
      - do: навести курсор на любую не отмеченную галочкой команду в выпадающем меню
      - assert: по ховеру шрифт становится красным, меняется стиль курсора мыши
      - do: кликнуть по любой команде  (если результат для выбранной команды окажется пустым, выбрать другую команду)
      - assert: |
          некоторое время отображается желтый лоадер, список матчей обновляется,
          отображены только те матчи, в которых принимала участие выбранная команда,
          группировка списка матчей соответствует выбранному месяцу,
          в селекте отображена выбранная команда, выпадающее меню скрыто

    перейти на страницу футбольной команды [manual]:
      - automation: NERPA-8437
      - tags: backend_sport
      - do: открыть страницу футбольной турнирной таблицы https://yandex.ru/sport/competition/3279
      - assert: |
          открыта страница турнирной таблицы,
          по умолчанию открыта вкладка 'Общее'
      - do: навести курсор мыши на любую ячейку в столбце 'Команда'
      - assert: по ховеру шрифт становится красным, меняется стиль курсора мыши
      - do: кликнуть по любой ячейке в столбце 'Команда'
      - assert: в той же вкладке браузера открывается страница соответствующей команды

    перейти на страницу хоккейной команды [manual]:
      - automation: NERPA-8437
      - tags: backend_sport
      - do: открыть страницу хоккейной турнирной таблицы https://yandex.ru/sport/competition/3551
      - assert: |
          открыта страница турнирной таблицы,
          по умолчанию открыта вкладка 'Общее'
      - do: навести курсор мыши на любую ячейку в столбце 'Команда'
      - assert: по ховеру шрифт становится красным, меняется стиль курсора мыши
      - do: кликнуть по любой ячейке в столбце 'Команда'
      - assert: в той же вкладке браузера открывается страница соответствующей команды

    перейти на страницу баскетбольной команды [manual]:
      - automation: NERPA-8437
      - tags: backend_sport
      - do: открыть страницу баскетбольной турнирной таблицы https://yandex.ru/sport/competition/3563
      - assert: |
          открыта страница турнирной таблицы,
          по умолчанию открыта вкладка 'Общее'
      - do: навести курсор мыши на любую ячейку в столбце 'Команда'
      - assert: по ховеру шрифт становится красным, меняется стиль курсора мыши
      - do: кликнуть по любой ячейке в столбце 'Команда'
      - assert: в той же вкладке браузера открывается страница соответствующей команды

    перейти на страницу волейбольной команды [manual]:
      - automation: NERPA-8437
      - tags: backend_sport
      - do: открыть страницу волейбольной турнирной таблицы https://yandex.ru/sport/competition/3268
      - assert: |
          открыта страница турнирной таблицы,
          по умолчанию открыта вкладка 'Общее'
      - do: навести курсор мыши на любую ячейку в столбце 'Команда'
      - assert: по ховеру шрифт становится красным, меняется стиль курсора мыши
      - do: кликнуть по любой ячейке в столбце 'Команда'
      - assert: в той же вкладке браузера открывается страница соответствующей команды (сборной)

    перейти на страницу футбольного матча [manual]:
      - automation: NERPA-8437
      - tags: backend_sport
      - do: открыть страницу футбольной турнирной таблицы https://yandex.ru/sport/competition/3279
      - assert: |
          открыта страница турнирной таблицы,
          по умолчанию открыта вкладка 'Общее'
      - do: перейти на вкладку 'Календарь'
      - assert: |
          открывается вкладка 'Календарь', вкладка выделена,
          страница содержит селекты месяца и команды,
          по умолчанию в селектах отображаются текущий месяц и 'Все команды',
      - do: выбрать в селекте месяца Март 2020г.
      - assert: на странице отображаются сгруппированные по дате матчи
      - do: навести курсор мыши на любой матч
      - assert: по ховеру шрифт становится красным, меняется стиль курсора мыши
      - do: кликнуть по любому матчу
      - assert: в той же вкладке браузера открывается страница соответствующего матча

    перейти на страницу хоккейного матча [manual]:
      - automation: NERPA-8437
      - tags: backend_sport
      - do: открыть страницу хоккейной турнирной таблицы https://yandex.ru/sport/competition/3551
      - assert: |
          открыта страница турнирной таблицы,
          по умолчанию открыта вкладка 'Общее'
      - do: перейти на вкладку 'Календарь'
      - assert: |
          открывается вкладка 'Календарь', вкладка выделена,
          страница содержит селекты месяца и команды,
          по умолчанию в селектах отображаются текущий месяц и 'Все команды',
      - do: выбрать в селекте месяца Март 2020г.
      - assert: на странице отображаются сгруппированные по дате матчи
      - do: навести курсор мыши на любой матч
      - assert: по ховеру шрифт становится красным, меняется стиль курсора мыши
      - do: кликнуть по любому матчу
      - assert: в той же вкладке браузера открывается страница соответствующего матча

    перейти на страницу баскетбольного матча [manual]:
      - automation: NERPA-8437
      - tags: backend_sport
      - do: открыть страницу баскетбольной турнирной таблицы https://yandex.ru/sport/competition/3563
      - assert: |
          открыта страница турнирной таблицы,
          по умолчанию открыта вкладка 'Общее'
      - do: перейти на вкладку 'Календарь'
      - assert: |
          открывается вкладка 'Календарь', вкладка выделена,
          страница содержит селекты месяца и команды,
          по умолчанию в селектах отображаются текущий месяц и 'Все команды',
      - do: выбрать в селекте месяца Март 2020г.
      - assert: на странице отображаются сгруппированные по дате матчи
      - do: навести курсор мыши на любой матч
      - assert: по ховеру шрифт становится красным, меняется стиль курсора мыши
      - do: кликнуть по любому матчу
      - assert: в той же вкладке браузера открывается страница соответствующего матча

    перейти на страницу волейбольного матча [manual]:
      - automation: NERPA-8437
      - tags: backend_sport
      - do: открыть страницу волейбольной турнирной таблицы https://yandex.ru/sport/competition/3268
      - assert: |
          открыта страница турнирной таблицы,
          по умолчанию открыта вкладка 'Общее'
      - do: перейти на вкладку 'Календарь'
      - assert: |
          открывается вкладка 'Календарь', вкладка выделена,
          на странице отображаются сгруппированные по дате матчи
      - do: навести курсор мыши на любой матч
      - assert: по ховеру шрифт становится красным, меняется стиль курсора мыши
      - do: кликнуть по любому матчу
      - assert: в той же вкладке браузера открывается страница соответствующего матча

    выбрать конференцию [manual]:
      - automation: NERPA-8437
      - tags: backend_sport
      - do: открыть страницу турнирной таблицы НХЛ https://yandex.ru/sport/competition/3547
      - assert: |
          открыта страница турнирной таблицы,
          по умолчанию открыта вкладка 'Общее',
          на вкладке есть табы конференций, по умолчанию выбрана первая вкладка https://jing.yandex-team.ru/files/nightsonne/2020-04-09_18-01-41.png
      - do: навести курсор мыши на любой не выделенный таб
      - assert: по ховеру меняется фон таба, меняется стиль курсора мыши
      - do: переключиться на несколько других табов конференций
      - assert: |
          каждый раз выделяется нужный таб,
          отображается турнирная таблица для данной конференции

  может содержать карусель видео [manual]:
    - automation: NERPA-8437
    - tags: backend_sport
    - do: открыть страницу любой турнирной таблицы с видеокаруселью, например КХЛ https://yandex.ru/sport/competition/3551
    - assert: |
        открыта страница турнирной таблицы,
        по умолчанию открыта вкладка 'Общее',
        под турнирной таблицей может располагаться карусель с видео (если нет - открыть другой турнир, в двух турнирах не нашлась карусель - можно скипнуть кейс),
        каждое видео содержит название матча (может под названием матча содержать название лиги)
    - do: поскроллить карусель видео в горизонтальном направлении
    - assert: |
        карточки скроллятся вправо-влево по клику на элементы со стрелками,
        стрелки исчезают при доскролле карусели до начала или до конца
    - do: навести мышку на видео и название видео
    - assert: |
        по ховеру шрифт названия становится красным,
        по ховеру кнопка плэй скрывается
    - do: кликнуть на любое видео
    - assert: |
        в новой вкладке открывается источник видео (обычно Яндекс.Эфир, video.khl.ru или другие источники),
        видео соответствует превью в карусели

  корректно отображает блоки при изменении высоты таблицы [manual]:
    - automation: NERPA-8437
    - do: открыть страницу любой турнирной таблицы с видеокаруселью, например КХЛ https://yandex.ru/sport/competition/3551
    - assert: |
        открыта страница турнирной таблицы,
        по умолчанию открыта вкладка 'Общее',
        под турнирной таблицей может располагаться карусель с видео,
        справа расположен рекламный блок, внизу - лента новостей
    - do: перейти на вкладку 'Календарь'
    - assert: |
        открывается вкладка 'Календарь', вкладка выделена,
        вкладка содержит селекты месяца и команды,
        на странице отображаются сгруппированные по дате матчи или страница пустая при отсутствии матчей в периоде
    - do: выбрать в селекте месяца любой месяц, в котором проводились матчи
    - assert: на странице отображаются сгруппированные по дате матчи
    - do: поскроллить вниз до блока новостей
    - assert: рекламный блок находится в поле видимости пользователя и скроллится до новостей (кроме IE), скрин https://jing.yandex-team.ru/files/nightsonne/2020-04-10_18-57-46.png
    - do: поскроллить наверх
    - assert: рекламный блок находится в поле видимости пользователя
    - do: поскроллить наверх и выбрать в селекте команды любую команду так, чтобы высота блока со списком матчей уменьшилась
    - assert: на странице отображаются сгруппированные по дате матчи для выбранной команды
    - do: поскроллить вниз
    - assert: |
        рекламный блок находится в поле видимости пользователя и скроллится до новостей (кроме IE),
        между блоком с матчами и каруселью не поехала верстка (не появилась 'дыра', карусель не наезжает на блок и тп),
        между каруселью видео и блоком новостей не поехала верстка (не появилась 'дыра', карусель не наезжает на новостные карточки и тп)
    - do: поскроллить наверх и выбрать в селекте команды 'Все команды', чтобы высота блока со списком матчей увеличилась
    - assert: на странице отображаются сгруппированные по дате матчи
    - do: поскроллить вниз
    - assert: |
        рекламный блок находится в поле видимости пользователя и скроллится до новостей (кроме IE),
        между блоком с матчами и каруселью не поехала верстка (не появилась 'дыра', карусель не наезжает на блок и тп),
        между каруселью видео и блоком новостей не поехала верстка (не появилась 'дыра', карусель не наезжает на новостные карточки и тп)

  корректно отображает блоки при ресайзе окна [manual]:
    - automation: NERPA-8437
    - do: открыть страницу любой турнирной таблицы с видеокаруселью, например КХЛ https://yandex.ru/sport/competition/3551
    - assert: |
        открыта страница турнирной таблицы,
        по умолчанию открыта вкладка 'Общее',
        под турнирной таблицей может располагаться карусель с видео,
        справа расположен рекламный блок, внизу - лента новостей
    - do: порезайзить окно браузера так, чтобы новостные карточки перестроились в трехколоночную верстку
    - assert: |
        блоки перестроились, рекламный блок перестроился в третью колонку,
        в таблице уменьшилась ширина столбца 'Команда', длинные названия команд стали обрезаться многоточнием,
        скрин https://jing.yandex-team.ru/files/nightsonne/2020-04-10_19-25-26.png
    - do: порезайзить окно браузера так, чтобы новостные карточки перестроились в четырехколоночную верстку
    - assert: |
        блоки перестроились, рекламный блок перестроился в четвертую колонку,
        в таблице увеличилась ширина столбца 'Команда',
        блоки не наезжают друг на друга, нет 'дыр'

  может отображать группы и флаги сборных [manual]:
    - automation: NERPA-8437
    - do: открыть страницу турнирной таблицы https://yandex.ru/sport/competition/3268
    - assert: |
        открыта страница турнирной таблицы,
        в турнирной таблице команды разделены на группы,
        верстка таблиц для каждой группы корректна
    - do: поскроллить таблицу, обратить внимание на флаги стран
    - assert: флаги команд имеют серую обводку

  отображает новостные карточки с рекламными блоками [manual]:
      - automation: NERPA-8437
      - tags: backend_sport
      - do: открыть страницу любой турнирной таблицы, например КХЛ https://yandex.ru/sport/competition/3279
      - assert: |
          открыта страница турнирной таблицы,
          по умолчанию открыта вкладка 'Общее',
          внизу располагается лента новостей
      - do: поскроллить страницу на несколько экранов вниз
      - assert: |
          каждый раз рисуется желтый спиннер и загружается новая порция новостных карточек,
          лента содержит рекламные карточки
      - do: доскроллить страницу до футера
      - assert: |
          в последнем ряду при нехватке новостных карточек на их месте отображаются рекламные карточки, скрин https://jing.yandex-team.ru/files/nightsonne/2020-04-10_19-16-45.png ,
          внизу отображается футер

files:
  - platform/components/SportCompetitionTable/__tests__/SportCompetitionTable@desktop.hermione.js

v-team: Sport

qa-engineer: nightsonne

manager: skhovaev

tags:
  - sportdesktop

tlds:
  - ru
  - ua
  - by
  - kz
  - uz
  - com
