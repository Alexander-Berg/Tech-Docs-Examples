feature: Авиа
type: Happy page
description: >-
  В кейсе проверяется блок:
  https://jing.yandex-team.ru/files/shenfeld/2021-03-30_11.19.23-ysbu0.png

  Выполнить покупку авиабилета. Для этого:

  - выполнить поиск туда-обратно, например, Москва - Сочи

  - отфильтровать по партнеру Аэрофлот

  - перейти по предложению от Аэрофлота на страницу бронирования

  - заполнить данные пассажира, перейти к оплате

  - ввести данные тестовой карты: 5555 5555 5555 5599 12/24 123

  - нажать Оплатить
specs:
  'Авиа: блок с данными о рейсе, блок промокода, кнопки действий на happy page':
    - do: Дойти до хэппи пейдж по инструкции из Preconditions
    - assert: >-
        - на странице отображается номер заказа, заголовок "Билет оформлен", текст "Отправили подтверждение на почту ***@yandex.ru. Только для залогина текст "сохранили в разделе "Мои поездки"
        
        - для залогина на десктопе уведомление "Билет сохранен в ваши поездки" и красный кружок у иконки чемодана. На таче только красный кружок на бургер-меню

        - в блоке с данными о рейсах вся информация совпадает с выбранными
        рейсами: номера рейсов, время отправления/прибытия, города, даты.

        - есть блок с контактными данными - все данные совпадают с заполненными
        на шаге бронирования.

        - ниже отображается блок промокода: указан промокод, размер скидки,
        дата, до которой можно воспользоваться:
        https://jing.yandex-team.ru/files/papulova/n9kdoNb9Rc.png
    - do: Нажать на кнопку "Подробнее о заказе"
    - assert: >-
        - произошел переход на страницу заказа авиа в личном кабинете с
        подробными данными о рейсах/пассажирах/стоимости
    - do: |-
        Вернуться браузерной кнопкой "Назад" на хэппи пейдж
        Кликнуть в блоке с промокодом по ссылке "Подробнее"
    - assert: >-
        - произошел переход на страницу "Правила акции. Условия использования
        Промокодов"
manual: true
Устройство:
  - Тач
  - Десктоп
Страница: Happy page
Сервис: Авиа
Тестирование асессорами: Да
Окружение: Testing
Автор: shenfeld
