feature: Колдунщик новостей

specs:
  Ссылка и счётчик:
    Одно видео:
      params:
        foreverdata: '1496855385'
      beforeEach:
        - do: получить выдачу по запросу 'foreverdata'
      Тумба:
        - do: кликнуть в тумбу видео новостного видеохостинга (видео со значком треугольника)
        - tech: отправился счётчик '/$page/$main/$result[@wizard_name="news"]/video-block/card/video'
        - assert: в новой вкладке открылось видео выбранной новости (проверяется сам факт перехода на сервис Яндекс.Эфир. Отсутствие видео на сервисе Я.Эфир не является ошибкой теста)
      Заголовок:
        - do: кликнуть в тайтл видео новостного видеохостинга 
        - tech: отправился счётчик '/$page/$main/$result[@wizard_name="news"]/video-block/card/link'
        - assert: в новой вкладке открылось видео выбранной новости (проверяется сам факт перехода на сервис Яндекс.Эфир. Отсутствие видео на сервисе Я.Эфир не является ошибкой теста)
      Хост:
        - do: кликнуть в гринурл видео новостного видеохостинга 
        - tech: отправился счётчик '/$page/$main/$result[@wizard_name="news"]/video-block/card/path/host'
        - assert: в новой вкладке открылось видео выбранной новости (проверяется сам факт перехода на сервис Яндекс.Эфир. Отсутствие видео на сервисе Я.Эфир не является ошибкой теста)
  Видео в рубричном колдунщике:
    Ссылка и счётчик:
      Одно видео:
        params:
          foreverdata: '4180194985'
        beforeEach:
          - do: получить выдачу по запросу 'foreverdata'
        Заголовок:
          - do: кликнуть в тайтл видео новостного видеохостинга
          - tech: отправился счётчик '/$page/$main/$result[@wizard_name="news"]/video-block/card/link'
          - assert: в новой вкладке открылось видео выбранной новости
          - assertMetrics: '-'
        Тумба:
          - do: кликнуть в тумбу видео новостного видеохостинга (видео со значком треугольника)
          - tech: отправился счётчик '/$page/$main/$result[@wizard_name="news"]/video-block/card/video'
          - assert: в новой вкладке открылось видео выбранной новости
          - assertMetrics: '-'
        Хост:
          - do: кликнуть в гринурл видео новостного видеохостинга
          - tech: отправился счётчик '/$page/$main/$result[@wizard_name="news"]/video-block/card/path/host'
          - assert: в новой вкладке открылось видео выбранной новости
          - assertMetrics: '-'

files:
  - features/news/__video/adapter-news__video@deskpad.hermione.js

v-team: Freshness

tags:
  - news

counter: /$page/$main/$result[@wizard_name="news"]/video-block

tlds: ru
