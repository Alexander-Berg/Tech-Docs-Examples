feature: Отели
type: Страница отеля
description: >-
  Если при открытии страницы отеля не будет найдено предложений от яндекса (с
  фотками и кнопками Забронировать) то поискать этот отель на другие даты
specs:
  Страница отеля. Клики на главной.:
    - do: |-
        Перейти на страницу отеля со следующими параметрами
        отель - novotel
        дата заезда - завтра
        дата выезда - послезавтра
        кол-во гостей - 1
    - assert: Открылась страница отеля
    - do: |-
        По очереди навести курсор на
        ссылку на выдачу (под баннером)
        ссылку "Показать на карте"
        кол-во отзывов
        раскрывашка "Все услуги"
        название отеля из блока похожих
        ссылка "Подробнее о номере"
        варианты сортировки отзывов
        имя юзера из отзывов
        ссылка "Еще отзывы"
    - assert: Курсор поменялся на указатель руку
    - assert: Ссылка стала красной
    - do: Кликнуть по ссылке на выдачу
    - assert: Произошел переход на выдачу соответствующего региона
    - do: Вернуться на страницу отеля
    - do: >-
        нажать на сердечко возле названия отеля (если оно красное, снять
        выделение кликом, а потом кликнуть снова)
    - assert: >-
        Знак сердечка окрасился в красный и появилось сообщение что отель
        добавлен в избранное
    - do: повторно нажать на сердечко
    - assert: >-
        Сердечко стало белым и появилось сообщение что отель убран из
        избранного.
    - do: нажать на ссылку "Показать на карте"
    - assert: открылось модальное окно с картой
    - assert: сниппет отеля отображается на карте
    - do: >-
        закрыть модальное окно крестиком или нажать на затемненную область за
        модальным окном.
    - assert: 'модальное окно закрылось, остались на странице отеля.'
    - do: нажать на кол-во отзывов справа от названия отеля
    - assert: произошел подскролл вниз страницы до блока отзывов.
    - do: нажать на выпадашку "Все услуги"
    - assert: 'выпадашка раскрылась, появились услуги отеля в несколько колонок'
    - do: нажать на выпадашку "Скрыть услуги"
    - assert: 'услуги скрылись, остались только топ фичи (которые были до раскрытия)'
    - assert: ссылка заменилась на "Все услуги"
    - do: нажать на карту.
    - assert: >-
        откроется модальное окно с картой и выбранный отель будет отмечен на
        карте.
    - do: >-
        закрыть модальное окно с картой крестиком или нажать на область за
        модальным окном.
    - assert: модальное окно закрылось и мы остались на странице отеля.
    - do: нажать на любое предложение в блоке "Похожие отели рядом"
    - assert: произошел переход на страницу выбранного отеля (в новой вкладке).
    - do: Вернуться на страницу отеля Novotel
    - do: в блоке номеров нажать "Подробнее о номере"
    - assert: >-
        открылось модальное окно с информацией о номере (название, тип кроватей,
        площадь, топ фичи и все фичи)
    - do: закрыть модальное окно крестиком или нажать за пределы модального окна
    - assert: 'модальное окно закрылось, мы оказались на странице отеля'
    - do: >-
        в блоке номеров у любого предложения кликнуть по иконке или тексту про
        плюс
        ![](https://jing.yandex-team.ru/files/iliasova/2021-08-19_17.00.18-mkb0a.png)
    - assert: открылся попап с информацией про кэшбек плюса
    - assert: в попапе есть ссылка с подробностями
    - do: кликнуть по ссылке в попапе
    - assert: произошел переход на страницу плюса
    - do: вернуться на страницу отеля
manual: true
Устройство:
  - Десктоп
Страница: Страница отеля
Сервис: Отели
Тестирование асессорами: Да
Окружение:
  - Production
  - Testing
Tag:
  - hotels-api
  - Smoke
Автор: iliasova
