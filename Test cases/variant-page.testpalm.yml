feature: Страница варианта

description: страница варианта и все эл-ты на ней по адресу /tutor/subject/variant

specs:
    Сохранение ответов при перезагрузке страницы:
        - tags: smoke
        - do: перейти на страницу решения любого варианта
        - do: ввести в поле ответа первого задания "123"
        - do: перезагрузить страницу
        - assert: в поле ответа первого задания указано "123"
    Модальное окно:
        Завершение теста:
            Первая часть:
                - tags: smoke
                - do: перейти на страницу решения первого варианта базового уровня математики
                - do: нажать на кнопку 'Завершить тест'
                - assert: появилось модальное окно подтверждения завершения задания
                - screenshot: внешний вид модального окна [todo final-modal] # FRONTEND-753
                - do: нажать на кнопку 'Нет, ещё подумаю'
                - assert: модальное окно скрылось
                - do: нажать на кнопку 'Завершить тест'
                - assert: появилось модальное окно подтверждения завершения задания
                - do: нажать на кнопку 'Да, сдать'
                - assert: |
                    модальное окно скрылось
                    открылась страница с отчетом о решении варианта
            Вторая часть:
                - tags: smoke
                - do: перейти на страницу решения тридцать первого варианта профильного уровня математики
                - do: нажать на кнопку 'Завершить'
                - assert: появилось модальное окно подтверждения завершения задания
                - do: нажать на кнопку 'Да, сдать'
                - assert: |
                    модальное окно скрылось
                    открылась вторая страница варианта
                - do: нажать на кнопку 'Завершить'
                - assert: открылась страница с отчетом о решении варианта
    Контрольная работа:
        До открытия:
            - tags: no_assessors
            - do: перейти на страницу варианта 326, добавив в адрес параметр "server_time=1555718400"
            - assert: |
                отображена страница варианта
                задания и таймер скрыты
                отображена карточка (заглушка) с датой открытия варианта
            - screenshot: внешний вид заглушки для варианта [plain]
        До открытия ответов:
            - tags: no_assessors
            - do: перейти на страницу варианта 326, добавив в адрес параметр "server_time=1556259200"
            - assert: |
                отображена страница варианта
                на странице присутствуют задания и таймер
                у задач скрыты номера (ID)
    Количество решенных заданий в варианте не меняется при переходе ко второй части:
        - do: перейти на страницу решения тридцать первого варианта профильного уровня математики
        - do: нажать на кнопку 'Завершить'
        - assert: появилось модальное окно подтверждения завершения задания
        - do: нажать на кнопку 'Да, сдать'
        - assert: |
            модальное окно скрылось
            открылась вторая страница варианта
        - assert: количество решенных заданий равняется 0
    ПДД:
        Общий вид:
            - tags: no_assessors
            - do: перейти на страницу варианта 1338
            - assert: |
                отображена страница варианта ПДД билета №40
                на странице присутствует переключатель заданий и видно первое задание,
                таймер у задач скрыты номера (ID)
            - screenshot: внешний вид страницы для ПДД варианта [plain]

v-team: Younglings

qa-engineer:
    - helm

platform:
    - common

tags:
    - edu-front
    - variant-page

files:
    - tests/hermione/suites/common/variant-page/variant-page.hermione.js
