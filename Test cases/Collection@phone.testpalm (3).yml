feature: Collection

params:
    exp_flags:
        - turbo-app-any-ua=1
        - analytics-disabled=1

specs:
    beforeEach:
        - do: при дальнейшей проверке указанных ожидаемых результатов обращайте внимание на любые некорректные на ваш взгляд поведения, основываясь на свой опыт использования web-приложений (например, сохранение позиции при переходах туда-обратно кнопками на устройстве, пустые экраны при переходах, кривая верстка, скачкИ элементов, плавность скролла, неработающая функциональность и т.п.)

    Подгружаются товары по кнопке:
        - do: получить выдачу по запросу 'site:super01.ru каталог'
        - assert: на выдаче присутствует турбо-сниппет(ы) с серой иконкой ракеты справа от гринурла
        - do: кликнуть по любой ссылке турбо-сниппета для перехода на страницу магазина
        - assert: открылась страница магазина с активной кнопкой Каталог на нижней панели
        - assert: цветовое оформление может отличаться в зависимости от магазина [https://jing.yandex-team.ru/files/skurhanski/chrome_Gw9upIcJ8I.png]
        - do: кликнуть по пиктограмме Главная на нижней панели
        - assert: на странице есть блок товаров со скидками [https://jing.yandex-team.ru/files/skurhanski/chrome_CgQ2hV21x5.png]
        - do: нажать на кнопку "Показать еще"
        - assert: на кнопке сработала анимация
        - assert: подгрузились еще категории

    Переход в категорию:
        - do: получить выдачу по запросу 'site:super01.ru каталог'
        - assert: на выдаче присутствует турбо-сниппет(ы) с серой иконкой ракеты справа от гринурла
        - do: кликнуть по любой ссылке турбо-сниппета для перехода на страницу магазина
        - assert: открылась страница магазина с активной кнопкой Каталог на нижней панели
        - assert: цветовое оформление может отличаться в зависимости от магазина [https://jing.yandex-team.ru/files/skurhanski/chrome_Gw9upIcJ8I.png]
        - do: кликнуть по пиктограмме Главная на нижней панели
        - do: в блоке "Товары со скидками" запомнить заголовок любой карточки
        - do: нажать на карточку
        - assert: открылся листинг категории с товарами
        - assert: заголовок страницы такой же как на карточке
        - assert: страница открылась без анимации
        - assert: все товары на странице со скидками

    После перехода не схлопываются:
        - do: получить выдачу по запросу 'site:super01.ru каталог'
        - assert: на выдаче присутствует турбо-сниппет(ы) с серой иконкой ракеты справа от гринурла
        - do: кликнуть по любой ссылке турбо-сниппета для перехода на страницу магазина
        - assert: открылась страница магазина с активной кнопкой Каталог на нижней панели
        - assert: цветовое оформление может отличаться в зависимости от магазина [https://jing.yandex-team.ru/files/skurhanski/chrome_Gw9upIcJ8I.png]
        - do: кликнуть по пиктограмме Главная на нижней панели
        - do: в блоке "Товары со скидками" нажимать на кнопку "Показать еще" до тех пор пока она не скроется
        - do: нажать на любую карточку в блоке
        - assert: открылся листинг категории с товарами
        - do: нажать на кнопку "Главная" в левом нижнем углу
        - assert: открылась главная страница
        - assert: кнопки "Показать еще" нет в блоке "Товары со скидками"

    Популярные категории:
        - do: получить выдачу по запросу 'site:fulmar.ru' (альтернативные запросы - site:kupicase.ru каталог, 'site:super01.ru')
        - assert: на выдаче присутствует турбо-сниппет(ы) с серой иконкой ракеты справа от гринурла
        - do: кликнуть по любой ссылке турбо-сниппета для перехода на страницу магазина
        - assert: открылась страница магазина с активной кнопкой Каталог на нижней панели
        - assert: цветовое оформление может отличаться в зависимости от магазина [https://jing.yandex-team.ru/files/skurhanski/chrome_Gw9upIcJ8I.png]
        - do: кликнуть по пиктограмме Главная на нижней панели
        - do: в блоке "Популярные категории" запомнить заголовок любой карточки
        - do: нажать на карточку
        - assert: открылась страница категории с карточками товаров
        - assert: заголовок страницы такой же как на карточке
        - assert: страница открылась без анимации

files:
    - components/Collection/__tests__/Collection@phone.hermione.js

tlds:
    - ru

tags:
    - ecom-tap

v-team: Turbo
