feature: Страница футбольного матча на десктопе

specs:

  aliases:
    &goTo
      - do: открыть главную страницу сервиса Я.Спорт
      - do: кликнуть на Матч-центр в рубрикаторе
      - assert: |
          произошел переход в матч-центр,
          в рубрикаторе выделена рубрика Матч-центр,
          в подрубрикаторе выделена вкладка Футбол и открыт футбольный календарь на вкладке Сегодня,
          в календаре присутствует дата-пикер https://jing.yandex-team.ru/files/nightsonne/2020-04-13_19-58-59.png

  содержит основные элементы [manual]:
    - tags: backend_sport
    - do: перейти на страницу футбольного матча по клику на матч
    - assert: |
        на странице есть виджет результата матча со счетом, иконками и названием команд,
        под виджетом может располагаться блок с видео матча, который содержит одно большое видео и несколько маленьких видео справа от большого,
        под виджетом могут быть блоки 'Ход матча', 'Состав', 'Турнирная таблица', 'Другие матчи'
        новостные карточки спорта могут отображаться слева и под блоками,
        справа присутствует рекламный блок,
#        верстка не едет, блоки и элементы не наезжают друг на друга
#    - do: поскролить страницу вверх-вниз
#    - assert: |
#        верстка не едет, блоки и элементы не наезжают друг на друга,
#        какие-то блоки (зависит от их количества и расположения на странице) и реклама могут залипать при скролле и перемещаться в области между рубрикатором и новостными карточками,
#       рубрикатор залипает при скролле вниз и остается в поле видимости
    - do: кликнуть на любую рубрику в рубрикаторе
    - assert: |
        происходит переход в выбранную рубрику,
        в рубрикаторе выделена выбранная рубрика

  #может содержать видео [manual]:
  #  - tags: backend_sport
  #  - *goTo
  #  - do: кликнуть на вкладку Вчера или если вчера матчей не было кликнуть на дата-пикер и установить дату 5 декабря 2020
  #  - assert: |
  #      открыт список матчей за вчера (или за 5 декабря),
  #      некоторые матчи содержат иконку-индикатор видео, скрин https://jing.yandex-team.ru/files/an-smirn0v/shot_210407_154220.png
  #  - do: перейти на страницу футбольного матча кликом на матч с иконкой видео в разделе 'Вчера' или 'Сегодня'
  #  - assert: |
  #        страница матча может содержать большое видео, скрин https://jing.yandex-team.ru/files/an-smirn0v/shot_210407_154303.png,
  #        под большим видео может быть расположена карусель видео моментов матча
  #  - do: кликнуть на большое видео
  #  - assert: в новой вкладке открывается соответсвующий матч, который содержит видео, на которое вы тапнули 
  #  - do: вернуться на вкладку с матчем
  #  - do: поскроллить карусель видео
  #  - assert: |
  #        карусель скроллится,
  #        каждое видео содержит подпись момента (максимум 3 строки),
  #        длинные названия моментов корректно обрезаются многоточием
  #  - do: кликнуть на любое видео в карусели
  #  - assert: в новой вкладке открывается видео момента

  из списка прошедших матчей содержит футбольный виджет [manual]:
    - tags: backend_sport
    - *goTo
    - do: кликнуть на вкладку Вчера или если вчера матчей не было кликнуть на дата-пикер и установить дату 5 декабря 2020
    - assert: открыт список матчей за вчера (или за 5 декабря)
    - do: перейти на страницу футбольного матча кликом на матч со счетом
    - assert: |
        страница матча содержит футбольный виджет,
        виджет содержит название чемпионата, статус матча, для завершенных матчей - дату завершения (дата, либо указание Вчера или Сегодня, зависит от даты окончания матча), названия команд, счет,
        при победе по буллитам или в овертайме виджет содержит соответствующее указание под названием лиги,
        счет и название команды-победителя выделено жирным шрифтом,
        скрин https://jing.yandex-team.ru/files/an-smirn0v/Снимок%20экрана%202021-11-29%20в%2014.34.15.png

  из блока 'Завтра' содержит футбольный виджет [manual]:
    - tags: backend_sport
    - *goTo
    - do: кликнуть на вкладку Завтра
    - do: перейти на страницу футбольного матча кликом на матч в разделе 'Завтра' (если раздела нет - найти другой матч)
    - assert: |
        страница матча содержит футбольный виджет,
        виджет содержит название чемпионата, названия команд, время начала матча, надпись 'Завтра'

  из списка прошедших матчей может содержать блок 'Ход матча' [manual]:
    - tags: backend_sport
    - *goTo
    - do: кликнуть на вкладку Вчера или если вчера матчей не было кликнуть на дата-пикер и установить дату 5 декабря 2020
    - assert: открыт список матчей за вчера (или за 5 декабря)
    - do: перейти на страницу футбольного матча кликом на матч со счетом
    - assert: |
        страница матча может содержать блок 'Ход матча' (если в данном матче блока нет, открыть другой матч),
        блок содержит логотипы команд или флаги стран,
        рядом с каждым событием указана минута матча,
        скрин https://jing.yandex-team.ru/files/nightsonne/2019-11-11_18-29-04.png
    - do: найти в блоке 'Ход матча' гол или гол с пенальти
    - assert: |
        голы отмечены значком мяча, пенальти - иконкой с буквой П поверх мяча,
        рядом со значком мяча указана фамилия игрока, забившего гол,
        над фамилией игрока есть надпись 'Гооол!' серым шрифтом,
        под фамилией игрока серым шрифтом может быть указан игрок, отдавший пас,
        внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-08-12_16-40-32.png
    #- do: кликнуть по иконке видео рядом с голом
    #- assert: в новой вкладке открывается соответсвующий матч, который содержит видео, на которое вы тапнули 
    #- do: вернуться на вкладку с матчем
    - do: найти в блоке 'Ход матча' событие выдачи желтой или красной карточки
    - assert: |
        карточки отмечены значком соответствующего цвета,
        рядом со значком указана фамилия игрока, которому выдана карточка,
        над фамилией игрока есть надпись 'Желтая карточка' или 'Красная карточка' серым шрифтом
    - do: найти в блоке 'Ход матча' событие замены игрока
    - assert: |
        замены отмечены цветными стрелками,
        фамилия замененного игрока отображена серым шрифтом,
        фамилия заменяющего игрока отображена черным шрифтом,
        над фамилиями игроков есть надпись 'Замена' серым шрифтом,
        скрин https://jing.yandex-team.ru/files/nightsonne/2019-11-11_18-45-51.png

  из списка прошедших матчей может содержать блок 'Состав' [manual]:
    - tags: backend_sport
    - *goTo
    - do: кликнуть на вкладку Вчера или если вчера матчей не было кликнуть на дата-пикер и установить дату 5 декабря 2020
    - assert: открыт список матчей за вчера (или за 5 декабря)
    - do: перейти на страницу футбольного матча кликом на матч со счетом
    - assert: |
        страница матча может содержать блок 'Состав' (если в данном матче блока нет, открыть другой матч),
        длинные названия команд корректно обрезаются многоточнием и не выходят за рамки блока,
        отображается составт обеих команд,
        номер и позиция игрока отображены серым шрифтом (позиция игрока сокращена - вр, пз, зщ, нп),
        скрин https://jing.yandex-team.ru/files/an-smirn0v/shot_210407_153555.png
    - do: найти в блоке 'Состав' гол или гол с пенальти
    - assert: |
         рядом с фамилией игрока, забившего гол, есть иконка мяча и счетчик с количеством голов,
         скрин https://jing.yandex-team.ru/files/an-smirn0v/shot_210407_153634.png
    - do: найти в блоке 'Состав' событие замены игрока
    - assert: |
        замены отмечены цветными стрелками,
        рядом с фамилией замененного игрока указана минута замены,
        скрин https://jing.yandex-team.ru/files/nightsonne/2019-11-11_18-52-41.png
    - do: найти в блоке 'Состав' событие событие выдачи желтой или красной карточки
    - assert: справа от фамилии игрока есть значок красной или желтой карточки
    - do: проскроллить до конца блока 'Состав'
    - assert: внизу указан тренер команды

  из списка прошедших матчей может содержать турнирную таблицу [manual]:
    - tags: backend_sport
    - *goTo
    - do: кликнуть на вкладку Вчера или если вчера матчей не было кликнуть на дата-пикер и установить дату 5 декабря 2020
    - assert: открыт список матчей за вчера (или за 5 декабря)
    - do: перейти на страницу футбольного матча кликом на матч со счетом
    - do: поскроллить матч ниже блоков видео, 'Ход матча', 'Состав'
    - assert: |
        страница матча может содержать блок 'Турнирная таблица' (если в данном матче блока нет, открыть другой матч),
        если есть вкладки групп - по умолчанию открыта вкладка той группы, к которой относятся команды данного матча,
        команды данного матча выделены жирным шрифтом,
        верстка таблицы корректна,
        скрин https://jing.yandex-team.ru/files/nightsonne/2019-12-18_15-02-01.png
    - do: попереключать вкладки групп в таблице (если есть)
    - assert: вкладки переключаются, отображается новый список команд

  из списка прошедших матчей может содержать блок 'Другие матчи' [manual]:
    - tags: backend_sport
    - *goTo
    - do: кликнуть на вкладку Вчера или если вчера матчей не было кликнуть на дата-пикер и установить дату 5 декабря 2020
    - assert: открыт список матчей за вчера (или за 5 декабря)
    - do: перейти на страницу футбольного матча кликом на матч со счетом
    - assert: |
        страница матча может содержать блок 'Другие матчи' (если в данном матче блока нет, открыть другой матч),
        блок содержит названия и лого команд, время, дату, счет (в зависимости от того прошел матч или нет),
        внизу есть кнопка 'Все матчи',
        верстка блока корректна,
        скрин блока "Другие матчи" https://jing.yandex-team.ru/files/kossakovskaya/2022-03-29_13-56-47.png
    - do: кликнуть на любой матч в блоке 'Другие матчи'
    - assert: в той же вкладке открывается страница выбранного матча
    - do: вернуться назад
    - do: кликнуть на 'Все матчи'
    - assert: в той же вкладке открывается страница футбольного календаря

  #из списка прошедших матчей может содержать карточки о связанных с матчем новостях [manual]:
  #  - tags: backend_sport
  #  - *goTo
  #  - do: кликнуть на вкладку Вчера или если вчера матчей не было кликнуть на дата-пикер и установить дату 5 декабря 2020
  #  - assert: открыт список матчей за вчера (или за 5 декабря)
  #  - do: перейти на страницу футбольного матча кликом на матч со счетом
  #  - do: поскроллить матч ниже блоков видео, 'Ход матча', 'Состав', но ДО блока 'Новости футбола'
  #  - assert: |
  #      страница матча может содержать карточки о связанных с матчем новостях (если в данном матче карточек нет, открыть другой матч),
  #      карточки о связанных с матчем новостях (при наличии располагаются над таблицей "Ход матча") содержат иконку добавления в избранное (но не сожержат иконку лайка и комментария),
  #      скрин https://jing.yandex-team.ru/files/an-smirn0v/08b0832c-ac91-40d8-a24c-c10ce09f93ae.png
  #  - do: кликнуть по любой карточке о связанных с матчем новостях
  #  - assert: в новой вкладке открывается страница источника
  #  - do: вернуться на предыдущую вкладку с футбольным матчем
  #  - do: проскролить страницу к блоку 'Новости футбола' и кликнуть на любой сюжет
  #  - assert: в текущей вкладке открылся выбранный сюжет
  #  - do: кликнуть по любому источнику в блоке 'Подробнее о событии'
  #  - assert: в новой вкладке открывается страница источника

  содержит Новости футбола [manual]:
    - tags: backend_sport
    - *goTo
    - do: кликнуть на вкладку Вчера или если вчера матчей не было кликнуть на дата-пикер и установить дату 5 декабря 2020
    - assert: открыт список матчей за вчера (или за 5 декабря)
    - do: перейти на страницу футбольного матча кликом на любой матч
    - do: поскроллить матч ниже блоков видео, 'Ход матча', 'Состав' до блока 'Новости футбола'
    - assert: страница матча содержит новостные карточки
    - do: проскроллить страницу матча до лоадера
    - assert: загружаются новые карточки
    - do: проскроллить страницу на несколько порций карточек
    - assert: |
        новостной блок помимо новостных карточек может содержать карточки с каруселями видео и рекламные блоки,
        карусели видео скроллятся,
        обратите внимание! Карусели видео может и не быть, это ок! Заводить на такое баги не нужно!
    - do: кликнуть по заголовку или картинке любой новостной карточки
    - assert: в этой же вкладке открывается страница сюжета
    - do: вернуться назад на страницу футбольного матча
    - do: кликнуть по любому видео в любой карусели (пропустить шаг, если карусели видео нет)
    - assert: в новой вкладке открывается страница с видео

files: []

qa-engineer:
  - nightsonne

manager: mrwhite

tlds:
  - ru
  - ua
  - by
  - kz
  - uz
  - com

