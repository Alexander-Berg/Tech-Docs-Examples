feature: ЖД
type: Ввод данных
description: >-
  Поле "Указать РЖД-бонус" появляется только для перевозчика РЖД/ФПК обычные
  поезда, некоторые фирменные и ласточки и РЖД/ДОСС ласточки и сапсаны.

  Для остальных перевозчиков поле "Указать РЖД-бонус" появляться не должна.

  Поле действует для всех типов документов, кроме военного билета.

  Перейти на главную сервиса

  Перейти на вкладку Ж/Д билеты
specs:
  'ЖД: Разные случаи с полем РЖД-бонус':
    - do: Открыть выдачу Москва - Смоленск через месяц
    - do: >-
        Кликнуть по кнопке покупки для ласточки (кнопка может называться по
        разному, сейчас называется "Выбрать место")
    - assert: '* Осуществился переход на страницу выбора мест'
    - do: 'Выбрать место, кликнуть по кнопке "Указать пассажиров"'
    - assert: |-
        * Осуществился переход на страницу "Данные пассажиров"
        * На странице есть дропдаун "РЖД-бонус"
    - do: 'Перебрать все типы документов, кроме военного билета'
    - assert: >-
        * Для всех типов документов есть дропдаун "РЖД-бонус"

        * Если его развернуть, то появляется поле для ввода:

        ![image](https://jing.yandex-team.ru/files/shenfeld/2020-09-18_16.39.06-1ugqd.png)
    - do: Установить тип документа Военный билет
    - assert: '* Дропдаун "РЖД-бонус" пропал'
    - do: |-
        Вернуться к выдаче
        Сделать перепоиск Москва - Санкт-Петербург на любую дату
    - do: >-
        Для поезда перевозчика Гранд кликнуть по кнопке покупки (если нет
        кнопки, посмотреть на другие даты)

        ![](https://jing.yandex-team.ru/files/shenfeld/2021-02-08_19.09.44-8nmyp.png)
    - assert: '* Осуществился переход на страницу выбора мест'
    - do: Кликнуть по кнопке "Указать пассажиров"
    - assert: |-
        * Осуществился переход на страницу "Указать пассажиров"
        * Дропдауна "РЖД-бонус" нет
    - do: Перебрать все типы документов
    - assert: '* Дропдауна "РЖД-бонус" не появилось'
manual: true
Устройство: Десктоп
Страница: Ввод данных
Сервис: ЖД
Тестирование асессорами: Да
Окружение:
  - Production
  - Testing
Автор: shenfeld
