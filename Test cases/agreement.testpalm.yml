feature: Пользовательское соглашение

specs:
  Проверка базовой версии соглашения:
    Провекра превью соглашения:
      - do: открыть ссылку https://yandex.ru/turbo?stub=agreement/default.json
      - assert: открылось превью пользовательского соглашения
      - screenshot: внешний вид соответствует [preview]


  Проверка версии соглашения с модальным окном:
    beforeEach:
      - do: получить выдачу по запросу 'foreverdata' и кликнуть в заголовок первого сниппета (название заголовка Тестовая cтраница для Block_agreement — турбо)

    Проверка полной версии соглашения:
      - params:
          foreverdata: '924117717'
      - do: кликнуть в черную ссылку "Подробнее"
      - assert: открылась полная версия пользовательского соглашения в модальном окне
      - screenshot: внешний вид модального окна соответствует [full]
      - do: вертикально поскроллить текст полного соглашения до кнопки закрыть
      - do: тапнуть в кнопку "Закрыть"
      - assert: модальное окно закрылось


    Проверка перехода по ссылке на сторонний сайт с пользовательским соглашением:
      - params:
          foreverdata: '924117717'
      - do: кликнуть по подчеркнутой надписи "пользовательским соглашением"
      - assert: в новой вкладке открылся сторонний сайт
  
    Прокрутка полной версии соглашения:
      - params:
          foreverdata: '924117717'
      - do: кликнуть в черную ссылку "Подробнее"
      - tech: сработал счетчик [/turbo/agreement/modal]
      - assert: открылось модальное окно с полной версией пользовательского соглашения
      - do: вертикально поскроллить текст полного соглашения до кнопки закрыть 
      - do: тапнуть в кнопку "Закрыть"
      - assert: модальное окно закрылось

    Проверка закрытия меню в landscape:
      - params:
          foreverdata: '924117717'
      - do: повернуть устройство в горизонтальную ориентацию
      - do: кликнуть в черную ссылку "Подробнее"
      - tech: сработал счетчик [/turbo/agreement/modal]
      - assert: открылось модальное окно
      - do: тапнуть в кнопку "Закрыть"
      - assert: модальное окно закрылось

files:
  - features/blocks/agreement/agreement.hermione.js

v-team: Turbo

manager: tanzwuta

qa-engineer: olga0321

tlds: none
