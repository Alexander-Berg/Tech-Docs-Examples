feature: Кандидат
type: Быстрые правки

specs:
  Правки тегов:
      - do: открыть страницу /candidates/<id>/
      - assert: на странице есть блок Теги с иконкой карандаша
      - screenshot: пример внешнего вида [tags]
      - do: кликнуть на иконку карандаша
      - assert: |
          появилась форма редактирования тегов
          форма заполнена соответственно тегам кандидата
      - screenshot: пример внешнего вида [tags_edit_form]
      - do: добавить и удалить несколько тегов
      - screenshot: пример внешнего вида [tags_edit_form_changed]
      - do: нажать на кнопку Сохранить
      - assert: |
          форма редактирования тегов пропала
          блок Теги на странице кандидата содержат обновленные значения
      - screenshot: пример внешнего вида [tags_changed]
  Правки рекрутеров, проверка обязательных полей:
    - do: открыть страницу /candidates/id/
    - assert: в шапке есть блок Рекрутеры с иконкой карандаша
    - screenshot: пример внешнего вида [recruiters]
    - do: кликнуть на иконку карандаша
    - assert: |
        появилась форма редактирования рекрутеров
        форма заполнена соответственно рекрутерам кандидата
    - screenshot: пример внешнего вида [recruiters_edit_form]
    - do: удалить основного рекрутера
    - screenshot: пример внешнего вида [recruiters_edit_form_changed]
    - do: нажать на кнопку Сохранить
    - assert: |
        под полем Основной рекрутер появилась ошибка Обязательное поле
    - screenshot: пример внешнего вида [recruiters_form_error]
  Правки рекрутеров, проверка ошибок:
    - do: открыть страницу /candidates/id/
    - assert: в шапке есть блок Рекрутеры с иконкой карандаша
    - screenshot: пример внешнего вида [recruiters]
    - do: кликнуть на иконку карандаша
    - assert: |
        появилась форма редактирования рекрутеров
        форма заполнена соответственно рекрутерам кандидата
    - screenshot: пример внешнего вида [recruiters_edit_form]
    - do: изменить основного рекрутера на пользователя без роли рекрутер
    - do: добавить к рекрутерам пользователя без роли рекрутер
    - screenshot: пример внешнего вида [recruiters_edit_form_changed]
    - do: нажать на кнопку Сохранить
    - assert: |
        под полями Основной рекрутер и Рекрутеры появилась ошибка Пользователь не является рекрутером
    - screenshot: пример внешнего вида [recruiters_form_error]
  Правки рекрутеров:
    - do: открыть страницу /candidates/id/
    - assert: в шапке есть блок Рекрутеры с иконкой карандаша
    - screenshot: пример внешнего вида [recruiters]
    - do: кликнуть на иконку карандаша
    - assert: |
        появилась форма редактирования рекрутеров
        форма заполнена соответственно рекрутерам кандидата
    - screenshot: пример внешнего вида [recruiters_edit_form]
    - do: поменять основного ректурера
    - do: поменять рекрутеров
    - screenshot: пример внешнего вида [recruiters_edit_form_changed]
    - do: нажать на кнопку Сохранить
    - assert: |
        форма редактирования рекрутеров пропала
        блок Рекрутеры на странице кандидата содержить обновленные значения
    - screenshot: пример внешнего вида [recruiters_changed]
  Правки контактов, проверка обязательных полей:
    - do: открыть страницу /candidates/id/
    - assert: на странице есть блок Контакты с иконкой карандаша
    - screenshot: пример внешнего вида [contacts]
    - do: кликнуть на иконку карандаша
    - assert: |
        появилась форма редактирования контактов
        форма заполнена соответственно контактам кандидата
    - screenshot: пример внешнего вида [contacts_edit_form]
    - do: удалить все контакты
    - screenshot: пример внешнего вида [contacts_edit_form_changed]
    - do: нажать на кнопку Сохранить
    - assert: |
        под полем Контакты появилась ошибка Обязательное поле
    - screenshot: пример внешнего вида [contacts_form_error]
  Правки контактов, проверка ошибок:
    - do: открыть страницу /candidates/id/
    - assert: в шапке есть блок Контакты с иконкой карандаша
    - screenshot: пример внешнего вида [contacts]
    - do: кликнуть на иконку карандаша
    - assert: |
        появилась форма редактирования контактов
        форма заполнена соответственно контактам кандидата
    - screenshot: пример внешнего вида [contacts_edit_form]
    - do: заполнить основной емейл невалидным значением
    - do: заполнить основной телефон невалидным значением
    - do: добавить несколько дополнительных контактов и заполнить их невалидными значениями
    - screenshot: пример внешнего вида [contacts_edit_form_changed]
    - do: нажать на кнопку Сохранить
    - assert: |
        под неправильно заполненными полями появились ошибки Неверное значение
    - screenshot: пример внешнего вида [contacts_form_error]
  Правки контактов:
    - do: открыть страницу /candidates/id/
    - assert: в шапке есть блок Контакты с иконкой карандаша
    - screenshot: пример внешнего вида [contacts]
    - do: кликнуть на иконку карандаша
    - assert: |
        появилась форма редактирования контактов
        форма заполнена соответственно контактам кандидата
    - screenshot: пример внешнего вида [contacts_edit_form]
    - do: изменить основной email
    - do: изменить основной телефон
    - do: изменить основной скайп
    - do: удалить несколько дополнительных контактов
    - do: добавить несколько новых дополнительных контактов
    - screenshot: пример внешнего вида [contacts_edit_form_changed]
    - do: нажать на кнопку Сохранить
    - assert: |
        форма редактирования контактов пропала
        блок Контакты на странице кандидата содержит обновленные значения
    - screenshot: пример внешнего вида [contacts_changed]
  Правки профессий, проверка обязательных полей:
    - do: открыть страницу /candidates/id/
    - assert: на странице есть блок Профессии с иконкой карандаша
    - screenshot: пример внешнего вида [professions]
    - do: кликнуть на иконку карандаша
    - assert: |
        появилась форма редактирования контактов
        форма заполнена соответственно контактам кандидата
    - screenshot: пример внешнего вида [professions_edit_form]
    - do: очистить поле профессия
    - screenshot: пример внешнего вида [professions_edit_form_changed]
    - do: нажать на кнопку Сохранить
    - assert: |
        под полем Профессия появилась ошибка Обязательное поле
    - screenshot: пример внешнего вида [professions_form_error]
  Правки профессий:
    - do: открыть страницу /candidates/id/
    - assert: в шапке есть блок Профессии с иконкой карандаша
    - screenshot: пример внешнего вида [professions]
    - do: кликнуть на иконку карандаша
    - assert: |
        появилась форма редактирования профессий
        форма заполнена соответственно контактам кандидата
    - screenshot: пример внешнего вида [professions_edit_form]
    - do: удалить одну профессию
    - do: у второй профессии изменить значение поля профессия
    - do: у второй профессии изменить значение поля зарплатные ожидания
    - do: добавить еще одну профессию
    - do: заполнить у нее поле профессия
    - do: заполнить у нее поле зарплатные ожидания
    - screenshot: пример внешнего вида [professions_edit_form_changed]
    - do: нажать на кнопку Сохранить
    - assert: |
        форма редактирования профессий пропала
        блок Профессии на странице кандидата содержить обновленные значения
    - screenshot: пример внешнего вида [professions_changed]
  Правки ФИО:
    - do: открыть страницу /candidates/<id>/
    - assert: на странице есть блок ФИО с иконкой карандаша
    - screenshot: пример внешнего вида [fullName]
    - do: кликнуть на иконку карандаша
    - assert: |
        появилась форма редактирования ФИО
        форма заполнена соответственно ФИО кандидата
    - screenshot: пример внешнего вида [fullName_edit_form]
    - do: изменить имя
    - do: изменить фамилию
    - do: изменить отчество
    - screenshot: пример внешнего вида [fullName_edit_form_changed]
    - do: нажать на кнопку Сохранить
    - assert: |
        форма редактирования ФИО пропала
        блок ФИО на странице кандидата содержит обновленные значения
    - screenshot: пример внешнего вида [fullName_changed]
  Правки ФИО, проверка обязательных полей:
    - do: открыть страницу /candidates/id/
    - assert: на странице есть блок Контакты с иконкой карандаша
    - screenshot: пример внешнего вида [fullName]
    - do: кликнуть на иконку карандаша
    - assert: |
        появилась форма редактирования контактов
        форма заполнена соответственно контактам кандидата
    - screenshot: пример внешнего вида [fullName_edit_form]
    - do: удалить фамилию кандидата
    - screenshot: пример внешнего вида [fullName_edit_form_changed]
    - do: нажать на кнопку Сохранить
    - assert: |
        под полем Фамилия появилась ошибка Обязательное поле
    - screenshot: пример внешнего вида [fullName_form_error]
  Правки рассмотрения:
    - do: открыть страницу /candidates/id/
    - assert: в шапке есть блок Прочее с иконкой карандаша
    - screenshot: пример внешнего вида [consideration]
    - do: кликнуть на иконку карандаша
    - assert: |
        появилась форма редактирования рассмотрения
        форма заполнена соответственно данным о рассмотрении кандидата
    - screenshot: пример внешнего вида [consideration_edit_form]
    - do: изменить источник
    - do: описание источника
    - screenshot: пример внешнего вида [consideration_edit_form_changed]
    - do: нажать на кнопку Сохранить
    - assert: |
        форма редактирования рассмотрения пропала
        блок Прочее на странице кандидата содержит обновленные значения
    - screenshot: пример внешнего вида [consideration_changed]
  Правки опыта работы:
    - do: открыть страницу /candidates/id/
    - assert: в профиле есть блок Опыт работы с иконкой карандаша
    - screenshot: пример внешнего вида [jobs]
    - do: кликнуть на иконку карандаша
    - assert: |
        появилась форма редактирования опыта работы
        форма заполнена соответственно опыту работы кандидата
    - screenshot: пример внешнего вида [jobs_edit_form]
    - do: удалить одно место работы
    - do: изменить работодателя
    - do: изменить должность
    - do: изменить дату начала работы
    - do: изменить дату завершения работы
    - do: изменить оценку текущего вознаграждения
    - do: добавить еще одно место работы
    - do: заполнить все поля
    - screenshot: пример внешнего вида [jobs_edit_form_changed]
    - do: нажать на кнопку Сохранить
    - assert: |
        форма редактирования опыта работы пропала
        блок Опыт работы на странице кандидата содержит обновленные значения
    - screenshot: пример внешнего вида [jobs_changed]
  Правки образования, проверка ошибок:
    - do: открыть страницу /candidates/id/
    - assert: на странице есть блок Образование с кнопкой быстрого редактирования
    - screenshot: пример внешнего вида [educations]
    - do: кликнуть на кнопку быстрого редактирования
    - assert: |
        появилась форма редактирования образования
        форма заполнена соответственно образованию кандидата
    - screenshot: пример внешнего вида [educations_edit_form]
    - do: очистить поле Учебное заведение
    - do: ввести неправильное значение в поле Год окончания
    - screenshot: пример внешнего вида [educations_edit_form_changed]
    - do: нажать на кнопку Сохранить
    - assert: |
        под полями Учебное заведение и Год окончания появились ошибки
    - screenshot: пример внешнего вида [educations_form_error]
  Правки образования:
    - do: открыть страницу /candidates/id/
    - assert: на странице есть блок Образование с кнопкой быстрого редактирования
    - screenshot: пример внешнего вида [educations]
    - do: кликнуть на кнопку быстрого редактирования
    - assert: |
        появилась форма редактирования образования
        форма заполнена соответственно образованию кандидата
    - screenshot: пример внешнего вида [educations_edit_form]
    - do: удалить одно образование
    - do: у второго изменить значение всех полей
    - do: добавить еще одно образование
    - do: заполнить у нее все поля
    - screenshot: пример внешнего вида [educations_edit_form_changed]
    - do: нажать на кнопку Сохранить
    - assert: |
        форма редактирования образования пропала
        блок Образование на странице кандидата содержит обновленные значения
    - screenshot: пример внешнего вида [educations_changed]

  Правки О Кандидате:
    - do: открыть страницу /candidates/id/
    - assert: на странице есть блок О Кандидате с кнопкой быстрого редактирования
    - screenshot: пример внешнего вида [personal]
    - do: кликнуть на кнопку быстрого редактирования
    - assert: |
        появилась форма редактирования образования
        форма заполнена соответственно образованию кандидата
    - screenshot: пример внешнего вида [personal_edit_form]
    - do: изменить значение всех полей
    - screenshot: пример внешнего вида [personal_edit_form_changed]
    - do: нажать на кнопку Сохранить
    - assert: |
        форма редактирования образования пропала
        блок Образование на странице кандидата содержит обновленные значения
    - screenshot: пример внешнего вида [personal_changed]

tags:
    - reviewed

files:
  - tests/hermione/suites/desktop/candidates/quick_edit/quick_edit.hermione.js

priority: normal

browsers:
  - yandex-browser-desktop
  - firefox-desktop
  - safari-desktop
