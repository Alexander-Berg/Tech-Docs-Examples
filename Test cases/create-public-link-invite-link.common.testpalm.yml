feature: Формирование публичной ссылки

specs:

    При нажатии на кнопку "Скопировать" публичная ссылка сохраняется в буфер обмена[manual]:
        - tags: [advanced_smoke]
        - automation: MSSNGRFRONT-5140
        - description: |
              Необходимо иметь аккаунт пользователя А
              Пользователь А авторизован в браузере
              Есть групповой чат, в котором пользователь А администратор и в настройках чата включен переключатель "Публичная ссылка"
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Нажать на шапку чата
        - assert: |
              Открылось окно "Информация о чате"
              Есть кнопка "Скопировать ссылку"
        - do: Нажать на кнопку  "Скопировать ссылку"
        - assert: Появилось сообщение "Ссылка скопирована"
        - do: Закрыть окно "Информация"
        - assert: Открыт чат из description
        - do: Вставить скопированную ссылку в поле ввода
        - assert: |
              В поле ввода появился инвайт линк
              Инвайт линк имеет структуру https://yandex.ru/chat/#/join/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx, где "xxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx" - хэш, который генерирует бекенд (уникален для каждого чата)

    При каждом включении тумблера для создания публичной ссылки генерируется новая ссылка[manual]:
        - tags: [advanced_smoke]
        - automation: MSSNGRFRONT-5140
        - description: |
              Необходимо иметь аккаунт пользователя А
              Пользователь А авторизован в браузере
              Есть групповой чат, в котором пользователь А администратор и в настройках чата включен переключатель "Публичная ссылка"
        - do: Открыть групповой чат, который описан в description
        - assert: Чат открыт
        - do: Нажать на шапку чата
        - assert: |
              Открылось окно "Информация"
              Есть кнопка "Скопировать ссылку"
        - do: Нажать на кнопку "Настройки чата"
        - assert: |
              Открывается окно натсроек чата
              Ползунок "Публичная ссылка" включен
              Есть кнопка "Скопировать ссылку"
              Есть кнопка "Обновить ссылку"
        - do: Нажать на кнопку  "Скопировать ссылку"
        - assert: Появилось сообщение "Ссылка скопирована"
        - do: Закрыть окно с натсройками чата
        - assert: Открыт чат из description
        - do: Вставить скопированную ссылку в поле ввода
        - assert: |
              В поле ввода появился инвайт линк
              Инвайт линк имеет структуру https://yandex.ru/chat/#/join/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx, где "xxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx" - хэш, который генерирует бекенд (уникален для каждого чата)
        - do: Нажать кнопку отправить
        - assert: Сообщение отправилось и отображается в окне чата
        - do: Нажать на шапку чата
        - assert: Открылось окно "Информация о чате"
        - do: Нажать на кнопку "Настройки чата"
        - assert: |
              Открывается окно натсроек чата
              Ползунок "Публичная ссылка" включен
              Есть кнопка "Скопировать ссылку"
              Есть кнопка "Обновить ссылку"
        - do: Нажать на кнопку "Обновить ссылка"
        - assert: Ссылка обновилась
        - do: Нажать на кнопку  "Скопировать ссылку"
        - assert: Появилось сообщение "Ссылка скопирована"
        - do: Сохранить изменения и закрыть крточку "Информация о чате"
        - assert: Открыть чат из description
        - do: Вставить скопированную ссылку в поле ввода
        - assert: |
              В поле ввода появился инвайт линк
              Инвайт линк имеет структуру https://yandex.ru/chat/#/join/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx, где "xxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx" - хэш, который генерирует бекенд (уникален для каждого чата)
        - do: Отправить сообщение в чат
        - assert: |
              Сообщение с инвайт линком отправлено в чат
              В последних двух инвайт линках разный хэш

files: []

v-team: Chat

tlds: ru

tags:
        - yamb
        - y-team
