feature: ЖД
type: Выбор мест
description: |
  Под "мало мест" подразумевается, что в любом из вагонов в поезде осталось <4
  мест.

  Перейти на вкладку ЖД
  Найти такой поезд, чтобы в каждом из вагонов осталось <4 мест
  ![image](https://jing.yandex-team.ru/files/shenfeld/2020-01-13_17.03.47-fduzm.png)

  Для этого нужно поискать на ближайшие даты поезд, где в целом осталось не
  много мест (посмотреть на выдаче)

  Можно искать на выдачах Москва - Санкт-Петербург, Москва - Екатеринбург или
  любых других

  Если не получается найти, можно взять поезд с наименьшим количеством свободных
  мест и в соседних вкладках забронировать лишние места в вагонах.
specs:
  'ЖД: Случай, когда в поезде осталось мало мест':
    - do: Перейти на страницу выбора мест для поезда из подготовки
    - assert: |
        * На странице есть предупреждение "В этом поезде не осталось вагонов с четырьмя свободными местами"
        * Общее количество допустимых билетов в подсказках и контролле  равно количеству свободных мест в вагоне с максимальным количеством свободных мест
        * Примерный внешний вид для тача https://jing.yandex-team.ru/files/semirka/Screenshot_74-1.png
    - do: Выбрать максимально допустимое кол-во взрослых билетов
    - assert: Нельзя выбрать больше 3 пассажиров с местом, дальше кнопка добавить "+" дизайблится
    - do: Нажать на кнопку добавить "+" у контролла детских билетов с местом
    - assert: |
        * Кнопка задизайблена и пассажиры не добавляются
        * Можно добавить только столько билетов, чтобы в сумме получилось не более допустимого количества в этом поезде, остальные варианты задизейблены

manual: true
Функциональность: Разное по странице выбора мест
Устройство:
  - Десктоп
  - Тач
Страница: Выбор мест
Сервис: ЖД
Тестирование асессорами: Да
Окружение:
  - Production
  - Testing
Автор: shenfeld
