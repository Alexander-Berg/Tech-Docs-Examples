feature: Меншен в списке чатов

specs:

    В списке чатов отображается значок меншена в превью чата[manual]:
        - tags: [b2b]
        - automation: 
        - description: Для прохождения кейса необходимо 2 аккаунта между которыми есть групповой чат и с историей.
        - do: Запустить тестовое приложениие и октрыть список чатов пользователем А
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в **description**
        - assert: Чат открыт
        - do: Пользователем Б призвать в чат пользователя А отправив в чат значок меншена @ и имя пользователя А
        - assert: Меншен отправлен в чат
        - do: Пользователем А открыть список чатов и посмотреть на превью чата куда отправлен меншен
        - assert: В превью чата отображается значок меншена и счетчик равный 1 если после призыва не были отправлены другие сообщения и счетчик не вырос
        - do: Пользователем А сделать холодный старт приложения, запустить его вновь и открыть список чатов
        - assert: |
              Список чатов открыт
              В чате из шага 7 отображается меншен и счетчик равный 1

    В списке чатов пропадает меншен если его удалить из сообщения[manual]:
        - automation:
        - description: Для прохождения кейса необходимо 2 аккаунта между которыми есть групповой чат и с историей.
        - do: Запустить тестовое приложениие и октрыть список чатов пользователем А
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в **description**
        - assert: Чат открыт
        - do: Пользователем Б призвать в чат пользователя А отправив в чат, сообщение типа **@ПользовательА привет**
        - assert: Сообщение отправлено в чат, меншен выделен цветом
        - do: |
              Пользователем А **НЕ читать** сообщение
              Пользователем Б отредактировать сообщение удалив меншен, получив **ПользовательА привет** и отправить его в чат
        - assert: Сообщение отправлено у пользователя А в списке чатов пропал значок меншена и отображается только счетчик равный 1
        - do: Сделать холодный старт приложения пользователем А, запустить его вновь и открыть список чатов
        - assert: |
              Список чатов открыт
              В чате из шага 7 не отображается меншен
              Счетчик непрочитанных сообщений равен 1

    В списке чатов пропадает меншен если удалить сообщение с меншеном[manual]:
        - automation:
        - description: Для прохождения кейса необходимо 2 аккаунта между которыми есть групповой чат и с историей.
        - do: Запустить тестовое приложениие и октрыть список чатов пользователем А
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в **description**
        - assert: Чат открыт
        - do: Пользователем Б призвать в чат пользователя А отправив в чат значок меншена @ и имя пользователя А
        - assert: Меншен отправлен в чат
        - do:  Пользователем А открыть список чатов и посмотреть на превью чата куда отправлен меншен
        - assert: В превью чата отображается значок меншена и счетчик равный 1 если после призыва не были отправлены другие сообщения и счетчик не вырос
        - do: |
              Пользователем А не читать сообщение!
              Пользователем Б удалить сообщение отправленное в шаге 3
        - assert: |
              Сообщение удалено
              У Пользователя А в превью чата исчез значок меншена и остался счетчик равный 1
        - do: Сделать холодный старт приложения, запустить его вновь и открыть список чатов
        - assert:  |
              Список чатов открыт
              В чате из шага 4 не отображается меншен и есть счетчик равный 1  

    Меншен в списке чатов не пропадает если удалить один из меншенов в сообщении[manual]:
        - automation:
        - description: Для прохождения кейса необходимо 2 аккаунта между которыми есть групповой чат и с историей.
        - do: Запустить тестовое приложениие и октрыть список чатов пользователем А
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в **description**
        - assert: Чат открыт
        - do: Пользователем Б призвать в чат пользователя А отправив в чат, сообщение типа **@ПользовательА привет @ПользовательА**
        - assert: |
              Сообщение отправлено в чат
              Меншены выделены цветом
        - do:  Пользователем А открыть список чатов и посмотреть на превью чата куда отправлен меншен
        - assert: В превью чата отображается значок меншена и счетчик равный 1 если после призыва не были отправлены другие сообщения и счетчик не вырос
        - do: |
              Пользователем А НЕ читать сообщение
              Пользователем Б отредактировать сообщение удалив любой меншен, получив например сообщение **ПользовательА привет** и отправить его в чат
        - assert: |
              Сообщение отправлено в чат
              Меншен выделен цветом
        - do: Пользователем А открыть список чатов и посмотреть на превью чата куда отправлен меншен
        - assert:  В превью чата отображается значок меншена и счетчик равный 1 если после призыва не были отправлены другие сообщения и счетчик не вырос
        - do:  Пользователем А сделать холодный старт приложения, запустить его вновь и открыть список чатов
        - assert:  |
              Список чатов открыт
              В чате из шага 5 отображается меншен и счетчик равный 1

    Меншен остается цветным если мьютим чат[manual]:
        - automation:
        - description: Для прохождения кейса необходимо 2 аккаунта между которыми есть групповой чат и с историей.
        - do: Запустить тестовое приложениие и октрыть список чатов пользователем А
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в **description**
        - assert: Чат открыт
        - do: Пользователем Б призвать в чат пользователя А отправив в чат значок меншена @ и имя пользователя А
        - assert: У пользователя А в списке чатов отображается цветной значок меншена и счетчик равный 1
        - do:  |
              Пользователем А не читать сообщение!
              Отключить уведомления в чате вызвав контекстное меню к чату лонгтапом
        - assert: |
              Уведомления в чате выключены.
              На превью чата отображается цветной значок меншена и черно-белый счетчик сообщений
        - do: Пользователем А сделать холодный старт приложения, запустить его вновь и открыть список чатов
        - assert: Список чатов открыт. На превью чата отображается цветной значок меншена и черно-белый счетчик сообщенй 
    
    Значок меншена пропадает если прочитать сообщения с другого устройства[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта между которыми есть групповой чат и с историей.
              На 2х проверяемых устройствах авторизоваться пользователем А
              На 3м устройстве (например веб) авторизоваться пользователем Б
        - do: Пользователем А открыт список чатов на 2х устройствах
        - assert: Список чатов открыт
        - do:  Пользователем Б призвать в чат пользователя А отправив в чат значок меншена @ и имя пользователя А
        - assert: |
              Меншен отправлен в чат
              У пользователя А в списке чатов есть значок меншена и отображается счетчик равный 1
        - do: На одном из устройств из шага 1 прочитать сообщение и посмотреть на 2е устройство с аккаунтом А
        - assert: На втором устройстве из списка чатов пропадает значок меншена и счетчик сообщений
          
files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team