feature: Добавление домена в профиле организации

aliases:
  - &Valid
    - assert: кнопка "+" напротив "Собственные домены:" отображается
    - do: нажать круг с "+" напротив "Собственные домены:"
    - assert: открылся попап "Новый домен"

  - &Invalid
    - assert: напротив "Собственные домены:" нет круга с "+"
    - screenshot: скриншот профиля организации без круга с "+" [plain]

specs:
  В организации без технического домена:
    Положительные:
      1. Попап добавления домена:
        - do: авторизоваться под администратором организации без домена и перейти по ссылке {{CONNECT_HOST}}/portal/profile
        - *Valid

    Отрицательные:
      1. Кнопки "+" нет:
        - do: авторизоваться под администратором организации с доменом и перейти по ссылке {{CONNECT_HOST}}/portal/profile
        - *Invalid
  В организации с техническим доменом:
    Положительные:
      1. Попап добавления домена:
        - do: авторизоваться под администратором(sup@kub.yaconnect.com 689-5Bd-3PS-rjG) организации с техническим доменом *.yaconnect.com и перейти по ссылке {{CONNECT_HOST}}/portal/profile
        - *Valid
    Отрицательные:
      1. Кнопки "+" нет:
        - do: авторизоваться под администратором организации с техническим доменом *.yaconnect.com и с добавленным доменом, перейти по ссылке {{CONNECT_HOST}}/portal/profile
        - *Invalid

files:
  - tests/hermione/suites/organization/profile-add-domain.js

priority: blocker

tlds:
 - ru
 - com

tags:
  - smoke_test_assessors
  - regression
  - reviewed
