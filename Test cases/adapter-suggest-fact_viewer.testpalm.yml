feature: Факт
type: Саджест с просмотрщиком картинок

specs:
  Просмотрщик в галерее в фактах:
  - tags: ['smoke']
  - do: получить выдачу Поиска по запросу 'мот рост' _ALTERNATIVE_SEARCH_QUERIES_
  - assert: на первой позиции выдачи есть Фактовый ответ c галереей картинок
  - assertMetrics: '*'
  - screenshot: пример внешнего вида [before-open]
  - do: кликнуть в первую картинку в галерее
  - assert: открылся просмотрщик с выбранной картинкой в большем размере
  - screenshot: пример внешнего вида [after-open]
  - tech: проверить счетчик на открытие просмотрщика
  - do: кликнуть в стрелочку направо в просморщике
  - assert: картинка в просмотрщике поменялась на следующую
  - tech: проверить счетчик на смену картинки в просмотрщике
  - do: кликнуть в стрелочку влево в просморщике
  - assert: картинка в просмотрщике поменялась на предыдущую
  - tech: проверить счетчик на смену картинки в просмотрщике
  - do: кликнуть на вторую картинку в просморщике
  - assert: картинка в просмотрщике поменялась на coответвующую
  - tech: проверить счетчик на смену картинки в просмотрщике
  - do: нажать на крестик в просмотрщике
  - assert: просмотрщик закрылся
  - tech: проверить счетчик на смену картинки в просмотрщике
  - assertMetrics: '*'

  Проверка работы счетчиков при переключении стрелками:
  - do: получить выдачу Поиска по запросу 'мот рост' _ALTERNATIVE_SEARCH_QUERIES_
  - assert: на первой позиции выдачи есть Фактовый ответ c галереей картинок
  - do: кликнуть в первую картинку в галерее
  - assertMetrics: '*'
  - tech: проверить счетчик на открытие просмотрщика
  - screenshot: пример внешнего вида количества картинок в каруселе [before-open]
  - do: кликнуть в стрелочку направо на клавиатуре
  - assert: картинка в просмотрщике поменялась на следующую
  - tech: проверить счетчик на смену картинки в просмотрщике
  - do: кликнуть в стрелочку влево на клавиатуре
  - tech: проверить счетчик на смену картинки в просмотрщике
  - assert: появляется прежняя картинка
  - assertMetrics: '*'

  Проверка ховера в галерее:
  - do: получить выдачу Поиска по запросу 'мот рост' _ALTERNATIVE_SEARCH_QUERIES_
  - screenshot: пример внешнего вида [before-thumb]
  - do: навести ховер на вторую картинку в галерее
  - assert: изменился фон картинки
  - screenshot: пример внешнего вида [thumb-hover]

files:
  - features/desktop/adapter-suggest-fact/adapter-suggest-fact_viewer.hermione.js

v-team: Facts

counter: /$page/$main/$result[@wizard_name="suggest_fact"]/gallery

tags:
  - skip_e2e_check
  #тест избыточен, функциональность проверяется в hermione

tlds: [ru, ua, by, kz, uz]

priority: high
