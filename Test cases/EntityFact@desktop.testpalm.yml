feature: Факт
type: Объектный

specs:
  beforeEach:
    - do: получить выдачу по запросу 'сколько лет мадонне'
    - assert: на первой позиции выдачи есть Фактовый ответ с картинкой (тумбой)

  Ссылка в тумбе:
    - screenshot: внешний вид соответствует скриншоту [plain]
    - assertMetrics: '-'
    - do: кликнуть по картинке (тумбе) в Фактовом ответе
    - tech: проверить счетчик в тумбе
    - assert: |
        произошел перезапрос в той же вкладке
        в строке поиска изменился запрос
    - assertMetrics: '-'

  Ссылка в первой хлебной крошке:
    - assertMetrics: '-'
    - do: кликнуть по первой хлебной крошке в Фактовом ответе
    - tech: проверить счетчик в первой хлебной крошки
    - assert: |
        произошел перезапрос в той же вкладке
        в строке поиска  изменился запрос
    - do: вернуться на предыдущую выдачу, например, по кнопке 'Назад'
    - assert: цвет в первой хлебной крошки остался серый
    - assertMetrics: '-'

  Шторка обратной связи:
    - do: кликнуть по ссылке "Сообщить об ошибке" в нижней части факта
    - assert: открылось модальное окно для обратной связи
    - screenshot: внешний вид модального окна для обратной связи [feedback-drawer]

files:
  - src/features/EntityFact/EntityFact.test/EntityFact@desktop.hermione.js

v-team: Facts

tags: ['smoke']

tlds: [ru, by, ua, kz, uz, com.tr, com]
