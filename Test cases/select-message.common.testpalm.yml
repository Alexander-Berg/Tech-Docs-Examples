feature: Контекстное меню (Выбрать)

import-steps:
    - tests/hermione/suites/messenger/shared-steps/open-messenger.testpalm.steps.yml

tlds: ru

specs:

    Выбор сообщения:
        - attach: Авторизация и открытие чата yamb
        - do: отправить произвольное сообщение в чат c пользователем stas.mihailov666
        - do: открыть контекстное меню, нажав правой кнопкой мыши(desktop) или тапнув(touch) на сообщении
        - do: в контекстном меню нажать на "Выбрать"
        - assert: |
            выделилось сообщение
            в поле ввода появилось информационное сообщение "Выбрано 1 сообщение"
            в поле ввода справа появились кнопки дейсвтия над выбранными сообщениями
        - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/karserg/2019-11-22T15%3A38%3A11Z.png]

    Выбор и пересылка нескольких сообщений:
        - attach: Авторизация и открытие чата yamb
        - do: отправить произвольное сообщение в чат c пользователем stas.mihailov666
        - do: отправить любой файл в чат (весом < 50 МБ)
        - do: отправить любое изображение в чат
        - do: отправить любой стикер в чат
        - do: открыть контекстное меню, нажав правой кнопкой мыши(desktop) или тапнув(touch) на отправленное сообщение
        - do: в контекстном меню нажать "Выбрать"
        - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/karserg/2019-11-22T15%3A38%3A11Z.png]
        - do: выбрать отправленный файл, нажав один раз по нему
        - do: выбрать отправленное изображение, нажав один раз по нему
        - do: выбрать отправленный стикер, нажав один раз по нему
        - assert: |
            выбрались сообщение, файл, изображение и стикер
            информационное сообщение изменялось при каждом выборе
        - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/joshuan/Messenger_2019-02-07_14-04-24.png]
        - do: нажать на кнопку пересылки сообщения
        - assert: открылось модальное окно с выбором чатов для пересылки сообщений
        - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/joshuan/Messenger_2019-02-07_12-50-28.png]
        - do: в модальном окне нажать на любой чат
        - assert: forward сообщение прикрепилось к полю ввода чата
        - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/joshuan/Messenger_2019-02-07_14-05-54.png]
        - do: ввести произвольное сообщение в поле ввода чата
        - do: нажать кнопку отправить
        - assert: сообщение отправилось и отобразилось в чате
        - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/joshuan/Messenger_2019-02-07_14-06-55.png]

    Отмена выбора сообщения с помощью кнопки в виде крестика:
        - attach: Авторизация и открытие чата yamb
        - do: отправить произвольное сообщение в чат c пользователем stas.mihailov666
        - do: открыть контекстное меню, нажав правой кнопкой мыши(desktop) или тапнув(touch) на сообщении
        - do: в контекстном меню нажать на "Выбрать"
        - assert: |
            выделилось сообщение
            в поле ввода появилось информационное сообщение "Выбрано 1 сообщение"
        - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/karserg/2019-11-22T15%3A38%3A11Z.png]
        - do: отменить выбор сообщения, нажав на крестик слева от информационного сообщения
        - assert: отменился выбор сообщения

    Отмена выбора сообщения с помощью нажатия на выделенное сообщение:
        - attach: Авторизация и открытие чата yamb
        - do: отправить произвольное сообщение в чат c пользователем stas.mihailov666
        - do: открыть контекстное меню, нажав правой кнопкой мыши(desktop) или тапнув(touch) на сообщении
        - do: в контекстном меню нажать на "Выбрать"
        - assert: |
            выделилось сообщение
            в поле ввода появилось информационное сообщение "Выбрано 1 сообщение"
        - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/karserg/2019-11-22T15%3A38%3A11Z.png]
        - do: отменить выбор сообщения, нажав на выделенное сообщение
        - assert: отменился выбор сообщения

files:
    - tests/hermione/suites/messenger/message-history/context-menu/select-message.chamb.common.hermione.ts

v-team: Chat

tags:
    - chamb
    - yamb
    - y-team
    - no_assessors
