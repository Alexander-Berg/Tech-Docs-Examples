feature: Главная страница Яндекс.Новостей

specs-integration:
  должна открываться:
      - do: перейти по ссылке https://yandex.ru/news/
      - assert: главная страница открылась

specs:
  имеет внешний вид:
    - do: открыть главную страницу сервиса Яндекс.Новости 'https://yandex.ru/news/'
    - do: установить разрешение экрана 1920 на 1080
    - screenshot: внешний вид топ-5 соответствует скриншоту [top-1920]
    - screenshot: внешний вид топа Москвы соответствует скриншоту [rubric-top-1920]
    - do: установить разрешение экрана 1600 на 900
    - screenshot: внешний вид топ-5 соответствует скриншоту [top-1600]
    - screenshot: внешний вид топа Москвы соответствует скриншоту [rubric-top-1600]
    - do: установить разрешение экрана 1366 на 900
    - screenshot: внешний вид топ-5 соответствует скриншоту [top-1366]
    - screenshot: внешний вид топа Москвы соответствует скриншоту [rubric-top-1366]
    - do: установить разрешение экрана 1260 на 900
    - screenshot: внешний вид топ-5 соответствует скриншоту [top-1260]
    - screenshot: внешний вид топа Москвы соответствует скриншоту [rubric-top-1260]

  должна содержать топ-5 рубрик в определенном порядке:
    - tags:
      - smoke
      - backend_news
      - smoke_zen
    - do: открыть выдачу сервиса на странице рубрики 'Главное', поскроллить рубрику
    - assert: |
        первый блок карточек в рубрике содержит топ-5 новостей,
        ниже на странице сгруппированы топ-5 новостей рубрик, кроме спецрубрики (например, рубрика 'Коронавирус' - спецрубрика) и рубрики 'Видео',
        порядок рубричных блоков такой же, как порядок рубрик в рубрикаторе,
        рубричные блоки на странице не дублируются
    - do: поскроллить до топ-5 любой рубрики
    - assert: |
        блок топ-5 новостей рубрики содержит одну обычную карточку и четыре маленьких карточки,
        маленькие карточки могут содержать картинку справа (в некоторых сюжетах карточки могут отсутствовать), заголовок, аннотацию (может скрываться на узком экране), название издательства и время (иногда еще дату) публикации,
        внешний вид https://jing.yandex-team.ru/files/nightsonne/2021-01-19_17-05-12.png

  cодержит рекламу:
    - tags:
      - smoke
      - backend_news
      - smoke_zen
    - do: открыть выдачу сервиса на странице рубрики 'Главное', поскроллить рубрику
    - assert: |
        рекламный блок с тремя рекламными карточками располагается после топ-5 рубрики 'Политика' и перед футером
        рекламный блок обозначен словом 'Реклама', скрин https://jing.yandex-team.ru/files/nightsonne/2020-07-06_13-24-22.png

  позволяет перейти в рубрику Политика:
    - tags:
      - smoke
      - backend_news
    - do: открыть выдачу сервиса на странице рубрики 'Главное', поскроллить рубрику до топ-5 рубрики Политика
    - do: навести курсор мыши на название блока Политика
    - assert: по ховеру на навание изменяется стиль отображения курсора
    - do: кликнуть по названию блока Политика
    - assert: в той же вкладке открывается выбранная рубрика

  позволяет перейти в подрубрику:
    - tags:
      - smoke
      - backend_news
      - smoke_zen
    - do: открыть выдачу сервиса на странице рубрики 'Главное'
    - do: проскроллить страницу к топ-5 рубрики 'Общество'
    - assert: |
        'Главная' содержит подрубрикатор с подрубриками, может содержать бабблы с темами и кнопку 'Еще N',
        внешний вид https://jing.yandex-team.ru/files/nightsonne/2020-07-16_13-37-34.png
    - do: навести курсор на любой баббл с подрубрикой
    - assert: по ховеру меняется стиль курсора, фон баббла становится черным, шрифт - белым
    - do: кликнуть на подрубрику 'Здоровье'
    - assert: |
        осуществляется переход на страницу подрубрики,
        в подрубрикаторе рубрики выделена подрубрика 'Здоровье',
        внешний вид https://jing.yandex-team.ru/files/nightsonne/2020-07-06_13-22-07.png

  может содержать выпадающее меню:
    - tags:
      - smoke
    - do: открыть выдачу сервиса на странице рубрики 'Главное'
    - do: навести курсор мыши на 'Еще N' в подрубрикаторе любой рубрики, кроме рубрики Спорт, на Главной (если ни в одном топе нет 'Еще N' - пропустить дальнейшие шаги)
    - assert: |
        по ховеру меняется стиль курсора,
        шрифт элемента подрубрикатора становится черным,
        по ховеру появляется выпадающее меню с пунктами подрубрикатора, верстка элементов корректна,
        выпадающее меню располагается прямо под элементом 'Еще N'
    - do: убрать курсор мыши с 'Еще N'
    - assert: выпадающее меню пропадает

files:
  - features/news/index/index.desktop.hermione.js
  - features/news/index/index.desktop.hermione.e2e.js

manager: Glushneva

qa-engineer: volkhonov

tlds:
  - ru
  - by
  - kz
  - uz
  - ua
  - com
