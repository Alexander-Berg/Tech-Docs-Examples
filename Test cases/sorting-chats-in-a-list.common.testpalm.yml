feature: Сортировка чатов в списке

specs:

    В списке чатов нет чата "Сохраненные сообщения",  у нового авторизованного пользователя[manual]:
        - automation:
        - do: Запустить тестовое приложение в неавторизованном состоянии
        - assert: |
              Открыто окно мессенджера
              Есть кнопка "Войти в аккаунт"
        - do: Нажать на кнопку "Войти в аккаунт" и авторизоваться аккаунтом, у которого еще нет ни одного чата
        - assert: |
              Авторизация прошла успешно
              В списке чатов не отображается чат "Сохраненные сообщения" 

    В превью приватного чата корректно отображается названи чата[manual]:
        - tags: [advanced_smoke, b2b]
        - automation: MSSNGRFRONT-593
        - description: У авторизованного пользователя А в списке контактов есть пользователь 
        - do: Под пользователем А запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Нажать кнопку создания нового чата
        - assert: |
              Открывается окно в котором есть кнопки "Новый групповой чат" и "Новый канал"
              Ниже отображается список контактов
        - assert: Найти в списке контактов пользователя Б и нажать на него
        - do: Найти в списке чатов только что созданный чат
        - assert: Открывается окно приватного чата 
        - do: Отправить в чат сообщение
        - assert: Сообщение было отправлено
        - do: В списке чатов найти приватный чат с пользователем Б
        - assert: У чата название совпадает с тем, как подписан пользователь в списке контактов

    В превью группового чата корректно отображается названи чата[manual]:
        - tags: [advanced_smoke, b2b]
        - automation: MSSNGRFRONT-593
        - do: Под пользователем А запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Создать групповой чат, введя корректные данные на каждом шагу (добавив в чат пользователя Б)
        - assert: Чат создается с введенными данными
        - do: Найти в списке чатов только что созданный чат
        - assert: Чат найден и название чата соответствует тому названию, что дали при создании
        - do: Под пользователем Б открыть список чатов и найти только что созданный чат
        - assert: В списке чатов отображается чат и название чата соответствует тому названию, что дали при создании

    Если заголовок приватного чата не помещается в одну строчку, то обрезается троеточием[manual]:
        - automation:
        - description: У авторизованного пользователя А в списке контактов есть пользователь Б с длинным именем и с которым есть приватный чат 
        - do: Под пользователем А запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Найти в списках чатов приватный чат с пользователем из description
        - assert: Чат найден
        - do: Убедиться что длинный заголовок обрезается троеточием
        - assert: Название обрезается троеточием и не налазит на другие элементы в списке чатов

    Если заголовок группового чата не помещается в одну строчку, то обрезается троеточием[manual]:
        - automation:
        - do: Под пользователем А запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Создать групповой чат, введя корректные данные на каждом шагу (важно - название чата сделать очень длинным)
        - assert: Чат создается с введенными данными
        - do: Найти в списке чатов только что созданный чат
        - assert: |
              Созданный чат отображается в списке чатов
              Длинное название чата обрезается многоточием и не налазит на другие элементы 

    Есть сортировка приватных чатов по времени последнего сообщения[manual]:
        - automation:
        - description: У авторизованного пользователя в списке чатов есть приватный чат /групповой чат / канал
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть самый последний приватный чат в списке чатов и отправить в него сообщение
        - assert: Сообщение отправлено
        - do: Проверить отображение данного чата в списке чатов
        - assert: Чат, в который отправили сообщение, поднялся на первое место (если есть закрепленные чаты, то данный чат расположился под закрепленными чатами)

    Список чатов можно скроллить[manual]:
        - tags: [advanced_smoke, b2b]
        - automation:
        - description: У авторизованного пользователя в списке чатов есть более 30 чатов
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Проскроллить чаты вниз/вверх
        - assert: Список чатов скроллится

    Есть сортировка групповых чатов по времени последнего сообщения[manual]:
        - tags: [advanced_smoke, b2b]
        - automation:
        - description: У авторизованного пользователя в списке чатов есть приватный чат /групповой чат / канал
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть самый последний групповой чат в списке чатов и отправить в него сообщение
        - assert: Сообщение отправлено
        - do: Проверить отображение данного чата в списке чатов
        - assert: Чат, в который отправили сообщение, поднялся на первое место (если есть закрепленные чаты, то данный чат расположился под закрепленными чатами)

    Корректная анимация при перемещении чатов[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              Между пользователем А и Б есть общий приватный / групповой чат (данный чат у пользователя А находиться на в самом вверху списка)
              У пользователя А в списке чатов еть также и другие чаты
        - do: Пользовавтелем А запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем Б открыть общий чат с пользователем А
        - assert: Открыто окно чата
        - do: Отправить в чат сообщение
        - assert: Сообщение отправлено
        - do: Пользователем А проверить корректность анимации перемещения чата при получении сообщения
        - assert: Чат поднимается по списку чатов без графических дефектов, нарушений верстки и т.д.

    В списке чатов нет чата с Алисой[manual]:
        - automation:
        - description: Авторизованы в мессенджере
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Проверить наличие чата с Алисой
        - assert: В списке чатов отсутствует чат с Алисой

    В списке чатов отображается "Приватный чат" для пользователя и собеседника, если чат создали ч/з отправку стикера[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              У авторизованного пользователя А в списке контактов есть пользователь Б сс котором нет приватного чата
        - do: Под пользователем А запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Нажать кнопку создания нового чата
        - assert: |
              Открывается окно в котором есть кнопки "Новый групповой чат" и "Новый канал"
              Ниже отображается список контактов
        - assert: Найти в списке контактов пользователя Б и нажать на него
        - do: Найти в списке чатов только что созданный чат
        - assert: Открывается окно приватного чата 
        - do: Отправить в чат стикер
        - assert: Стикер был отправлен
        - do: В списке чатов найти приватный чат с пользователем Б
        - assert: Приватный чат с пользователем Б остается в списке чатов
        - do: Под пользователем Б убедиться, что приватный чат был создан
        - assert: |
              Чат отображается в списке чатов
              В превью чата отображается счетчик непрочитанных сообщений и содержание последнего сообщения
        - do: Открыть приватный чат с пользователем Б
        - assert: |
              Открыто окно приватного чата
              В окне чата отображается стикер

    В списке чатов отображается "Приватный чат" для пользователя и собеседника, если чат создали ч/з отправку изображения/файла.[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              У авторизованного пользователя А в списке контактов есть пользователь Б с котором нет приватного чата
        - do: Под пользователем А запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Нажать кнопку создания нового чата
        - assert: |
              Открывается окно в котором есть кнопки "Новый групповой чат" и "Новый канал"
              Ниже отображается список контактов
        - assert: Найти в списке контактов пользоватаеля Б и нажать на него
        - do: Найти в списке чатов только что созданный чат
        - assert: Открывается окно приватного чата 
        - do: Отправить в чат изображние / файл
        - assert: Изображение / файл были отправлены
        - do: В списке чатов найти приватный чат с пользователем Б
        - assert: Приватный чат с пользователем Б остается в списке чатов
        - do: Под пользователем Б убедиться, что приватный чат был создан
        - assert: |
              Чат отображается в списке чатов
              В превью чата отображается счетчик непрочитанных сообщений и содержание последнего сообщения
        - do: Открыть приватный чат с пользователем Б
        - assert: |
              Открыто окно приватного чата
              В окне чата отображается Изображение / файл

    Можно вернуться в список чатов из окна чата, через стрелку "Назад"[manual]:
        - automation:
        - description: |
              У авторизованного пользователя в списке чатов есть приватный / групповой чат
              Если тест-кейс проходится в веб-браузере, то для прохождения тест-кейса необходимо уменьшить размеры браузера до момента когда в окне мессенджера будет отображаться только список чатов или только окно чата
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть чат из description
        - assert: Открывается окно чата
        - do: Нажать стрелку "Назад" в шапке чата
        - assert: Возвращаемся в список чатов
        - do: Открыть окно чата из description
        - assert: Открывается окно чата

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
    - chamb

