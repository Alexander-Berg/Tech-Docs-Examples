feature: Страница Темы

description: Данная функциональность позволяет пользователю узнавать предысторию события и следить за темой, если она развивается на протяжении длительного времени.

specs:

  содержит карточку темы:
    с аннотацией[manual]:
      - automation: NERPADUTY-54
      - do: перейти на страницу темы по ссылке https://yandex.ru/news/theme/Covid--522
      - assert: |
          отображается карточка темы,
          карточка содержит заголовок,
          аннотацию (если аннотация длинная, она заточивается, есть кнопка Читать дальше,
          если аннотация короткая, она отображается полностью, есть ссылка В источнике),
          список источников с названиями и иконками,
          внешний вид https://jing.yandex-team.ru/files/a-groza/2020-04-02_16.39.56-1dlkh.png
      - do: тапнуть по кнопке Читать дальше (если кнопки нет, пропустить этот шаг)
      - assert: аннотация разворачивается, кнопка Читать дальше меняется на ссылку В источнике
      - do: тапнуть В источнике
      - assert: в новой вкладке открывается тема на сайте источника

    без аннотации[manual]:
      - automation: NERPADUTY-54
      - do: перейти на страницу темы по ссылке https://yandex.ru/news/theme/Vojna_v_Sirii--136
      - assert: |
          отображается карточка темы,
          карточка содержит заголовок и список источников с названиями и иконками,
          внешний вид https://jing.yandex-team.ru/files/a-groza/2020-04-02_16.39.13-h5wuq.png
      - do: поскроллить источники вправо-влево
      - assert: источники скроллятся
      - do: проскроллить источники до конца вправо
      - assert: отображается кнопка Еще N со стрелочкой
      - do: тапнуть по кнопке Еще N
      - assert: отобразились еще 6 источников и кнопка Еще N (N = предыдущая N-6)
      - do: развернуть все источники до конца
      - assert: |
          источники разворачиваются по 6,
          последняя порция подгружает оставшиеся источники (их может быть меньше 6),
          пропадает кнопка Еще N
      - do: тапнуть по любому источнику
      - assert: в новой вкладке произошел переход на страницу источника

  может содержать ленту новостей по теме[manual]:
    - automation: NERPADUTY-54
    - do: перейти на страницу темы по ссылке https://yandex.ru/news/theme/Covid--522
    - assert: |
        отображается страница темы,
        над карточкой темы отображается реклама,
        под карточкой темы присутствует лента новостей с заголовком Новости по теме,
    - do: поскроллить страницу вниз
    - assert: лента новостей скроллится, cодержит рекламные блоки
    - do: тапнуть по любому сюжету новостей
    - assert: в той же вкладке происходит переход на соответствующий сюжет

  не ломается при попытке перейти на несуществующую тему[manual]:
    - automation: NERPADUTY-54
    - do: перейти на страницу темы по ссылке https://yandex.ru/news/theme/Vojna_v_Sirii--13645678
    - assert: открывается страница 404 "Страница не найдена" с кнопкой На главную, ниже располагается рекламный блок
    - assert: внешний вид https://jing.yandex-team.ru/files/a-groza/2020-04-02_15.16.46-yph2q.png
    - do: тапнуть по кнопке На главную
    - assert: произошел переход на Главную страницу новостей

  отображается даже без ленты новостей[manual]:
    - automation: NERPADUTY-54
    - tags:
      - no_assessors
    - do: перейти на страницу темы по ссылке https://yandex.ru/news/theme/N--566 (или подставить другой id, если темы больше нет или по ней появились новости)
    - assert: отображается карточка темы и ниже сразу реклама


files: []

tags:
  - newsinturbo
  - backend_news

v-team: News

manager: glushneva

tlds:
  - ru
