feature: Advert
tags: no_assessors

specs:
  adfox header-bidding:
    Реклама должна не показываться на странице  без флага:
      - do: открыть страницу c рекламой (yandex.ru/turbo?stub=advert/header-bidding.json&exp_flags=adv-disabled=0)
      - assert: на странице нет ни одного блока с рекламой

    Скрипт header-bidding должен быть вверху body:
      - do: открыть страницу c рекламой (yandex.ru/turbo?stub=advert/header-bidding.json&hermione_advert=stub&exp_flags=adv-disabled=0&exp_flags=adfox-header-bidding=inhead)
      - assert: скрипт /pcode/adfox/header-bidding.js вставлен первым в body

  partner:
    Для горизонтальной рекламы должен добавляться параметр выравнивания:
      - do: открыть страницу c рекламой (yandex.ru/turbo?stub=advert/partner-params.json&hermione_advert=stub&exp_flags=adv-disabled=0)
      - tech: получить объект window.AdvertCalls
      - assert: в массиве partner есть вызов для блока R-A-0001-01
      - assert: у вызова R-A-0001-01 есть доп. параметр horizontalAlign=1
      - assert: в массике partner есть вызов для блока R-A-0001-02
      - assert: у вызова R-A-0001-02 нет доп. параметра horizontalAlign
      - tech: в консоли нет ошибок

files:
  - features/desktop/blocks/advert/advert.hermione.js

v-team: Turbo

manager: mviktorov

tlds: none
