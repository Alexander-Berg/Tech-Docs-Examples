feature: Вакансия

specs:
  Проверка страницы - действующая вакансия [manual]:
    - automation: VACANCIES-780
    - do: открыть страницу /jobs/vacancies/<действующая вакансия>
    - assert: |
        название страницы соответствует названию вакансии
        активен таб 'Вакансии'
        отображается приветствующий блок
        отображается блок тегов (Сервисы, Локации, Технологии, Уровень)
        может отображаться блок полезных материалов
        отображается описание вакансии
        отображаетя форма отклика
    - do: проверить ссылки сервисоы в списке сервисов, если список присутствует
    - assert: ссылка содержит /jobs/vacancies?services=<сервисы>
    - do: проверить ссылки локаций в списке локаций, если список присутствует
    - assert: ссылка содержит /jobs/vacancies?cities=<город>
    - do: проверить ссылки технологий в списке технологий, если список присутствует
    - assert: ссылка содержит /jobs/vacancies?skills=<id технологии>
    - do: если присутствует блок полезных материалов - проверить список
    - assert: |
        элементы списка имеют ссылки
        названия ссылок соответствуют вакансии
    - do: нажать на кнопку "Откликнуться" в приветствующем блоке
    - assert: |
        страница проскроллилась до формы
        в url добавилось /#form
  Проверка страницы - архивная вакансия [manual]:
    - automation: VACANCIES-780
    - do: открыть страницу /jobs/vacancies/<архивная вакансия>
    - assert: форма отклика отсутствует
    - do: проверить блок тегов
    - screenshot: внешний вид блока тегов [https://jing.yandex-team.ru/files/alex-murashev/tags_desktop.png]
    - do: проверить приветствующий блок
    - assert: |
        присутствует кнопка - 'Вакансия в архиве'
        кнопка 'Вакансия в архиве' неактивна
  Проверка формы с ссылкой на резюме [manual]:
    - automation: VACANCIES-780
    - do: открыть страницу вакансии - /jobs/vacancies/<действующая вакансия с кнопками выбора типа резюме>
    - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/alex-murashev/form_file_desktop.png]
    - do: нажать на кнопку "Ссылка на резюме"
    - assert: |
        активна нажатая кнопка
        появилось поле для указания ссылки на резюме
    - do: нажать на кнопку "Файл с резюме"
    - assert: |
        активна нажатая кнопка
        поле для ссылки сменилось на кнопку загрузки файла 
    - do: проверить поля для заполнения
    - assert: если вы авторизованы, и у вас указаны имя и фамилия, то соответствующие поля предзаполнены
    - do: заполните любое поле
    - assert: в поле появился крестик
    - do: нажмите на крестик
    - assert: текст стерся
    - do: нажмите на кнопку отправки формы
    - assert: |
        появились ошибки у необходимых к заполнению полей и чекбоксов
        форма не отправилась
    - do: нажать на кнопку "Ссылка на резюме"
    - do: заполнить все доступные поля и активировать чекбоксы формы
    - do: отправить форму
    - assert: |
        форма пропала
        появляется блок, благодарящий за отправку отклика
        блок благодарности центрирован
    - do: проверить блок благодарности за отклик
    - screenshot: пример внешнего вида блока благодарности [https://jing.yandex-team.ru/files/alex-murashev/request_send_thanks_block_desktop.png]
  Проверка формы с файлом с резюме [manual]:
    - automation: VACANCIES-780
    - do: открыть страницу вакансии /jobs/vacancies/<действующая вакансия>, где в резюме можно загрузить файл
    - do: загрузить файл, нажав кнопку 'Выберите файл'
    - assert: |
        файл отобразился в форме
        рядом с названием файла присутствует крестик
    - do: загрузить файл, нажав кнопку 'Выберите файл'
    - assert: появилась ошибка загрузки файла - 'Можно прикрепить не более 1 файла'
    - do: нажать на крестик у загруженного файла
    - assert: файл пропал из списка
    - do: загрузить файл, нажав кнопку 'Выберите файл'
    - do: заполнить все доступные поля формы
    - do: отправить форму
    - assert: |
        форма пропала
        появляется блок, благодарящий за отправку отклика

platform:
  - desktop

tlds:
  - ru
  - by
  - ua

priority: blocker

browsers:
  - yandex-browser-desktop
  - chrome-browser-desktop
  - firefox-desktop
  - safari-desktop
  - opera-desktop
  - edge-desktop
  - msie-desktop
