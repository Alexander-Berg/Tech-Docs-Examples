feature: ЖД
type: Выдача
description: |-
  Перейти на главную сервиса
  Перейти на вкладку Ж/Д билеты
specs:
  'ЖД: Форма поиска на выдаче':
    - do: |
        Открыть выдачу Москва - Санкт-Петербург на завтра
    - assert: |
        * На выдаче сверху есть свернутая форма поиска в формате "Откуда-Куда-Туда-Обратно"
        * Заполнено соответствующим образом: "Откуда" - Москва, "Куда" - Санкт-Петербург,
        "Туда" - дата завтрашнего дня, "Обратно" - ничего не заполнено.
        (иногда, если названия городов слишком большие форма обрезается многоточием,
        если не выбрали дату обратно, ее тоже не показываем)
        * Саджесты не выпали, календарь свёрнут
        ![image](https://jing.yandex-team.ru/files/arhey/2022-02-10T12:03:29Z.1f51a16.png)
    - do: Кликнуть по свернутой форме вверху страницы
    - assert: |
        * Форма поиска развернулась
        * Форма поиска состоит из полей "Откуда", "Куда", "Туда", "Обратно" и кнопки "Поменять местами", кнопки "Найти"
        * В поле "Откуда" -  Москва, в поле "Куда" - Санкт-Петербург,
        в поле "Туда" - дата завтрашнего дня, в поле "Обратно - текст "Не нужен"
        * Саджесты и календарь свернуты
    - do: Кликнуть по любой области на выдаче
    - assert: |
        * Форма поиска сворачивается
        * Переход на другую страницу не производится
        * Компановка формы идентична компановке после первого шага
    - do: |
        Кликнуть по свернутой форме
        В форме кликнуть по крестику для поля Откуда
    - assert: |
        * Поле очистилось
        * Развернулись саджесты для поля Откуда
    - do: Выбрать в саджестах Москва
    - assert: Саджесты свернулись
    - do: Кликнуть Найти
    - assert: |
        * Форма свернулась
        * В “Откуда” - Москва, в “Куда” - Санкт-Петербург, в “Туда” - дата завтрашнего дня
        * Открылась выдача Москва - Санкт-Петербург на завтра
    - do: Кликнуть по форме поиска
    - assert: |
        * Форма развернулась
        * В поле “Откуда” - Москва, в поле “Куда” - Санкт-Петербург, в поле
        “Туда” - дата завтрашнего дня
    - do: Проскроллить страницу вниз до конца (колесом мыши или тачпадом)
    - assert: Форма свернулась
    - do: |
        Раскрыть форму
        Медленно проскроллить страницу вверх
    - assert: |
        * Форма не сворачивается
        * Форма свернулась, когда дошли до самого верха страницы
    - do: |
        Раскрыть форму
        Кликнуть по полю с датой
    - assert: Раскрылся календарь
    - do: Проскроллить страницу до конца вниз
    - assert: |
        * Форма и календарь остаются раскрытыми
        * Календарь прибит к форме и не съезжает при скролле

manual: true
Функциональность: Форма поиска
Устройство: Десктоп
Страница: Выдача
Сервис: ЖД
Тестирование асессорами: Да
Окружение:
  - Production
  - Testing
Tag: Smoke
Автор: arhey
