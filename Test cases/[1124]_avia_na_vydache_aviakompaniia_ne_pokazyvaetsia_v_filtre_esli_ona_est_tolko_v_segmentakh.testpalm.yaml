feature: Авиа
type: Выдача
description: >-
  Некоторые предложения на выдаче могут состоять из нескольких рейсов. Например,
  рейс Екатеринбург - Токио всегда проходит с пересадками, и потому все
  предложения для него состоят из нескольких сегментов.

  Разные сегменты могут быть предоставлены разными авиакомпаниями.

  В случае, когда в предложении участвует больше одной авиакомпании, такое
  предложение не будет показываться в результатах фильтрации только по одной из
  них.

  Т. е., например, если на выдаче есть вариант, в котором один сегмент выполняет
  компания А, а второй - компания Б, то:

  - Отфильтровав по компании А, этот вариант не отобразится

  - Отфильтровав по компании Б, этот вариант также будет отсутствовать
specs:
  'Авиа: На выдаче Авиакомпания не показывается в фильтре, если она есть только в сегментах':
    - do: 'Открыть главную страницу путешествий, вкладка Авиабилеты'
    - do: |-
        Заполнить форму поиска билетов
        Откуда: Ухта
        Куда: Москва
        Туда: 5 число следующего месяца, дату обратно не ставить.
        Пассажиры: 1 взрослых
        Класс: Эконом
    - do: Нажать кнопку “Найти”
    - assert: Открылась страница выдачи.
    - do: >-
        Раскрыть фильтр авиакомпаний. Сравнить список авиакомпаний с теми, что
        есть в вариантах выдачи.
    - assert: >-
        Список авиакомпаний в фильтре состоит только из тех авиакомпаний, для
        которых на выдаче есть свой личный вариант (рейс состоит только из
        сегментов одной этой компании).
    - do: Применить фильтр для одной из авиакомпаний из списка.
    - assert: >-
        На выдаче остались только варианты, где присутствует одна только эта
        авиакомпания.
manual: true
Функциональность: Фильтры и сортировки
Устройство:
  - Десктоп
  - Тач
Страница: Выдача
Сервис: Авиа
Тестирование асессорами: Да
Окружение: Testing
