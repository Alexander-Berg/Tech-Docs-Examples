feature: Внешний оффер
type: Редактирование

description: установить у вакансии бюджетную позицию 'БП' (10001 ... 20000) /admin/vacancies/vacancy/

specs:
    beforeEach:
        - do: открыть страницу оффера в статусе 'Черновик' и типом вывода 'Новый сотрудник' /offers/<id_оффера>/
        - screenshot: пример внешнего вида [offer_actions]
        - do: нажать на 'Редактировать'
        - screenshot: открылась страница редактирования оффера /offers/<id_оффера>/edit/ [offer_form_update]
    Проверка обязательных полей:
        - do: нажать 'Сохранить'
        - screenshot: под обязательными полями появились сообщения об ошибке [offer_form_update_validation]
    Редактирование оффера:
        - do: в поле 'Организация' указать 'Яндекс'
        - do: в поле 'Подразделение' указать 'Поисковый портал'
        - do: в поле 'Направление' указать 'HR'
        - assert: значение в поле 'Профессия' изменилось на 'Рекрутер'
        - do: в поле 'Профессия' указать 'Специалист по обучению'
        - do: в поле 'Должность (кадровая)' указать должность на выбор
        - do: в поле 'Должность на Стаффе' указать должность на выбор
        - do: в поле 'Офис' указать 'Москва, БЦ Морозов'
        - do: в поле 'Дата выхода' указать текущую дату
        - do: в поле 'Грейд' указать уровень от 11-16
        - do: в поле 'Тип оплаты труда' указать 'Часовая ставка'
        - assert: после выбора 'Часовая ставка' появилось поле 'Часовая ставка'
        - screenshot: пример внешнего вида появившегося поля [group_processing_conditions_with_hourly_rate]
        - do: в поле 'Часовая ставка' указать '10'
        - do: в поле 'Зарплата' ввести '15'
        - do: в поле 'Форма занятости' выбрать 'Полная занятость'
        - do: в поле 'Тип трудового договора' выбрать 'На срок отсутствия основного сотрудника'
        - do: в поле 'ДМС' выбрать 'Да'
        - screenshot: пример внешнего вида заполненного оффера [https://jing.yandex-team.ru/files/alex-murashev/Screenshot%202021-11-29%20at%2017.25.11%201.png]
        - do: нажать 'Сохранить'
        - assert: |
            открылась страница оффера /offers/<id_оффера>/
            данные соответствуют введенным в форме 'Создание оффера'
        - screenshot: пример внешнего вида [offer_form_update_success]

tags:
  - reviewed

priority: blocker

files:
  -  tests/hermione/suites/desktop/candidates/external_offers/external_offer_edit/external_offer_edit.hermione.js

browsers:
  - yandex-browser-desktop
  - firefox-desktop
  - safari-desktop
