feature: Звонки с bluethooth-гарнитурой 

specs:

    Принятие входящего аудиозвонка при подключенной bluethooth-гарнитуре[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на мобильном клиенте. 
              Приложение можно скачать по ссылке
              для android - https://play.google.com/store/apps/details?id=com.yandex.yamb
              для ios - https://apps.apple.com/ru/app/yamb-messenger/id1124487701
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              У пользователя Б к компьютеру подключена bluethooth-гарнитура
              На компьютере включен звук
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем А открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "Звонок"
        - assert: На экране отображается "Исходящий звонок"
        - do: Проверить наличие входящего пользователем Б
        - assert: |
              На экране появляется окно входящего звонка
              В окне есть кнопки "Принять" (зеленная трубка) и "Отклонить" (красная трубка)
              На экране входящшего отображается аватар и имя звонящего пользоваателя
              Звук входящего звонка идет в наушники
        - do: Пользователем Б нажать на кнопку принятия входящего аудиозвонка и начать говорить
        - assert: |
              Соединение между пользователями А и Б установлено
              Пользователи А и В слышат друг друга 
              Звук у пользователя Б идет в наушники

    Совершение исходящего аудиозвонка при подключенной bluethooth-гарнитуре[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на мобильном клиенте. 
              Приложение можно скачать по ссылке
              для android - https://play.google.com/store/apps/details?id=com.yandex.yamb
              для ios - https://apps.apple.com/ru/app/yamb-messenger/id1124487701
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              У пользователя Б к компьютеру подключена bluethooth-гарнитура
              На компьютере включен звук
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем Б открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "Звонок"
        - assert: |
              На экране отображается "Исходящий звонок"
              Звук исходящих гудков идет в наушники
        - do: Проверить наличие входящего пользователем А
        - assert: |
              На экране появляется окно входящего звонка
        - do: Пользователем А нажать на кнопку принятия входящего аудиозвонка и начать говорить
        - assert: |
              Соединение между пользователями А и Б установлено
              Пользователи А и Б слышат друг друга 
              Звук у пользователя Б идет в наушники 

    Отключение bluethooth-гарнитуры после принятия входящего ауудиозвонка [manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на мобильном клиенте. 
              Приложение можно скачать по ссылке
              для android - https://play.google.com/store/apps/details?id=com.yandex.yamb
              для ios - https://apps.apple.com/ru/app/yamb-messenger/id1124487701
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              У пользователя Б к компьютеру подключена bluethooth-гарнитура
              На компьютере включен звук
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем А открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "Звонок"
        - assert: На экране отображается "Исходящий звонок"
        - do: Проверить наличие входящего пользователем Б
        - assert: |
              На экране появляется окно входящего звонка
              В окне есть кнопки "Принять" (зеленная трубка) и "Отклонить" (красная трубка)
              На экране входящшего отображается аватар и имя звонящего пользоваателя
              Звук входящего звонка идет в наушники
        - do: Пользователем Б нажать на кнопку принятия входящего аудиозвонка и начать говорить
        - assert: |
              Соединение между пользователями А и Б установлено
              Пользователи А и Б слышат друг друга 
              Звук у пользователя Б идет в наушники
        - do: Пользователем Б отключить гарнитуру
        - assert: |
              Гарнитура отключена
              У пользователя Б отображается попапп на смену устройства
              Микрофон у пользователя Б не работает
        - do: В попаппе для микрофона сменить устройство на по-умолчанию и нажать "Продолжить звонок"
        - assert: |
              Пользователи А и Б слышат друг друга


  Отключение bluethooth-гарнитуры во время совершения исходящего аудиозвонка [manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на мобильном клиенте. 
              Приложение можно скачать по ссылке
              для android - https://play.google.com/store/apps/details?id=com.yandex.yamb
              для ios - https://apps.apple.com/ru/app/yamb-messenger/id1124487701
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              У пользователя Б к компьютеру подключена bluethooth-гарнитура
              На компьютере включен звук
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем Б открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "Звонок"
        - assert: |
              На экране отображается "Исходящий звонок"
              Гудки исходящего вызова идут в наушники
        - do: Проверить наличие входящего пользователем А
        - assert: На экране появляется окно входящего звонка
        - do: Пользователем Б отключить гарнитуру
        - assert: |
              Гарнитура отключена
              У пользователя Б отображается попапп на смену устройства
        - do: В попаппе для микрофона сменить устройство на по-умолчанию и нажать "Продолжить звонок"
        - assert: У пользователя Б отображается "Исходящий звонок"
        - do: Пользователем А нажаать на кнопку принятия входящего звонка и начать говорить. 
        - assrt: |
              Соединение между пользователями А и Б установлено
              Пользователи А и Б слышат друг друга. 

  Подключение bluethooth-гарнитуры после принятия входящего ауудиозвонка [manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на мобильном клиенте. 
              Приложение можно скачать по ссылке
              для android - https://play.google.com/store/apps/details?id=com.yandex.yamb
              для ios - https://apps.apple.com/ru/app/yamb-messenger/id1124487701
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              На компьютере включен звук
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем А открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "Звонок"
        - assert: На экране отображается "Исходящий звонок"
        - do: Проверить наличие входящего пользователем Б
        - assert: |
              На экране появляется окно входящего звонка
              В окне есть кнопки "Принять" (зеленная трубка) и "Отклонить" (красная трубка)
              На экране входящшего отображается аватар и имя звонящего пользоваателя
        - do: Пользователем Б нажать на кнопку принятия входящего аудиозвонка и начать говорить
        - assert: |
              Соединение между пользователями А и Б установлено
              Пользователи А и Б слышат друг друга 
        - do: Пользователем Б подключить гарнитуру к компьютеру
        - assert: |
              Гарнитура подключена
              У пользователя Б отображается попапп на смену устройства
              Микрофон у пользователя Б не работает
        - do: В попаппе для микрофона сменить устройство на bluethooth-гарнитуру и нажать "Продолжить звонок"
        - assert: |
              Попапп пропадает
              Пользователи А и Б слышат друг друга
              У пользователя Б звук идет в наушники

  Подключение bluethooth-гарнитуры во время отображения входящего ауудиозвонка [manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на мобильном клиенте. 
              Приложение можно скачать по ссылке
              для android - https://play.google.com/store/apps/details?id=com.yandex.yamb
              для ios - https://apps.apple.com/ru/app/yamb-messenger/id1124487701
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              На компьютере включен звук
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем А открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "Звонок"
        - assert: На экране отображается "Исходящий звонок"
        - do: Проверить наличие входящего пользователем Б
        - assert: |
              На экране появляется окно входящего звонка
              В окне есть кнопки "Принять" (зеленная трубка) и "Отклонить" (красная трубка)
              На экране входящшего отображается аватар и имя звонящего пользоваателя
        - do: Пользователем Б подключить гарнитуру к компьютеру
        - asser: |
              Гарнитура подключена
              У пользователя Б отображается попапп на смену устройства 
        - do: В попаппе для микрофона сменить устройство на bluethooth-гарнитуру и нажать "Продолжить звонок"
        - assert: |
              Попапп пропадает
              Звук входящего звонка идет в наушники
        - do: Пользователем Б нажать на кнопку принятия входящего аудиозвонка и начать говорить
        - assert: |
              Соединение между пользователями А и Б установлено
              Пользователи А и Б слышат друг друга 
              У пользователя Б звук идет в наушники

  Совершение исходящего аудиозвонка при отключенной bluethooth-гарнитуре, если в настройках выставлена bluethooth-гарнитура[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на мобильном клиенте. 
              Приложение можно скачать по ссылке
              для android - https://play.google.com/store/apps/details?id=com.yandex.yamb
              для ios - https://apps.apple.com/ru/app/yamb-messenger/id1124487701
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              У пользователя Б к компьютеру подключена bluethooth-гарнитура
              На компьютере включен звук
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем Б нажать на шестеренку в списке чатов
        - assert: Открывается окно с настройками профиля
        - do: Проскроллить до настроек звонка, нажать на "Микрофон" и выбрать bluethooth-гарнитуру
        - assert: У пользователя Б в настройках профиля для звонков выставлена bluethooth-гарнитура
        - do: Нажать на крестик на экране настроек
        - assert: Экран настроек закрывается
        - do: Пользователем Б отключить bluethooth-гарнитуру от компьютера
        - assert: Гарнитура отключена
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем Б открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "Звонок"
        - assert: |
              На экране отображается "Исходящий звонок"
              Появляется попапп на смену устройства 
        - do: В попаппе нажать на "Микрофон", сменить устройство на "По-умолчанию" и нажать "Продолжить звонок"
        - assert: |
              Попапп пропадает
              Отображается исходящий звонок 
              Идут гудки исходящего звонка
        - do: Проверить наличие входящего пользователем А
        - assert: |
              На экране отображается окно входящего звонка
        - do: Пользователем А нажать на кнопку принятия входящего аудиозвонка и начать говорить
        - assert: |
              Соединение между пользователями А и Б установлено
              Пользователи А и Б слышат друг друга 
              
  Принятие входящего аудиозвонка при отключенной bluethooth-гарнитуре, если в настройках выставлена bluethooth-гарнитура[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на мобильном клиенте. 
              Приложение можно скачать по ссылке
              для android - https://play.google.com/store/apps/details?id=com.yandex.yamb
              для ios - https://apps.apple.com/ru/app/yamb-messenger/id1124487701
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              У пользователя Б к компьютеру подключена bluethooth-гарнитура
              На компьютере включен звук
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем Б нажать на шестеренку в списке чатов
        - assert: Открывается окно с настройками профиля
        - do: Проскроллить до настроек звонка, нажать на "Микрофон" и выбрать bluethooth-гарнитуру
        - assert: У пользователя Б в настройках профиля для звонков выставлена bluethooth-гарнитура
        - do: Нажать на крестик на экране настроек
        - assert: Экран настроек закрывается
        - do: Пользователем Б отключить bluethooth-гарнитуру от компьютера
        - assert: Гарнитура отключена
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем А открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "Звонок"
        - assert: На экране отображается "Исходящий звонок"
        - do: Проверить наличие входящего звонка пользователем Б
        - assert: |
              На экране отображается окно входящего звонка
        - do: Пользователем Б нажать на кнопку принятия входящего аудиозвонка
        - assert: |
              Отображается экран установленного соединения
              У пользователя Б появляется попапп на смену устройства
        - do: Пользователем Б в попаппе нажать на "Микрофон", сменить устройство на "По-умолчанию" и нажать "Продолжить звонок"
        - assert: |
              Попапп пропадает
              Отображается экран установленного соединения  
              Пользователи А и Б слышат друг друга

  Принятие входящего видеозвонка при подключенной bluethooth-гарнитуре[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на мобильном клиенте. 
              Приложение можно скачать по ссылке
              для android - https://play.google.com/store/apps/details?id=com.yandex.yamb
              для ios - https://apps.apple.com/ru/app/yamb-messenger/id1124487701
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              У пользователя Б к компьютеру подключена bluethooth-гарнитура
              На компьютере включен звук
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем А открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "Видеозвонок"
        - assert: На экране отображается "Исходящий звонок"
        - do: Проверить наличие входящего пользователем Б
        - assert: |
              На экране появляется окно входящего звонка
              В окне есть кнопки "Принять" (зеленная видеокамера) и "Отклонить" (красная трубка)
              На экране входящшего отображается аватар и имя звонящего пользоваателя
              Звук входящего звонка идет в наушники
        - do: Пользователем Б нажать на кнопку принятия входящего видеозвонка и начать говорить
        - assert: |
              Соединение между пользователями А и Б установлено
              Пользователи А и В слышат и видят друг друга 
              Звук у пользователя Б идет в наушники

    Совершение исходящего видеозвонка при подключенной bluethooth-гарнитуре[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на мобильном клиенте. 
              Приложение можно скачать по ссылке
              для android - https://play.google.com/store/apps/details?id=com.yandex.yamb
              для ios - https://apps.apple.com/ru/app/yamb-messenger/id1124487701
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              У пользователя Б к компьютеру подключена bluethooth-гарнитура
              На компьютере включен звук
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем Б открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "Видеозвонок"
        - assert: |
              На экране отображается "Исходящий звонок"
              Звук исходящих гудков идет в наушники
        - do: Проверить наличие входящего пользователем А
        - assert: |
              На экране появляется окно входящего звонка
        - do: Пользователем А нажать на кнопку принятия входящего видеозвонка и начать говорить
        - assert: |
              Соединение между пользователями А и Б установлено
              Пользователи А и Б слышат и видят друг друга 
              Звук у пользователя Б идет в наушники 

    Отключение bluethooth-гарнитуры после принятия входящего видеозвонка [manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на мобильном клиенте. 
              Приложение можно скачать по ссылке
              для android - https://play.google.com/store/apps/details?id=com.yandex.yamb
              для ios - https://apps.apple.com/ru/app/yamb-messenger/id1124487701
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              У пользователя Б к компьютеру подключена bluethooth-гарнитура
              На компьютере включен звук
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем А открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "Видеозвонок"
        - assert: На экране отображается "Исходящий звонок"
        - do: Проверить наличие входящего пользователем Б
        - assert: |
              На экране появляется окно входящего звонка
              В окне есть кнопки "Принять" (зеленая видеокамера) и "Отклонить" (красная трубка)
              На экране входящшего отображается аватар и имя звонящего пользоваателя
              Звук входящего звонка идет в наушники
        - do: Пользователем Б нажать на кнопку принятия входящего видеозвонка и начать говорить
        - assert: |
              Соединение между пользователями А и Б установлено
              Пользователи А и Б слышат и видят друг друга 
              Звук у пользователя Б идет в наушники
        - do: Пользователем Б отключить гарнитуру
        - assert: |
              Гарнитура отключена
              У пользователя Б отображается попапп на смену устройства
              Микрофон у пользователя Б не работает
        - do: В попаппе для микрофона сменить устройство на по-умолчанию и нажать "Продолжить звонок"
        - assert: |
              Пользователи А и Б слышат друг друга


  Отключение bluethooth-гарнитуры во время совершения исходящего видеозвонка [manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на мобильном клиенте. 
              Приложение можно скачать по ссылке 
              для android - https://play.google.com/store/apps/details?id=com.yandex.yamb
              для ios - https://apps.apple.com/ru/app/yamb-messenger/id1124487701
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              У пользователя Б к компьютеру подключена bluethooth-гарнитура
              На компьютере включен звук
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем Б открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "Видеозвонок"
        - assert: |
              На экране отображается "Исходящий звонок"
              Гудки исходящего вызова идут в наушники
        - do: Проверить наличие входящего пользователем А
        - assert: На экране появляется окно входящего звонка
        - do: Пользователем Б отключить гарнитуру
        - assert: |
              Гарнитура отключена
              У пользователя Б отображается попапп на смену устройства
        - do: В попаппе для микрофона сменить устройство на по-умолчанию и нажать "Продолжить звонок"
        - assert: У пользователя Б отображается "Исходящий звонок"
        - do: Пользователем А нажаать на кнопку принятия входящего звонка и начать говорить. 
        - assrt: |
              Соединение между пользователями А и Б установлено
              Пользователи А и Б слышат и видят друг друга. 

  Подключение bluethooth-гарнитуры после принятия входящего видеозвонка[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на мобильном клиенте. 
              Приложение можно скачать по ссылке
              для android - https://play.google.com/store/apps/details?id=com.yandex.yamb
              для ios - https://apps.apple.com/ru/app/yamb-messenger/id1124487701
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              На компьютере включен звук
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем А открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "Видеозвонок"
        - assert: На экране отображается "Исходящий звонок"
        - do: Проверить наличие входящего пользователем Б
        - assert: |
              На экране появляется окно входящего звонка
              В окне есть кнопки "Принять" (зеленная видеокамера) и "Отклонить" (красная трубка)
              На экране входящшего отображается аватар и имя звонящего пользоваателя
        - do: Пользователем Б нажать на кнопку принятия входящего видеозвонка и начать говорить
        - assert: |
              Соединение между пользователями А и Б установлено
              Пользователи А и Б слышат и видят друг друга 
        - do: Пользователем Б подключить гарнитуру к компьютеру
        - assert: |
              Гарнитура подключена
              У пользователя Б отображается попапп на смену устройства
              Микрофон у пользователя Б не работает
        - do: В попаппе для микрофона сменить устройство на bluethooth-гарнитуру и нажать "Продолжить звонок"
        - assert: |
              Попапп пропадает
              Пользователи А и Б слышат и видят друг друга
              У пользователя Б звук идет в наушники

  Подключение bluethooth-гарнитуры во время отображения входящего видеозвонка [manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на мобильном клиенте. 
              Приложение можно скачать по ссылке
              для android - https://play.google.com/store/apps/details?id=com.yandex.yamb
              для ios - https://apps.apple.com/ru/app/yamb-messenger/id1124487701
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              На компьютере включен звук
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем А открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "Видеозвонок"
        - assert: На экране отображается "Исходящий звонок"
        - do: Проверить наличие входящего пользователем Б
        - assert: |
              На экране появляется окно входящего звонка
              В окне есть кнопки "Принять" (зеленная видеокамера) и "Отклонить" (красная трубка)
              На экране входящего отображается аватар и имя звонящего пользоваателя
        - do: Пользователем Б подключить гарнитуру к компьютеру
        - asser: |
              Гарнитура подключена
              У пользователя Б отображается попапп на смену устройства 
        - do: В попаппе для микрофона сменить устройство на bluethooth-гарнитуру и нажать "Продолжить звонок"
        - assert: |
              Попапп пропадает
              Звук входящего звонка идет в наушники
        - do: Пользователем Б нажать на кнопку принятия входящего видеозвонка и начать говорить
        - assert: |
              Соединение между пользователями А и Б установлено
              Пользователи А и Б слышат и видят друг друга 
              У пользователя Б звук идет в наушники

  Совершение исходящего видеозвонка при отключенной bluethooth-гарнитуре, если в настройках выставлена bluethooth-гарнитура[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на мобильном клиенте. 
              Приложение можно скачать по ссылке
              для android - https://play.google.com/store/apps/details?id=com.yandex.yamb
              для ios - https://apps.apple.com/ru/app/yamb-messenger/id1124487701
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              У пользователя Б к компьютеру подключена bluethooth-гарнитура
              На компьютере включен звук
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем Б нажать на шестеренку в списке чатов
        - assert: Открывается окно с настройками профиля
        - do: Проскроллить до настроек звонка, нажать на "Микрофон" и выбрать bluethooth-гарнитуру
        - assert: У пользователя Б в настройках профиля для звонков выставлена bluethooth-гарнитура
        - do: Нажать на крестик на экране настроек
        - assert: Экран настроек закрывается
        - do: Пользователем Б отключить bluethooth-гарнитуру от компьютера
        - assert: Гарнитура отключена
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем Б открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "Видеозвонок"
        - assert: |
              На экране отображается "Исходящий звонок"
              Появляется попапп на смену устройства 
        - do: В попаппе нажать на "Микрофон", сменить устройство на "По-умолчанию" и нажать "Продолжить звонок"
        - assert: |
              Попапп пропадает
              Отображается исходящий звонок 
              Идут гудки исходящего звонка
        - do: Проверить наличие входящего пользователем А
        - assert: |
              На экране отображается окно входящего звонка
        - do: Пользователем А нажать на кнопку принятия входящего видеозвонка и начать говорить
        - assert: |
              Соединение между пользователями А и Б установлено
              Пользователи А и Б слышат и видят друг друга 
              
  Принятие входящего видеозвонка при отключенной bluethooth-гарнитуре, если в настройках выставлена bluethooth-гарнитура[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться на мобильном клиенте. 
              Приложение можно скачать по ссылке
              для android - https://play.google.com/store/apps/details?id=com.yandex.yamb
              для ios - https://apps.apple.com/ru/app/yamb-messenger/id1124487701
              В Мессенджере и проверяемом браузере разрешены  доступы к камере и микрофону
              Между пользователем А и Б есть общий приватный чат
              У пользователя Б к компьютеру подключена bluethooth-гарнитура
              На компьютере включен звук
              Данный тест-кейс аткуален только для данных браузеров Firefox, Yabro и Chrome
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем Б нажать на шестеренку в списке чатов
        - assert: Открывается окно с настройками профиля
        - do: Проскроллить до настроек звонка, нажать на "Микрофон" и выбрать bluethooth-гарнитуру
        - assert: У пользователя Б в настройках профиля для звонков выставлена bluethooth-гарнитура
        - do: Нажать на крестик на экране настроек
        - assert: Экран настроек закрывается
        - do: Пользователем Б отключить bluethooth-гарнитуру от компьютера
        - assert: Гарнитура отключена
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем А открыть чат из description
        - assert: Открыто окно чата
        - do: Нажать на кнопку вызова в шапке чата
        - assert: Открылось меню с возможностью выбора типа звонка
        - do: Нажать на "Видеозвонок"
        - assert: На экране отображается "Исходящий звонок"
        - do: Проверить наличие входящего звонка пользователем Б
        - assert: |
              На экране отображается окно входящего звонка
        - do: Пользователем Б нажать на кнопку принятия входящего видеозвонка
        - assert: |
              Отображается экран установленного соединения
              У пользователя Б появляется попапп на смену устройства
        - do: Пользователем Б в попаппе нажать на "Микрофон", сменить устройство на "По-умолчанию" и нажать "Продолжить звонок"
        - assert: |
              Попапп пропадает
              Отображается экран установленного соединения  
              Пользователи А и Б слышат друг друга


files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team

