feature: Feed

specs:
  Проверка работы блока feed horizontal:
    - do: открыть ссылку yandex.ru/turbo?stub=feed/horizontal.json
    - assert: карточки должны располагаться в один ряд
    - screenshot: Внешний вид [horizontal]
    - do: проскролить блок до конца влево до упора
    - assert: блок прокрутился (крайняя правая картинка должна быть прижата к правому краю)
    - do: проскролить блок до конца вправо до упора
    - assert: блок прокрутился (крайняя левая картинка должна быть прижата к левому краю)

  Проверка работы блока feed:
    - params:
        foreverdata: '3503480754'
    - do: получить выдачу по запросу 'foreverdata' и кликнуть в заголовок первого сниппета
    - assert: |
        открывается турбо-страница в той же вкладке (в поисковом приложении Яндекс турбо-страница открывается в новой вкладке)
        блок feed должен быть на странице
    - tech: страница не содержит клиентских ошибок
    - do: проверить положение изображений в блоке
    - assert: изображения в блоке должны быть слева
    - screenshot: Внешний вид [plain]

  Проверка работы блока feed картинки справа:
    - params:
        foreverdata: '3234021183'
    - do: получить выдачу по запросу 'foreverdata' и кликнуть в заголовок первого сниппета
    - assert: |
        открывается турбо-страница в той же вкладке (в поисковом приложении Яндекс турбо-страница открывается в новой вкладке)
        блок feed должен быть на странице
    - tech: страница не содержит клиентских ошибок        
    - do: проверить положение изображений в блоке
    - assert: изображения в блоке должны быть справа
    - screenshot: Внешний вид [image-right]

  Проверка работы блока feed картинка сверху:
    - params:
        foreverdata: '898379289'
    - do: получить выдачу по запросу 'foreverdata' и кликнуть в заголовок первого сниппета
    - assert: |
        открывается турбо-страница в той же вкладке (в поисковом приложении Яндекс турбо-страница открывается в новой вкладке)
        блок feed должен быть на странице
    - tech: страница не содержит клиентских ошибок
    - do: проверить положение изображений в блоке
    - assert: изображение первой карточки в блоке должно быть сверху
    - screenshot: Внешний вид [image-top]

  Проверка работы блока feed horizontal в iframe:
    - params:
        foreverdata: '1166105926'
    - do: получить выдачу по запросу 'foreverdata' и кликнуть в заголовок первого сниппета
    - assert: |
        открывается турбо-страница в той же вкладке (в поисковом приложении Яндекс турбо-страница открывается в новой вкладке)
        блок feed должен быть на странице
    - tech: страница не содержит клиентских ошибок
    - assert: карточки должны располагаться в один ряд
    - do: проскролить блок до конца влево до упора
    - assert: блок прокрутился (крайняя правая картинка должна быть прижата к правому краю)
    - do: проскролить блок до конца вправо до упора
    - assert: блок прокрутился (крайняя левая картинка должна быть прижата к левому краю)

  Проверка клика карточек блока feed:
    - params:
        foreverdata: '1166105926'
    - do: получить выдачу по запросу 'foreverdata' и кликнуть в заголовок первого сниппета
    - assert: |
        открывается турбо-страница в той же вкладке (в поисковом приложении Яндекс турбо-страница открывается в новой вкладке)
        блок feed должен быть на странице
    - tech: страница не содержит клиентских ошибок
    - do: кликнуть по первой карточке в блоке
    - assert: должен произойти переход по ссылке в новой вкладке
    - do: вернуться на предыдущую страницу
    - do: кликнуть по второй карточке в блоке
    - assert: должен произойти переход по ссылке в этой же вкладке
files:
  - features/blocks/feed/feed.hermione.js

v-team: Turbo

tlds: none
