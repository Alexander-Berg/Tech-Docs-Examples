feature: Тыква новостей

description: Проверка фичи отдачи задампленных данных в случае падения бэка

specs:
  beforeEach:
    - do: авторизоваться на сервисе через кнопку справа сверху (авторизация не прорастет после попытки залогина - это основной признак, что тестируется тыква, а не прод. Это как раз ожидаемое поведение)
  
  отображает главную страницу новостей [manual]:
    - tags:
        - smoke_zen
    - do: открыть главную страницу сервиса Яндекс.Новости - https://yandex.ru/news
    - assert: |
        топ 5 на главной отображается без ошибок,
        скриншот внешнего вида топа-5 на главной - https://jing.yandex-team.ru/files/volkhonov/top5main.png ,
    - do: проскроллить страницу ниже, до гео рубрики (Москва)
    - assert: отображается топ-5 региона для Москвы, в каком бы регионе не находился пользователь
    - do: проскроллить ниже, обращая внимание на топы-5 рубрик
    - assert: |
        без ошибок отображаются топ-5 для рубрик Политика, Общество, Экономика, В мире, Спорт, Происшествия, Культура, Технологии, Наука, Авто,
    - do: проскролить на самый верх страницы и отсчитать 4 рубрики (включая топ-5 главного)
    - assert: блок рекламы отображается после четвертой рубрики
    - do: вернуться на самый верх страницы к главному Топ-5
    - do: кликнуть по первому сюжету, запомнив заголовок
    - assert: |
        произошел переход в сюжет,
        в правом верхнем углу отображается кнопка Войти (нет авторизации) (в случае, если авторизация все же есть - попробуйте обновить страницу, она должна исчезнуть (особенности реализации)),
        заголовок в сюжете соответствует заголовку на главной, с которой был переход,
        в сюжете отображается заголовок, над заголовком - источник, ниже - аннотация,
        под сюжетом отображается реклама
    - do: вернуться на главную страницу - https://yandex.ru/news
    - do: кликнуть по пятому сюжету из главного топа-5
    - assert: |
        произошел переход в сюжет,
        в правом верхнем углу отображается кнопка Войти (нет авторизации) (в случае, если авторизация все же есть - попробуйте обновить страницу, она должна исчезнуть (особенности реализации)),
        заголовок в сюжете соответствует заголовку на главной, с которой был переход,
        в сюжете отображается заголовок, над заголовком - источник, ниже - аннотация,
        под сюжетом отображается реклама

  позволяет открыть гео-рубрику Москвы из рубрикатора [manual]:
    - tags:
        - smoke_zen
    - do: открыть главную страницу сервиса Яндекс.Новости - https://yandex.ru/news
    - assert: |
        в рубрикаторе отображается георубрика Москва, независимо от того, в каком регионе находится пользователь,
        внешний вид - https://jing.yandex-team.ru/files/volkhonov/MoscowInRubricator.png ,
    - do: кликнуть по рубрике Москва в рубрикаторе
    - assert: открылась гео-рубрика Москва (https://yandex.ru/news/region/moscow)
    - do: кликнуть по первому сюжету топ-5 гео-рубрики, запомнив заголовок
    - assert: |
        произошел переход в сюжет,
        в правом верхнем углу отображается кнопка Войти (нет авторизации) (в случае, если авторизация все же есть - попробуйте обновить страницу, она должна исчезнуть (особенности реализации)),
        заголовок в сюжете соответствует заголовку на главной, с которой был переход,
        в сюжете отображается заголовок, над заголовком - источник, ниже - аннотация,
        под сюжетом отображается реклама,
    - do: вернуться на страницу гео-рубрики - https://yandex.ru/news/region/moscow
    - do: кликнуть по пятому сюжету из топа-5 рубрики
    - assert: |
        произошел переход в сюжет,
        в правом верхнем углу отображается кнопка Войти (нет авторизации) (в случае, если авторизация все же есть - попробуйте обновить страницу, она должна исчезнуть (особенности реализации)),
        заголовок в сюжете соответствует заголовку на главной, с которой был переход,
        в сюжете отображается заголовок, над заголовком - источник, ниже - аннотация,
        под сюжетом отображается реклама

  позволяет открыть гео-рубрику других регионов [manual]:
    - do: по прямой ссыли перейти в гео-рубрику Кинешма - https://yandex.ru/news/region/kineshma
    - assert: |
          без ошибок открылась георубрика Кинешма,
          в правом верхнем углу отображается кнопка "Войти" (нет авторизации, не смотря на попытку авторизоваться ранее)
    - do: кликнуть по первому сюжету топ-5 гео-рубрики, запомнив заголовок
    - assert: |
        произошел переход в сюжет,
        в правом верхнем углу отображается кнопка Войти (нет авторизации) (в случае, если авторизация все же есть - попробуйте обновить страницу, она должна исчезнуть (особенности реализации)),
        заголовок в сюжете соответствует заголовку на главной, с которой был переход,
        в сюжете отображается заголовок, над заголовком - источник, ниже - аннотация,
        под сюжетом отображается реклама
    - do: вернуться на страницу гео-рубрики - https://yandex.ru/news/region/kineshma
    - do: кликнуть по пятому сюжету из топа-5 рубрики
    - assert: |
        произошел переход в сюжет,
        в правом верхнем углу отображается кнопка Войти (нет авторизации) (в случае, если авторизация все же есть - попробуйте обновить страницу, она должна исчезнуть (особенности реализации)),
        заголовок в сюжете соответствует заголовку на главной, с которой был переход,
        в сюжете отображается заголовок, над заголовком - источник, ниже - аннотация,
        под сюжетом отображается реклама

  позволяет открыть сюжеты из рубрики Интересное [manual]:
    - tags:
        - smoke_zen
    - do: перейти в рубрику Интересное из рубрикатора или по прямой ссылке - https://yandex.ru/news/rubric/personal_feed
    - assert: |
        без ошибок открылась страница рубрики,
        отобразался топ-5 сюжетов рубрики,
        под топом-5 отобразился блок рекламы,
        под блоком рекламы отобоазились карточки сюжетов,
        в правом верхнем углу отображается кнопка "Войти" (нет авторизации, не смотря на попытку авторизоваться ранее)
    - do: кликнуть по первому сюжету рубрики из топ-5 рубрики
    - assert: |
        произошел переход в сюжет,
        в правом верхнем углу отображается кнопка Войти (нет авторизации) (в случае, если авторизация все же есть - попробуйте обновить страницу, она должна исчезнуть (особенности реализации)),
        заголовок в сюжете соответствует заголовку на главной, с которой был переход,
        в сюжете отображается заголовок, над заголовком - источник, ниже - аннотация,
        под сюжетом отображается реклама
    - do: вернуться на страницу рубрики с помощью браузерной кнопки "Назад"
    - do: кликнуть по пятому сюжету рубрики из топ-5 рубрики
    - assert: |
        произошел переход в сюжет,
        в правом верхнем углу отображается кнопка Войти (нет авторизации) (в случае, если авторизация все же есть - попробуйте обновить страницу, она должна исчезнуть (особенности реализации)),
        заголовок в сюжете соответствует заголовку на главной, с которой был переход,
        в сюжете отображается заголовок, над заголовком - источник, ниже - аннотация,
        под сюжетом отображается реклама

  позволяет открыть сюжеты из рубрики Происшествия [manual]:
    - tags:
        - smoke_zen
    - do: перейти в рубрику Происшествия из рубрикатора или по прямой ссылке - https://yandex.ru/news/rubric/incident
    - assert: |
        без ошибок открылась страница рубрики,
        отобразался топ-5 сюжетов рубрики,
        под блоком рекламы отобоазились карточки сюжетов,
        в правом верхнем углу отображается кнопка "Войти" (нет авторизации, не смотря на попытку авторизоваться ранее)
    - do: кликнуть по первому сюжету рубрики из топ-5 рубрики
    - assert: |
        произошел переход в сюжет,
        в правом верхнем углу отображается кнопка Войти (нет авторизации) (в случае, если авторизация все же есть - попробуйте обновить страницу, она должна исчезнуть (особенности реализации)),
        заголовок в сюжете соответствует заголовку на главной, с которой был переход,
        в сюжете отображается заголовок, над заголовком - источник, ниже - аннотация,
        под сюжетом может отображаться реклама (если сюжет траурный - рекламы не будет, это ожидаемо),
    - do: вернуться на страницу рубрики с помощью браузерной кнопки "Назад"
    - do: кликнуть по пятому сюжету рубрики из топ-5 рубрики
    - assert: |
        произошел переход в сюжет,
        в правом верхнем углу отображается кнопка Войти (нет авторизации) (в случае, если авторизация все же есть - попробуйте обновить страницу, она должна исчезнуть (особенности реализации)),
        заголовок в сюжете соответствует заголовку на главной, с которой был переход,
        в сюжете отображается заголовок, над заголовком - источник, ниже - аннотация,
        под сюжетом отображается реклама (если сюжет траурный - рекламы не будет, это ожидаемо)


  позволяет открыть сюжеты из рубрики Экономика и ее подрубрик [manual]:
    - tags:
        - smoke_zen
    - do: перейти в рубрику Экономика из рубрикатора или по прямой ссылке - https://yandex.ru/news/rubric/business
    - assert: |
        без ошибок открылась страница рубрики,
        около наименования рубрики отображается подрубрикатор (Всё, Энергетика, Котировки, Недвижимость, Финансы)
        отобразался топ-5 сюжетов рубрики,
        под топом-5 отобразился блок рекламы,
        под блоком рекламы отобоазились карточки сюжетов,
        в правом верхнем углу отображается кнопка "Войти" (нет авторизации, не смотря на попытку авторизоваться ранее)
    - do: кликнуть по первому сюжету рубрики из топ-5 рубрики
    - assert: |
        произошел переход в сюжет,
        в правом верхнем углу отображается кнопка Войти (нет авторизации) (в случае, если авторизация все же есть - попробуйте обновить страницу, она должна исчезнуть (особенности реализации)),
        заголовок в сюжете соответствует заголовку на главной, с которой был переход,
        в сюжете отображается заголовок, над заголовком - источник, ниже - аннотация,
        под сюжетом отображается реклама,
    - do: вернуться на страницу рубрики с помощью браузерной кнопки "Назад"
    - do: кликнуть по пятому сюжету рубрики из топ-5 рубрики
    - assert: |
        произошел переход в сюжет,
        в правом верхнем углу отображается кнопка Войти (нет авторизации) (в случае, если авторизация все же есть - попробуйте обновить страницу, она должна исчезнуть (особенности реализации)),
        заголовок в сюжете соответствует заголовку на главной, с которой был переход,
        в сюжете отображается заголовок, над заголовком - источник, ниже - аннотация,
        под сюжетом отображается реклама,
        под рекламой отсутствуют карточки сюжетов
    - do: вернуться на страницу рубрики с помощью браузерной кнопки "Назад"
    - do: перейти в подрубрику "Недвижимость" или "Финансы"
    - do: кликнуть по первому сюжету рубрики из топ-5 рубрики
    - assert: |
        произошел переход в сюжет,
        в правом верхнем углу отображается кнопка Войти (нет авторизации) (в случае, если авторизация все же есть - попробуйте обновить страницу, она должна исчезнуть (особенности реализации)),
        заголовок в сюжете соответствует заголовку на главной, с которой был переход,
        в сюжете отображается заголовок, над заголовком - источник, ниже - аннотация,
        под сюжетом отображается реклама
        
    - do: вернуться в подрубрику с помощью браузерной кнопки "Назад"
    - do: кликнуть по пятому сюжету рубрики из топ-5 рубрики
    - assert: |
        произошел переход в сюжет,
        в правом верхнем углу отображается кнопка Войти (нет авторизации) (в случае, если авторизация все же есть - попробуйте обновить страницу, она должна исчезнуть (особенности реализации)),
        заголовок в сюжете соответствует заголовку на главной, с которой был переход,
        в сюжете отображается заголовок, над заголовком - источник, ниже - аннотация,
        под сюжетом отображается реклама,
        под рекламой отсутствуют карточки сюжетов

  позволяет открыть все сюжеты из топ-5 рубрики Авто [manual]:
    - tags:
        - smoke_zen
    - do: перейти в рубрику Авто из рубрикатора или по прямой ссылке - https://yandex.ru/news/rubric/auto
    - assert: |
        без ошибок открылась страница рубрики,
        отобразался топ-5 сюжетов рубрики,
        под топом-5 отобразился блок рекламы,
        под блоком рекламы отобоазились карточки сюжетов,
        в правом верхнем углу отображается кнопка "Войти" (нет авторизации, не смотря на попытку авторизоваться ранее)
    - do: кликнуть по первому сюжету рубрики из топ-5 рубрики
    - assert: |
        произошел переход в сюжет,
        в правом верхнем углу отображается кнопка Войти (нет авторизации) (в случае, если авторизация все же есть - попробуйте обновить страницу, она должна исчезнуть (особенности реализации)),
        заголовок в сюжете соответствует заголовку на главной, с которой был переход,
        в сюжете отображается заголовок, над заголовком - источник, ниже - аннотация,
        под сюжетом отображается реклама
    - do: вернуться на страницу рубрики с помощью браузерной кнопки "Назад"
    - do: кликнуть по второму сюжету рубрики из топ-5 рубрики
    - assert: |
        произошел переход в сюжет,
        в правом верхнем углу отображается кнопка Войти (нет авторизации) (в случае, если авторизация все же есть - попробуйте обновить страницу, она должна исчезнуть (особенности реализации)),
        заголовок в сюжете соответствует заголовку на главной, с которой был переход,
        в сюжете отображается заголовок, над заголовком - источник, ниже - аннотация,
        под сюжетом отображается реклама,
    - do: вернуться на страницу рубрики с помощью браузерной кнопки "Назад"
    - do: кликнуть по третьему сюжету рубрики из топ-5 рубрики
    - assert: |
        произошел переход в сюжет,
        в правом верхнем углу отображается кнопка Войти (нет авторизации) (в случае, если авторизация все же есть - попробуйте обновить страницу, она должна исчезнуть (особенности реализации)),
        заголовок в сюжете соответствует заголовку на главной, с которой был переход,
        в сюжете отображается заголовок, над заголовком - источник, ниже - аннотация,
        под сюжетом отображается реклама
    - do: вернуться на страницу рубрики с помощью браузерной кнопки "Назад"
    - do: кликнуть по четвертому сюжету рубрики из топ-5 рубрики
    - assert: |
        произошел переход в сюжет,
        в правом верхнем углу отображается кнопка Войти (нет авторизации) (в случае, если авторизация все же есть - попробуйте обновить страницу, она должна исчезнуть (особенности реализации)),
        заголовок в сюжете соответствует заголовку на главной, с которой был переход,
        в сюжете отображается заголовок, над заголовком - источник, ниже - аннотация,
        под сюжетом отображается реклама
    - do: вернуться на страницу рубрики с помощью браузерной кнопки "Назад"
    - do: кликнуть по пятому сюжету рубрики из топ-5 рубрики
    - assert: |
        произошел переход в сюжет,
        в правом верхнем углу отображается кнопка Войти (нет авторизации) (в случае, если авторизация все же есть - попробуйте обновить страницу, она должна исчезнуть (особенности реализации)),
        заголовок в сюжете соответствует заголовку на главной, с которой был переход,
        в сюжете отображается заголовок, над заголовком - источник, ниже - аннотация,
        под сюжетом отображается реклама


files: []

qa-engineer: volkhonov

manager: mrwhite

tags:
  - pumpkin
  - newspumpkin

tlds:
  - ru
  - by
  - kz
  - uz
  - ua
  - com
