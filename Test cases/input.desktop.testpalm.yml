feature: Ввод сообщений

import-steps:
    - tests/hermione/suites/messenger/shared-steps/open-messenger.testpalm.steps.yml
    - tests/hermione/suites/messenger/shared-steps/open-settings.testpalm.steps.yml

tlds: ru

specs:
    before:
        - attach: Авторизация и открытие чата yamb

    Перевод строки по нажатию "shift+enter":
        - do: зайти в любой чат
        - do: ввести произвольный текст в поле ввода
        - do: нажать сочетание клавиш "shift" и "enter" на клавиатуре
        - assert: к тексту добавится перенос строки

    Перевод строки по нажатию "enter" в зависимости от настройки:
        - attach: Открытие настроек
        - do: выключить настройку "Отправлять сообщение по Enter"
        - do: закрыть окно настроек, нажав на крестик
        - do: зайти в любой чат
        - do: ввести произвольный текст в поле ввода
        - do: нажать клавишу "enter" на клавиатуре
        - assert: к тексту добавится перенос строки

    Перевод строки по нажатию "ctrl+enter" на Windows в зависимости от настройки:
        - attach: Открытие настроек
        - do: включить настройку "Отправлять сообщение по Enter"
        - do: закрыть окно настроек, нажав на крестик
        - do: зайти в любой чат
        - do: ввести произвольный текст в поле ввода
        - do: нажать сочетание клавиш "ctrl" и "enter" на клавиатуре
        - assert: к тексту добавится перенос строки

    Перевод строки по нажатию "control+enter" и "command+enter" на Mac в зависимости от настройки:
        - attach: Открытие настроек
        - do: включить настройку "Отправлять сообщение по Enter"
        - do: закрыть окно настроек, нажав на крестик
        - do: зайти в любой чат
        - do: ввести произвольный текст в поле ввода
        - do: нажать сочетание клавиш "control" и "enter" на клавиатуре
        - assert: к тексту добавится перенос строки
        - do: нажать сочетание клавиш "command" и "enter" на клавиатуре, если тест-кейс проходится на MacOS
        - assert: к тексту добавится перенос строки

    Отправка сообщения по "shift+enter" в зависимости от настройки:
        - attach: Открытие настроек
        - do: выключить настройку "Отправлять сообщение по Enter"
        - do: закрыть окно настроек, нажав на крестик
        - do: зайти в любой чат
        - do: ввести произвольный текст в поле ввода
        - do: нажать сочетание клавиш "shift" и "enter" на клавиатуре
        - assert: сообщение отправится

files:
    - tests/hermione/suites/messenger/sending-messages/input.desktop.hermione.ts

v-team: Chat

tags:
    - yamb #TODO: заменить ссылки
    - y-team #TODO: заменить ссылки
