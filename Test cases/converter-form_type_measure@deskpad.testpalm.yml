feature: Колдунщик конверта валют
type: Величины

specs:
  beforeEach:
    - do: получить выдачу Поиска по запросу '96 гигабайт в байтах'
    - assert: появился конвертер величин
  Проверка селекта выбора меры:
    - do: |
        запомнить текущие значения размерностей и величин в конвертере
        выбрать в селекте величины (над равенством) первый пункт (напр. 'Мера времени')
    - assert: |
        в селекте 'Из' (слева от знака равенства) изменилась единица измерения,
        в поле 'Из' значение осталось прежним,
        в селекте 'В' (справа от знака равенства) изменилась единица измерения,
        в поле ввода 'В' значение изменилось
    - assertMetrics: '*'
  Проверка селектов единиц измерения:
    - screenshot: внешний вид [plain]
    - do: |
        запомнить текущие значения размерностей и величин в конвертере
        кликнуть в селект 'Из'
    - screenshot: внешний вид с попапом [select]
    - do: в селекте 'Из' выбрать пункт 'МБ'
    - assert: |
        в поле ввода 'Из' значение осталось прежним,
        селекте 'В' единица измерения осталась прежней,
        в поле ввода 'В' значение изменилось
    - do: в селекте 'В' выбрать пункт 'КБ'
    - assert: |
        в селекте 'Из' единица измерения осталась прежней,
        в поле ввода 'Из' значение осталось прежним,
        в поле ввода 'В' значение изменилось
    - assertMetrics: '*'
  Смена направления перевода:
    - do: |
        запомнить текущие значения размерностей и величин в конвертере
        в селекте 'В' выбрать пункт 'ГБ'
    - assert: |
        в селекте 'Из' единица измерения сменилась на 'байты',
        в поле ввода 'Из' значение осталось прежним,
        в селекте 'В' единица измерения сменилась на 'ГБ',
        в поле ввода 'В' значение изменилось
    - assertMetrics: '*'
  Проверка полей ввода:
    Недопустимые символы:
      - do: с помощью клавиши Backspace посимвольно очистить поле ввода 'Из' (слева от знака равенства)
      - assert: поле ввода 'В' (справа от знака равенства) пусто
      - do: попытаться ввести 'x' в поле ввода 'В'
      - assert: поле ввода 'В' пусто
      - do: попытаться ввести 'x' в поле ввода 'Из'
      - assert: поле ввода 'Из' пусто
      - do: вставить в поле 'В' из буфера обмена строку '20байт'
      - assert: в поле 'В' показалось значение '20'
      - assertMetrics: '*'
    Синхронизация полей:
      - do: |
          запомнить текущие значения величин
          ввести '9' в поле ввода 'Из'
      - assert: значение поля 'В' изменилось
      - do: ввести '9' в поле ввода 'В'
      - assert: значение поля 'Из' изменилось
      - assertMetrics: '*'
  Экспоненциальный вид:
    - do: в селекте 'В' выбрать пункт 'ГБ'
    - screenshot: внешний вид c пояснением [disclaimer]
    - assertMetrics: '*'
  Проверка счётчиков:
    - tech: |
        проверить счётчик на селекте величины, счётчик имеет path "/snippet/graph/currencies/layout"
        проверить счётчик на селекте 'Из', счётчик имеет path "/snippet/graph/currencies/layout"
        проверить счётчик на селекте 'В', счётчик имеет path "/snippet/graph/currencies/layout"
    - assertMetrics: '*'

files:
  - features/converter-form/converter-form_type_measure/converter-form_type_measure@desktop.hermione.js

v-team: Facts

counter: /$page/$main/$result[@wizard_name="units_converter"]/converter-form[@type="measure"]

tlds:
  - ru
  - by
  - ua
  - kz
  - uz
  - com.tr
  - com

tags:
  - reviewed
