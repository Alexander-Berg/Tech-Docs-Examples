feature: Страница календаря

description: Страница календаря - страница сервиса, на которой отображается матч-центр со списками матчей и чемпионатов по каждому виду спорта, а также содержатся новости и другие релевантные материалы по всем видам спорта.

specs-integration:
  открывается: 
    - do: открыть страницу футбольного календаря https://yandex.ru/sport/calendar/football
    - assert: |
        страница открылась,
        на странице есть календарь

  подгружает новостные карточки с рекламными блоками при скролле: 
    - do: открыть страницу футбольного календаря https://yandex.ru/sport/calendar/football
    - do: поскроллить страницу на несколько экранов вниз
    - assert: |
        каждый раз рисуется желтый спиннер и загружается новая порция новостных карточек,
        лента содержит карточки рекламы

specs:
  открывает ближайший доступный матч Биатлона от выбранной даты:
    - tags:
      - backend_sport  
    - do: открыть страницу матча по Биатлону для 15 марта https://yandex.ru/sport/calendar/biathlon?start=2021-03-14T19%3A00%3A00.000Z&end=2021-03-14T19%3A00%3A00.000Z
    - assert: |
        для 15 марта нет матчей,
        открывается ближайший доступный день, когда были матчи, 
        над датой присутствует плашка-уведомление - https://jing.yandex-team.ru/files/vasekerka/2021-10-18_16-13-27.png

  открывает ближайший доступный матч Футбола от выбранной даты:
    - tags:
      - backend_sport  
    - do: открыть страницу матча по Футболу для 9 сентября https://yandex.ru/sport/calendar/football?start=2021-09-08T19%3A00%3A00.000Z&end=2021-09-08T19%3A00%3A00.000Z
    - assert: |
        для 9 сентября нет матчей,
        открывается ближайший доступный день, когда были матчи,
        над датой присутствует плашка-уведомление - https://jing.yandex-team.ru/files/vasekerka/2021-10-18_18-24-55.png

# кейс полностью создан для ХП, у плашки на скрине изменен цвет на некорректный
  открывает ближайший доступный матч Баскетбола от выбранной даты [manual]:
    - reasonNotToAuto: кейс содержит ХП
    - Case Type: CH
    - do: открыть страницу матча по Баскетболу за 6 декабря 2022, можно перейти по ссылке https://yandex.ru/sport/calendar/basketball?start=2020-12-05T19%3A00%3A00.000Z&end=2020-12-05T19%3A00%3A00.000Z
    - assert: |
        6 декабря нет матчей,
        открывается ближайший день, когда были матчи,
        над датой присутствует плашка-уведомление - https://jing.yandex-team.ru/files/vasekerka/2022-06-20_16-41-39.png

  может отображать корректные время и дату для будущих футбольных матчей в разных часовых поясах [manual]:     
    - tags:
      - backend_sport
    - reasonNotToAuto: 
      - Нет возможности сменить регион в автотесте        
    - do: перейти на страницу https://yandex.ru/tune/geo, выставить город "Москва" и нажать на кнопку "Сохранить"
    - do: перейти на страницу футбольного календаря https://yandex.ru/sport/calendar/football
    - assert: |
        в рубрикаторе "Матч-центр" выделен красным цветом,
        на странице присутствует календарь, по умолчанию открыта вкладка "Сегодня", название вкладки выделено шрифтом,
        обратите внимание! если сегодня матчей нет, в календаре присутствует плашка "Сегодня событий не найдено. Показаны ближайшие", Это ок, заводить баги на такое на нужно!
        справа от матчей указан их статус или время начала матча,
        внешний вид - https://jing.yandex-team.ru/files/umansai5/Снимок%20экрана%202022-07-06%20в%2013.55.46.png
    - do: запомнить время начала нескольких матчей    
    - do: перейти на страницу https://yandex.ru/tune/geo, выставить город "Омск" и нажать на кнопку "Сохранить"  
    - do: вернуться на страницу футбольного календаря и обновить страницу
    - assert: |
        информация о времени начала матчей изменилась, +3 часа от московского времени,
        обратите внимание! если в предыдущем часовом поясе матч проходил в позднее время, например, в 11 вечера, то в этом часовом поясе матч будет отображаться на вкладке "Завтра", 
        внешний вид - https://jing.yandex-team.ru/files/umansai5/Снимок%20экрана%202022-07-06%20в%2014.08.29.png
    - do: запомнить время начала любого матча        
    - do: перейти на страницу https://yandex.ru/tune/geo, выставить город "Торонто" и нажать на кнопку "Сохранить" 
    - do: вернуться на страницу футбольного календаря и обновить страницу
    - assert: |
        информация о времени начала проведения матчей изменилась, -10 часов от омского времени,
        внешний вид - https://jing.yandex-team.ru/files/umansai5/Снимок%20экрана%202022-07-06%20в%2015.57.03.png  

  может менять дату прошедших хоккейных матчей в разных часовых поясах [manual]:  
    - tags:
      - backend_sport
    - reasonNotToAuto:
      - Нет возможности сменить регион в автотесте     
    - do: перейти на страницу https://yandex.ru/tune/geo, выставить город "Торонто" и нажать на кнопку "Сохранить"
    - do: перейти на страницу хоккейного календаря https://yandex.ru/sport/calendar/hockey
    - assert: |
        в рубрикаторе "Матч-центр" выделен красным цветом,
        на странице присутствует календарь, по умолчанию открыта вкладка "Сегодня", название вкладки выделено шрифтом,
        обратите внимание! если сегодня матчей нет, в календаре присутствует плашка "Сегодня событий не найдено. Показаны ближайшие", Это ок, заводить баги на такое на нужно!
        справа от матчей указан их статус или время начала матча, 
        внешний вид - https://jing.yandex-team.ru/files/umansai5/Снимок%20экрана%202022-07-13%20в%2017.10.09.png    
    - do: открыть страницу матчей по хоккею https://yandex.ru/sport/calendar/hockey?start=2022-01-01T04%3A00%3A00.000Z&end=2022-01-01T04%3A00%3A00.000Z       
    - assert: |
        открылась страница календаря с матчами за 1 января,
        внешний вид - https://jing.yandex-team.ru/files/umansai5/Снимок%20экрана%202022-07-13%20в%2017.13.29.png
    - do: запомнить название и дату начала 1-2 матчей    
    - do: перейти на страницу https://yandex.ru/tune/geo, выставить город "Сеул" и нажать на кнопку "Сохранить"   
    - do: открыть страницу матча по хоккею https://yandex.ru/sport/calendar/hockey?start=2022-01-01T15%3A00%3A00.000Z&end=2022-01-01T15%3A00%3A00.000Z          
    - assert: |
        открылась страница календаря с матчами за 2 января,
        матчи из шага 6 присутствуют на странице,
        внешний вид - https://jing.yandex-team.ru/files/umansai5/Снимок%20экрана%202022-07-13%20в%2017.24.50.png      

  может отображать корректные время и дату будущих волейбольных матчей в разных часовых поясах [manual]:
    - tags:
      - backend_sport
    - reasonNotToAuto: 
      - Нет возможности сменить регион в автотесте        
    - do: перейти на страницу https://yandex.ru/tune/geo, выставить город "Торонто" и нажать на кнопку "Сохранить"
    - do: перейти на страницу волейбольного календаря https://yandex.ru/sport/calendar/volleyball
    - assert: |
        в рубрикаторе "Матч-центр" выделен красным цветом,
        на странице присутствует календарь, по умолчанию открыта вкладка "Сегодня", название вкладки выделено шрифтом,
        обратите внимание! если сегодня матчей нет, в календаре присутствует плашка "Сегодня событий не найдено. Показаны ближайшие", Это ок, заводить баги на такое на нужно!
        отображаются матчи за 26 августа, 
        справа от матчей указан их статус или время начала матча,
        внешний вид - https://jing.yandex-team.ru/files/umansai5/Снимок%20экрана%202022-07-14%20в%2013.02.20.png 
    - do: запомнить время начала и название 1-2 ещё не начавшихся матчей, например, Бразилия - Куба и США - Мексика
    - do: перейти на страницу https://yandex.ru/tune/geo, выставить город "Сеул" и нажать на кнопку "Сохранить"
    - do: вернуться на страницу волейбольного календаря и обновить страницу
    - assert: |          
        время начала матча Бразилия - Куба из 4 шага изменилось согласно новому часовому поясу, +13 часов от Торонто,
        матч США - Мексика не отобржается, 
        внешний вид - https://jing.yandex-team.ru/files/umansai5/Снимок%20экрана%202022-07-14%20в%2013.16.32.png
    - do: открыть матчи за 27 августа 2022 либо перейти по ссылке https://yandex.ru/sport/calendar/volleyball?start=2022-08-26T15%3A00%3A00.000Z&end=2022-08-26T15%3A00%3A00.000Z
    - assert: |
        отображаются матчи за 27 августа,
        время начала матча США - Мексика из 4 шага изменилось согласно новому часовому поясу, +13 часов от Торонто,
        матч Бразилия - Куба не отображается, 
        внешний вид - https://jing.yandex-team.ru/files/umansai5/Снимок%20экрана%202022-07-14%20в%2013.26.51.png 
             
files:
  - features/sport/calendar/calendar.desktop.hermione.e2e.js
  - features/sport/calendar/calendar.desktop.hermione.js

tags:
  - sport-neo

manager: mrwhite

qa-engineer: kossakovskaya

tlds:
  - ru
  - by
  - kz
  - uz
  - ua
  - com
