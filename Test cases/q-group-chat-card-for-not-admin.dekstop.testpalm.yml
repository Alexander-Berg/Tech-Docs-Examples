
feature: карточка групповых чатов не для админа

import-steps:
    - tests/hermione/suites/messenger/shared-steps/creat-chat-login-for-not-admin.dekstop.testpalm.steps.yml

specs:

  Вызов карточки через список чатов[manual]:
     - automation: MSSNGRFRONT-2921
     - attach: Создаем чат и перелогинимся под не админом для Q
     - do: слева в списке чатов жмем ПКМ/показать информацию
     - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T14:36:11.057760.jpg]
     - assert: открывается карточка чата с информацией о чате
     - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T14:38:47.988827.jpg]

  Вызов карточки через троеточие в самом чате[manual]:
     - automation: MSSNGRFRONT-2921
     - attach: Создаем чат и перелогинимся под не админом для Q
     - do: открываем чат
     - do: в правом верхнем углу жмем троеточие/показать информацию
     - screenshot:  пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T14:41:53.933428.png]
     - assert: открывается карточка чата с информацией о чате
     - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T14:38:47.988827.jpg]

  Вызов карточки через клик по шапке чата в самом чате[manual]:
     - automation: MSSNGRFRONT-2921
     - attach: Создаем чат и перелогинимся под не админом для Q
     - do:  открываем чат
     - do: кликаем по шапке чата в самом чате
     - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T14:46:16.821919.jpg]
     - assert: открывается карточка чата с информацией о чате
     - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T14:38:47.988827.jpg]

  Отключение уведомлений через “троеточие” в карточке[manual]:
     - automation: MSSNGRFRONT-2921
     - attach: Создаем чат и перелогинимся под не админом для Q
     - do: вызываем любым способом карточку чата
     - do: жмем “троеточие”/выключить уведомления
     - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T14:49:48.027714.jpg]
     - assert: |
         переключатель уведомлений в карточке перешел в неактивное состояние
         слева в списке чатов на чате появился значок без звука
     - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T14:51:55.838504.png]

  Отключение уведомлений через переключатель в карточке[manual]:
     - automation: MSSNGRFRONT-2921
     - attach: Создаем чат и перелогинимся под не админом для Q
     - do: вызываем любым способом карточку чата
     - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T15:00:56.169093.jpg]
     - do: переводим переключатель “уведомления” в неактивное положение
     - assert: слева в списке чатов  на нашем чате появился значок “без звука”
     - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T15:03:19.247128.jpg]
     - assert: при вызове “троеточия” в карточке чата отображается кнопка “включить уведомления”
     - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T15:04:40.080047.jpg]

  Проверяем возможность добавления участников[manual]:
     - automation: MSSNGRFRONT-2921
     - attach: Создаем чат и перелогинимся под не админом для Q
     - do: вызываем карточку чата
     - do: жмем “троеточие”/”добавить участника”
     - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T17:27:42.558720.jpg]
     - do: выбираем участника и жмем кнопку добавить
     - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T17:30:36.811334.jpg]
     - assert: |
         новый участник добавлен в чат и отображается в списке участников чата
         в чат приходит сообщение о добавлении нового участника
     - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T17:32:25.245415.jpg]

  Добавление участника напрямую через кнопку в карточке[manual]:
     - automation: MSSNGRFRONT-2921
     - attach: Создаем чат и перелогинимся под не админом для Q
     - do: вызываем карточку чата
     - do: жмем кнопку “добавить участника”
     - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T17:34:02.787582.jpg]
     - do: выбираем участника и жмем добавить
     - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T17:37:25.015884.jpg]
     - assert: |
         новый участник добавлен в чат и отображается в списке участников
         в чат приходит сообщение о добавлении нового участника
     - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T17:40:35.894722.jpg]

  Проверка кнопки “пожаловаться”[manual]:
     - automation: MSSNGRFRONT-2921
     - attach: Создаем чат и перелогинимся под не админом для Q
     - do: вызываем карточку контакта
     - do: жмем троеточие/кнопку пожаловаться
     - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T17:44:35.881319.jpg]
     - assert:  появляется окно выбора причины жалобы
     - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T17:45:29.451935.jpg]

  Просмотр профиля другого участника[manual]:
     - automation: MSSNGRFRONT-2921
     - attach: Создаем чат и перелогинимся под не админом для Q
     - do: вызываем карточку чата
     - do: жмем троеточие рядом с любым участником (кроме самого себя)
     - do: жмем “показать профиль”
     - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T17:48:19.045412.jpg]
     - assert: открывается карточка контакта
     - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T18:23:03.383014.jpg]
     - do: кликаем по указанной в профиле на почту(если указана)
     - assert: открывается внешнее приложение почты
     - do : возвращаемся к карточке контакта внутри карточки чата
     - do: переводим переключатель уведомлений в неактивное положение
     - assert:  в списке чатов слева на выбранном контакте появился значок “без звука”
     - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T18:32:38.824311.jpg]
     - do: возвращаемся к карточке контакта внутри карточки чата
     - do:  жмем “отправить сообщение”
     - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T18:34:36.897899.jpg]
     - assert: открывается чат с выбранным контактом
     - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T18:38:12.149797.jpg]

  Просмотр личной карточки в списке участников[manual]:
     - automation: MSSNGRFRONT-2921
     - attach: Создаем чат и перелогинимся под не админом для Q
     - do: вызываем карточку чата
     - do: находим себя в списке участников и жмем троеточие
     - do: жмем “показать профиль”
     - screenshot: просмотр внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T18:42:45.140218.jpg]
     - assert:  открывается карточка нашего профиля
     - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T18:44:50.849701.jpg]
     - do: переводим переключатель уведомлений в неактивной положение
     - assert:  слева в списке чатов рядом с “сохраненными сообщениями” появился значок “без звука”
     - do: возвращаемся к карточке контакта и жмем “отправить сообщения”
     - assert: открывается диалог “сохраненные сообщения”
     - screenshot:  пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T18:47:50.901780.jpg]

  Покидаем чат[manual]:
     - automation: MSSNGRFRONT-2921
     - attach: Создаем чат и перелогинимся под не админом для Q
     - do: вызываем карточку чата(например через пкм в списке чатов слева/показать информацию)
     - screenshot: пример внешнего вида[https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-10-02T14%3A07%3A28.083061.jpg]
     - do: жмем троеточие
     - do: жмем “покинуть группу”
     - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T18:50:04.000363.jpg]
     - do: в окне подтверждения выбираем “ок”
     - assert: |
         вы покинули групповой чат
         покинутый чат пропадает из списка чатов слева, а в окне справа отображается заглушка “выберите чат для начала общения”
     - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/sarkhan69/uhura_2019-09-16T18:51:52.181568.jpg]


files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
    - q
    - no assesor
