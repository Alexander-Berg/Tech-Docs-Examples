feature: Претендент
type: Создание.Рекрутер

description: у пользователя должны быть права рекрутера

specs:
  beforeEach:
    - do: залогиниться под тестовым пользователем user3371@
    - do: открыть страницу кандидата /candidates/<id_кандидата>/applications/
    - screenshot: Присутствует кнопка Добавить на вакансию [application_create_button]
    - do: нажать на кнопку 'Добавить на вакансию'
    - screenshot: открылась форма 'Добавить на вакансию' [application_create_form]
  Проверка обязательных полей:
    - do: нажать 'Добавить'
    - screenshot: выдало ошибку [application_create_form_error]
  Добавление кандидата на вакансию:
    - do: в поле 'Вакансии' ввести вакансию со статусом 'В работе' или 'Делаем оффер'
    - do: В поле 'Создать со статусом в работе' выбрать 'Да'
    - screenshot: пример внешнего вида заполненной формы 'Добавить на вакансию' [application_create_form_filled]
    - do: нажать кнопку 'Добавить'
    - assert: |
        форма 'Добавить на вакансию' пропала
        претендент добавлен в список претендентов на странице кандидата со статусом 'В работе'
        претендент добавлен в список претендентов на табе 'Вакансии' со статусом 'В работе'
        в строке претендента имееются лайк и дизлайк
        на табе 'Вакансии' изменилось число претендентов
        "в строке претендента в графе 'Источник' указано 'Рекрутер: <Имя Фамилия пользователя>'"
    - screenshot: пример внешнего вида [application_created]

files:
  - tests/hermione/suites/desktop/applicants/applicant_create_recruit/applicant_create_recruit.hermione.js

tags:
  - reviewed

priority: blocker

browsers:
  - yandex-browser-desktop
  - firefox-desktop
  - safari-desktop
