feature: Опечаточник

specs:
  Задан пустой поисковый запрос:
    - tags: winphone7
    - do: получить выдачу по пустому запросу
    - assert: |
        поисковая строка не содержит текст
        появилось сообщение 'Задан пустой поисковый запрос'

  Синтаксическая ошибка:
    - do: получить выдачу по запросу “'” (одинарная кавычка)
    - assert: |
        появилось сообщение о синтаксической ошибке
        текст остался в поисковой стрелке

  Ничего не найдено:
    - do: получить выдачу по запросу 'Bdhdhdhdjsjdjxhdhsnskjdjdjehxjcjdbdhsjjdhfhdjdjjcjdjdjdjjdksjjdjdjdjdhexhhdhe'
    - assert: |
        появилось сообщение об отсутствии результатов
        текст остался в поисковой стрелке

  Поиск с кавычками:
    - do: получить выдачу по запросу '"a very peculiar text was found in the tomb about some non-existing things"' (запрос вводить в двойных кавычках!)
    - assert: получена поисковая выдача
    - assert: под поисковой стрелкой присутвует опечаточник с сообщением "Точного совпадения с «a very peculiar text was found in the tomb about some non-existing things» не нашлось. Показаны результаты по запросу без кавычек." и кнопкой "Отменить"
    - do: кликнуть в кнопку "Отменить"
    - assert: произошла перезагрузка
    - assert: вместо поисковой выдачи присутсвует сообщение "По вашему запросу ничего не нашлось"
    - tech: сработал счетчик кнопки "Отменить"

  Исключены результаты в одной фразе:
    - do: получить выдачу по запросу 'москва ~ париж' (с тильдой)
    - assert: |
        появилось сообщение об исключении результатов со словом 'париж' в одной фразе и кнопка Отменить
        кнопка 'Отменить' ведёт на результаты поиска по запросу 'москва париж' (без тильды в стрелке)
    - tech: проверить счётчик у кнопки

  Исключено слово:
    - do: получить выдачу по запросу 'серфинг -виндсерфинг' (со знаком минус без пробела справа)
    - screenshot: появилось сообщение об исключении слова 'виндсерфинг' и кнопка 'Отменить' [misspell/minus-word-50-{{PLATFORM}} >> plain]
    - assert: кнопка 'Отменить' ведёт на результаты поиска по запросу 'серфинг виндсерфинг' (без знака минус в стрелке)
    - tech: проверить счётчик у кнопки

  Восстановление раскладки клавиатуры:
    - do: получить выдачу по запросу 'ktnj'
    - assert: |
        поисковая строка содержит исправленный текст 'лето'
        появилось сообщение о восстановлении раскладки клавиатуры и кнопка 'Отменить'
    - assert: кнопка 'Отменить' ведёт на результаты поиска по запросу 'ktnj' (без исправления в стрелке)
    - tech: проверить счётчик у кнопки

  Быть может вы искали:
    - do: получить выдачу по запросу 'шипито'
    - assert: |
        появилось сообщение 'Быть может, вы искали ...?' и кнопка 'Да'
        кнопка 'Да' ведёт на результаты поиска по запросу 'шапито' в стрелке
    - tech: проверить счётчик у кнопки

  Исправлена опечатка:
    - tags: winphone7
    - do: получить выдачу по запросу 'клбаса'
    - screenshot: появилось сообщение об исправленной опечатке и кнопка 'Отменить' [misspell/misspell-51-{{PLATFORM}} >> plain]
    - assert: |
        поисковая строка содержит исправленный текст 'колбаса'
        кнопка 'Отменить' ведёт на результаты поиска по запросу 'клбаса' (в стрелке без исправления)
    - tech: проверить счётчик у кнопки

  Добавлены похожие запросы:
    - tags: winphone7
    - do: получить выдачу по запросу 'отель пхень янь'
    - assert: появилось сообщение о добавлении результатов по другому запросу
    - screenshot: появилось сообщение о добавлении результатов по запросу 'отель пхеньян' (запрос на скриншоте может отличаться) [misspell/merge_background-49-{{PLATFORM}} >> plain]
    - do: кликнуть на ссылку 'отель пхеньян'
    - assert: открылись результаты поиска по исправленному запросу в стрелке 'отель пхеньян'
    - tech: проверить счётчик у первой ссылки
    - do: вернуться на предыдущую выдачу
    - assert: на странице присутствует опечаточник с сообщением о добавлении результатов по другому запросу
    - do: кликнуть на ссылку 'отель пхень янь'
    - assert: открылись результаты поиска по запросу в стрелке 'отель пхень янь' (без добавления результатов по другим запросам)
    - tech: проверить счётчик у второй ссылки

  Фильтр длинного запроса:
    - automation: SERP-74696
    - tags: no_assessors
    - do: получить выдачу по запросу 'поведение котов | Записки доктора Бегемота begemoten.ru›tag/povedenie-kotov поведение котов. Психология поведения кошек. Часть 1 – мимика, жесты и позы. Понимать своего кота или кошку очень важно для хозяина. Поведение и повадки котов - Жизнь замечательных зверей - Форум... forum.stimka.ru›index.php?/topic/ 30 ноября 2011 Если вы грустны или напряжены, то можете заметить изменение и в'
    - screenshot: внешний вид опечаточника [misspell/request-filter-53-{{PLATFORM}} >> plain]
    - tech: проверить что в стрелке нормально умещается супер длинный запрос

  Запрос с длинным словом:
    - automation: SERP-74696
    - tags: no_assessors
    - do: получить выдачу по запросу 'f zuF D ifxkgxgkxkgxkgxkgxkgxkgxkgxzkgxkgxkgxkgfxkgxgkxkgxkgxkgxkgxkgxkgxzkgxkgxkgxkgfxkgxgkxkgxkgxkgxkgxkgxkgxzkgxkgxkgxkgfxkgxgkxkgxkgxkgxkgxkgxkgxzkgxkgxkgxkg'
    - screenshot: внешний вид опечаточника [misspell/long-query-52-{{PLATFORM}} >> plain]
    - tech: проверить что в стрелке нормально умещается супер длинный запрос

files:
  - hermione/test-suites/touch-phone/misspell/misspell.hermione.js
# - features/touch-phone/misspell.autogenerated.hermione.js

v-team: Suggest_Freshness

priority: medium

tags:
  - smoke
  - smoke_extended
  - ajax
  - misprint
  - misspell
  - head
  - button
  - smart
  - reviewed

counter: /wiz/misspell

tlds: none
