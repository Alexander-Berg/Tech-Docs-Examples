feature: Списочные рецепты

specs:
  beforeEach:
    - do: получить выдачу Поиска по запросу 'заправка цезарь рецепт' _ALTERNATIVE_SEARCH_QUERIES_
    - assert: на выдаче есть рецепты в БНО
  Внешний вид:
    - screenshot: в выдаче есть списочный сниппет рецептов с галереей (размер изображений может отличаться) [plain]
    - assertMetrics: '*'
  Проверка заголовка и гринурла:
    - do: кликнуть в заголовок
    - assert: в новой вкладке открылся сайт с рецептами
    - tech: проверить счётчик в заголовке
    - do: кликнуть в гринурл
    - assert: в новой вкладке открылся сайт с рецептами
    - tech: проверить счётчик в гринурле
    - assertMetrics: '*'
  Проверка счетчиков и ссылок в галерее:
    - do: кликнуть на тумбe первого элемента галереи
    - assert: открылся сайт с выбранным рецептом
    - tech: проверить счётчик на тумбe первого элемента галереи
    - do: кликнуть на тайтл первого элемента галереи
    - assert: открылся сайт с выбранным рецептом
    - tech: проверить счётчик на тайтл первого элемента галереи
    - do: проскроллить галерею до последнего элемента
    - do: кликнуть на 'еще рецепты'
    - assert: открылся сайт с рецептами
    - tech: проверить счётчик на кнопке 'еще рецепты'
    - do: проскроллить галерею обратно
    - assert: скролл галереи работает
    - do: проскроллить галерею до конца
    - assert: видна ссылка 'еще рецепты'
    - screenshot: ссылка 'еще рецепты' [arrow]
    - assertMetrics: '*'
  Широкие десктопы:
    - do: сделать ширину браузера 1920px
    - do: сделать перезапрос с текстом 'рецепт пасты карбонара с фото'
    - screenshot: внешний вид спецсниппета [wide]

specs-integration:
  Проверка показа галереи:
    - do: получить выдачу Поиска по запросу 'заправка цезарь рецепт' _ALTERNATIVE_SEARCH_QUERIES_
    - assert: на выдаче есть списочный сниппет рецептов с галереей
    - counter: /$page/$main/$result[@features has "bno_recipe_first"]/showcase/item/thumb

files:
  - features/bno-recipe/bno-recipe-first@deskpad.hermione.js
  - features/bno-recipe/bno-recipe-first@deskpad.hermione.e2e.js

v-team: Beauty

counter: /$page/$main/$result[@features has "bno_recipe_first"]/showcase/item/thumb

tlds:
  - ru
  - by
  - ua
  - kz
  - uz
  - com.tr
  - com
