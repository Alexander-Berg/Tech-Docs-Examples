feature: Главная страница
type: Претенденты на мои вакансии

specs:
  Пустой список претендентов:
    - do: открыть главную страницу
    - screenshot: открылся пустой список претендентов [empty_applicants]

  Одностраничный список претендентов:
    - do: открыть главную страницу
    - screenshot: открылся одностраничный список претендентов [my_applicants]
    - do: клик на ссылку в колонке 'Детали'
    - screenshot: открылась шторка претендента [my_applications_popup]

  Ссылка на кандидата:
    - do: открыть главную страницу
    - screenshot: открылась карточка кандидата внутри списка [first_applicant]
    - do: клик по имени кандидата
    - assert: открылась страница испытаний кандидата

  Ссылка на вакансию:
    - do: открыть главную страницу
    - screenshot: открылась карточка кандидата внутри списка [first_applicant]
    - do: клик по названию вакансии
    - assert: открылась страница вакансии

  Ссылка на борду:
    - do: открыть главную страницу
    - screenshot: в заголовке списка претендентов есть ссылка Открыть на борде [applicants_header]
    - do: клик по ссылке
    - assert: |
        открылась борда претендентов
        список вакансий в query соответствует списку вакансий в фильтре претендентов на главной

  Пагинация списка претендентов:
    - do: открыть главную страницу
    - screenshot: открылась первая страница списка кандидатов [applicants_list_page1]
    - do: клик на любой номер страницы в блоке 'Претенденты на мои вакансии'
    - screenshot: открылась выбранная страница [applicants_list_page2]

  Закрытие претендента:
    - do: открыть главную страницу
    - screenshot: открылась карточка кандидата внутри списка [first_applicant]
    - do: клик на кнопку крестика
    - screenshot: открылся попап закрытия претендента [my_applications_open_close_modal]
    - do: выбрать любое значение в поле 'Резолюция'
    - do: клик на кнопку 'Закрыть'
    - assert: |
        попап закрылся
        кнопка крестика изменилась на '...'
        у претендента появился комментарий в колонке 'Кандидат'
        статус претендента изменился на 'Закрыт' с выбранной резолюцией ранее
    - screenshot: пример внешнего вида [first_applicant_closed]

  Фильтр на вакансию:
    - do: открыть главную страницу
    - screenshot: открылся список претендентов [my_applicants]
    - do: выбрать любое значение в фильтре 'Вакансия'
    - screenshot: отобразились только претенденты для выбранной вакансии [applicants_filtered]

  Фильтр на состояние:
    - do: открыть главную страницу
    - screenshot: открылся список претендентов [my_applicants]
    - do: клик в фильтре 'Состояние' на любое неактивное значение
    - screenshot: в списке отображаются только претенденты с выбранным состоянием [applicants_filtered]

files:
  - tests/hermione/suites/desktop/main_page/applicants_on_my_vacancies/applicants_on_my_vacancies.hermione.js

tags:
  - reviewed

priority: critical

browsers:
  - yandex-browser-desktop
  - firefox-desktop
  - safari-desktop
