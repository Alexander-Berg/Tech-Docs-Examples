feature: Event датчик
type: Retrievable false

tags:
   - release_Webview
   - platform_common
   - webview_regress
   - iot_sensors
   - release_Smarthome
   - smarthome_regress

specs:
  before:
    - do: Использовать датчики движения Xiaomi и Aquara, кейс проверять на обоих

  Проверяем смену статуса датчика [manual]:
    - do: Взять датчик с 'retrievable:false' 
    - screenshot: Отображается статус (Движение/Нет движения, Открыто/Закрыто итд) [sensors]
    - screenshot: Отображается время последнего события (когда изменился статус датчика) [sensors]
    - assert: <img src=https://jing.yandex-team.ru/files/ollgeny/IMAGE%202022-07-20%2014%3A33%3A21.9237806.jpg alt=Скриншот width=250>
    - do: Перевести датчик в другое состояние (датчик движения можно накрыть стаканчиком)
    - do: Подождать 1-2 мин
    - assert: Датчик перешел в статус 'Нет движения'
    - assert: Начат отсчет от этого нового события
    - do: Убрать стаканчик и произвести движения
    - assert: Статус сменился на 'Движение'
    - assert: Начат отсчет от этого нового события
    - do: Накрыть стаканчиком датчик на 10 мин
    - do: Проверить статус через 10 мин
    - assert: Надпись 'Нет движения с сегодня,  <время 10 минут назад>' и надпись, когда в последний раз обновились данные по этому событию
