feature: Матч-центр

specs:
  Базовый вид блока:
    - tags:
      - sportauto
    - params:
        foreverdata: '3075743883'
    - do: открыть https://yandex.ru/turbo?stub=sportmatchcenter/default.json
    - assert: матч-центр виден
    - screenshot: внешний вид соответствует скриншоту [plain]

  Базовый вид блока без текущих матчей:
    - tags:
      - sportauto
    - do: открыть https://yandex.ru/turbo?stub=sportmatchcenter/without-current.json
    - assert: матч-центр виден
    - screenshot: внешний вид соответствует скриншоту [plain]

  Базовый вид блока с завтрашними матчами:
    - tags:
      - sportauto
    - do: открыть https://yandex.ru/turbo?stub=sportmatchcenter/with-tomorrow.json&user_time=2019-10-18T12%3A00%3A00%2B0300&exp_flags=test_tool%3Dhermione
    - assert: матч-центр виден
    - screenshot: внешний вид соответствует скриншоту [plain]

  может располагаться на главной странице в вертикали ПП [manual]:
    - automation: NERPA-8437
    - tags:
      - pp_only
    - do: Открыть вертикаль Спорта тапом по иконке в бендере ПП
    - assert: |
        открыта вертикаль Спорта на странице рубрики Главное,
        на вертикали может располагаться матч-центр,
        матч-центр располагается на первом месте в рубрике над блоком 'Главные новости',
        матч-центр содержит матч-тизер с одним-двумя футбольными и одним-двумя хоккейными матчами (при отсутствии матчей соответствующего блока может не быть),
        напротив названий Футбол и Хоккей располагается кнопка 'Все матчи'
    - do: тапнуть на 'Все матчи' напротив Футбола
    - assert: в новом апп-табе внутреннего браузера ПП (а не в вертикали) открывается футбольный календарь
    - do: вернуться назад на вертикаль, закрыв апп-таб любым способом
    - do: тапнуть на 'Все матчи' напротив Хоккея
    - assert: в новом апп-табе внутреннего браузера ПП (а не в вертикали) открывается хоккейный календарь
    - do: вернуться назад на вертикаль, закрыв апп-таб любым способом
    - do: тапнуть на любой матч
    - assert: в новом апп-табе внутреннего браузера ПП (а не в вертикали) открывается страница матча с виджетом

  сервиса Я.Спорт может располагаться в рубрике Футбол в вертикали ПП [manual]:
    - automation: NERPA-8437
    - tags:
      - pp_only
    - do: Открыть вертикаль Спорта тапом по иконке в бендере ПП
    - assert: открыта вертикаль Спорта на странице рубрики Главное
    - do: Тапнуть по рубрике Футбол
    - assert: в вертикали ПП, без перехода в новый апп-таб, открывается лента рубрики Футбол
    - do: Найти матч-центр на странице
    - assert: |
        (матч-центра может не быть в случае отсутствия матчей - в этом случае дальнейшие шаги можно не выполнять),
        матч-центр располагается на первом месте в рубрике,
        матч-центр содержит матчи с разделением на лиги и чемпионаты,
        если матчей много, матч-центр может содержать кнопку 'Ещё'
    - do: тапнуть на любой матч
    - assert: в новом апп-табе внутреннего браузера ПП (а не в вертикали) открывается страница матча с виджетом
    - do: вернуться назад на вертикаль, закрыв апп-таб любым способом
    - do: тапнуть на 'Все матчи'
    - assert: в новом апп-табе внутреннего браузера ПП (а не в вертикали) открывается футбольный календарь

  сервиса Я.Спорт может располагаться в рубрике Хоккей в вертикали ПП [manual]:
    - automation: NERPA-8437
    - tags:
      - pp_only
    - do: Открыть вертикаль Спорта тапом по иконке в бендере ПП
    - assert: открыта вертикаль Спорта на странице рубрики Главное
    - do: Тапнуть по рубрике Хоккей
    - assert: в вертикали ПП, без перехода в новый апп-таб, открывается лента рубрики Хоккей
    - do: Найти матч-центр на странице
    - assert: |
        (матч-центра может не быть в случае отсутствия матчей - в этом случае дальнейшие шаги можно не выполнять),
        матч-центр располагается на первом месте в рубрике,
        матч-центр содержит матчи с разделением на лиги,
        если матчей много, матч-центр может содержать кнопку 'Ещё'
    - do: тапнуть на любой матч
    - assert: в новом апп-табе внутреннего браузера ПП (а не в вертикали) открывается страница матча с виджетом
    - do: вернуться назад на вертикаль, закрыв апп-таб любым способом
    - do: тапнуть на 'Все матчи'
    - assert: в новом апп-табе внутреннего браузера ПП (а не в вертикали) открывается хоккейный календарь

  сервиса Я.Спорт может располагаться в рубрике Баскетбол в вертикали ПП [manual]:
    - automation: NERPA-8437
    - tags:
      - pp_only
    - do: Открыть вертикаль Спорта тапом по иконке в бендере ПП
    - assert: открыта вертикаль Спорта на странице рубрики Главное
    - do: Тапнуть по рубрике Баскетбол
    - assert: в вертикали ПП, без перехода в новый апп-таб, открывается лента рубрики Баскетбол
    - do: Найти матч-центр на странице
    - assert: |
        (матч-центра может не быть в случае отсутствия матчей - в этом случае дальнейшие шаги можно не выполнять),
        матч-центр располагается на первом месте в рубрике,
        матч-центр содержит матчи с разделением на лиги/чемпионаты,
        если матчей много, матч-центр может содержать кнопку 'Ещё'
    - do: тапнуть на любой матч
    - assert: в новом апп-табе внутреннего браузера ПП (а не в вертикали) открывается страница матча с виджетом
    - do: вернуться назад на вертикаль, закрыв апп-таб любым способом
    - do: тапнуть на 'Все матчи'
    - assert: в новом апп-табе внутреннего браузера ПП (а не в вертикали) открывается баскетбольный календарь

  может располагаться на главной странице [manual]:
    - automation: NERPA-8437
    - tags:
      - brow_only
      - backend_sport
    - do: Открыть сервис Я.Спорт на странице рубрики Главное
    - assert: |
        на странице может располагаться матч-центр,
        матч-центр располагается на первом месте в рубрике над блоком 'Главные новости',
        матч-центр содержит матч-тизер с одним-двумя футбольными и одним-двумя хоккейными матчами (при отсутствии матчей соответствующего блока может не быть),
        напротив названий Футбол и Хоккей располагается кнопка 'Все матчи'
    - do: тапнуть на 'Все матчи' напротив Футбола
    - assert: происходит переход в календарь
    - do: вернутся назад любым способом
    - do: тапнуть на 'Все матчи' напротив Хоккея
    - assert: происходит переход в календарь
    - do: вернутся назад любым способом
    - do: тапнуть на любой матч
    - assert: происходит переход на страницу выбранного матча

  сервиса Я.Спорт может располагаться в рубрике Футбол [manual]:
    - automation: NERPA-8437
    - tags:
      - brow_only
      - backend_sport
    - do: Открыть сервис Я.Спорт на странице рубрики Футбол
    - assert: |
        (матч-центра может не быть в случае отсутствия матчей - в этом случае кейс нужно скипнуть),
        матч-центр располагается на первом месте в рубрике,
        матч-центр содержит матчи с разделением на лиги и чемпионаты,
        если матчей много, матч-центр может содержать кнопку 'Ещё'
    - do: тапнуть на любой матч
    - assert: происходит переход на страницу матча
    - do: вернуться назад любым способом
    - do: тапнуть на 'Все матчи'
    - assert: происходит переход в календарь

  сервиса Я.Спорт может располагаться в рубрике Хоккей [manual]:
    - automation: NERPA-8437
    - tags:
      - brow_only
      - backend_sport
    - do: Открыть сервис Я.Спорт на странице рубрики Хоккей
    - assert: |
        (матч-центра может не быть в случае отсутствия матчей - в этом случае кейс нужно скипнуть),
        матч-центр располагается на первом месте в рубрике,
        матч-центр содержит матчи с разделением на лиги,
        если матчей много, матч-центр может содержать кнопку 'Ещё'
    - do: тапнуть на любой матч
    - assert: происходит переход на страницу матча
    - do: вернуться назад любым способом
    - do: тапнуть на 'Все матчи'
    - assert: происходит переход в календарь

  сервиса Я.Спорт может располагаться в рубрике Баскетбол [manual]:
    - automation: NERPA-8437
    - tags:
      - brow_only
      - backend_sport
    - do: Открыть сервис Я.Спорт на странице рубрики Баскетбол
    - assert: |
        (матч-центра может не быть в случае отсутствия матчей - в этом случае кейс нужно скипнуть),
        матч-центр располагается на первом месте в рубрике,
        матч-центр содержит матчи с разделением на лиги/чемпионаты,
        если матчей много, матч-центр может содержать кнопку 'Ещё'
    - do: тапнуть на любой матч
    - assert: происходит переход в сюжет с виджетом матча
    - do: вернуться назад любым способом
    - do: тапнуть на 'Все матчи'
    - assert: происходит переход в календарь

files:
  - platform/components/SportMatchCenter/__tests__/SportMatchCenter.hermione.js

v-team: Sport

qa-engineer: nightsonne

manager: skhovaev

tlds:
  - ru
  - by
  - kz
  - uz
  - ua
  - com
