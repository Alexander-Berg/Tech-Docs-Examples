feature: Колдунщик 1орг
type: Таб Ещё

specs:
  Организация:
    - do: получить выдачу по запросу 'кафе пушкин'
    - assert: появилась карточка одной организации
    - assert: в карточке есть табы
    - screenshot: внешний вид табов [default]
    - do: установить размер экрана 1160x1200
    - screenshot: внешний вид табов с уменьшенной правой колонкой [cols-10]
    - do: установить размер экрана 990x1200
    - assert: появился таб 'Ещё'
    - screenshot: внешний вид табов с табом 'Ещё' [cols-6-more]
    - do: кликнуть по табу 'Ещё'
    - assert: открылся попап со спрятаными табами
    - screenshot: внешний вид попапа [more-popup]
    - do: навести курсор на первый таб в попапе
    - screenshot: внешний вид попапа с наведенным курсором на первом табе [more-popup-hover]
    - do: кликнуть по первому табу в попапе
    - assert: попап закрылся
    - assert: таб 'Ещё' активировался
    - screenshot: внешний вид активного таба 'Ещё' [more-tab-active]
    - assert: содержимое под табами поменялось
    - tech: сработал счетчик /parallel/result/snippet/companies/company/more
    - do: кликнуть по табу 'Ещё'
    - assert: открылся попап со спрятаными табами
    - assert: первый таб в попапе активный
    - screenshot: внешний вид первого активного таба в попапе [more-popup-tab-active]
    - do: кликнуть по первому табу 'Главное'
    - assert: попап закрылся
    - assert: таб 'Главное' активировался
    - assert: таб 'Ещё' сбросил выделение
    - do: кликнуть по табу 'Ещё'
    - assert: открылся попап со спрятаными табами
    - assert: среди табов в попапе нет активных
  Изначально активный таб «Ещё» на узких экранах:
    - do: установить ширину экрана браузера 900px
    - do: получить выдачу по запросу 'кафе пушкин отзывы'
    - assert: на выдаче присутствует карточка организации
    - assert: в карточке есть табы
    - do: дождаться пока карточка организации ужмётся по ширине
    - assert: первый таб 'Главное' виден и не выделен
    - assert: второй таб 'N отзывов' виден и выделен
    - assert: таб 'Ещё' виден 
    - do: кликнуть на таб 'Ещё'
    - assert: открылся попап со спрятаными табами
    - do: клинуть на таб 'Главное'
    - assert: попап закрылся
    - assert: таб 'Главное' виден и выделен
    - assert: таб 'Ещё' виден и не выделен
  Отель:
    - do: получить выдачу по запросу 'президент отель москва'
    - assert: появилась карточка отеля
    - assert: в карточке есть табы
    - do: установить размер экрана 1030x1200
    - assert: появился таб 'Ещё'
    - screenshot: внешний вид табов с табом 'Ещё' [cols-6-more]

files:
  - features/companies/tab-more/tab-more@desktop.hermione.js

v-team: VanillaGeo

tags:
  - skip_e2e_check

tlds: all
