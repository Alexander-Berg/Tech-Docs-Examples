feature: Удаление истории приватного чата

specs:

    История удаляется только у пользователя[manual]:
        - tags: [advanced_smoke, b2b]
        - automation:
        - description: |
              Между пользователями А и Б есть приватный чат, если нет, то создать(найдя по логину yndx-mssngr-719 через глобальный поиск) и отправить пару сообщений.
              Пользователь А yndx-mssngr-721/QazMssngr1 (имя 721yndx-mssngr-721
              Пользователь Б yndx-mssngr-719/QazMssngr1 (имя 719yndx-mssngr-719)
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Через троеточие вызвать контекстное меню чата и выбрать пункт "Очистить историю"
        - assert: |
              Показывается пермишен подтверждения на удаление.
              Текст - Чат пропадёт из общего списка. Чтобы вернуть его обратно, найдите чат в поиске и отправьте сообщение. Учтите, прошлые сообщения восстановить будет невозможно. Если они могут понадобиться, не очищайте чат!
              Кнопки Отмена и Очистить историю
        - do: Выбрать Очистить историю
        - assert: История чата очищается у пользователя А
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Убедиться что история сообщений в чате есть
        - assert: История сообщений в чате есть 
    

    Историю можно удалить через меню чата в списке чатов[manual]:
        - automation:
        - description: |
              Между пользователями А и Б есть приватный чат, если нет, то создать(найдя по логину yndx-mssngr-719 через глобальный поиск) и отправить пару сообщений.
              Пользователь А yndx-mssngr-721/QazMssngr1 (имя 721yndx-mssngr-721
              Пользователь Б yndx-mssngr-719/QazMssngr1 (имя 719yndx-mssngr-719)
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: На списке чатов найти чат из description
        - assert: Чат найден и находится на списке чатов
        - do: Вызвать контекстное меню для чата и выбрать пункт Очистить историю
        - assert: |
              Показывается пермишен подтверждения на удаление.
              Текст - Чат пропадёт из общего списка. Чтобы вернуть его обратно, найдите чат в поиске и отправьте сообщение. Учтите, прошлые сообщения восстановить будет невозможно. Если они могут понадобиться, не очищайте чат!
              Кнопки Отмена и Очистить историю
        - do: Выбрать Очистить историю
        - assert: История чата очищается и сам чат пропадет из списка чатов
    
    Историю можно удалить через меню чата(кнопка троеточие)[manual]:
        - automation:
        - description: |
              Между пользователями А и Б есть приватный чат, если нет, то создать(найдя по логину yndx-mssngr-719 через глобальный поиск) и отправить пару сообщений.
              Пользователь А yndx-mssngr-721/QazMssngr1 (имя 721yndx-mssngr-721
              Пользователь Б yndx-mssngr-719/QazMssngr1 (имя 719yndx-mssngr-719)
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Через троеточие вызвать контекстное меню чата и выбрать пункт "Очистить историю"
        - assert: |
              Показывается пермишен подтверждения на удаление.
              Текст - Чат пропадёт из общего списка. Чтобы вернуть его обратно, найдите чат в поиске и отправьте сообщение. Учтите, прошлые сообщения восстановить будет невозможно. Если они могут понадобиться, не очищайте чат!
              Кнопки Отмена и Очистить историю
        - do: Выбрать Очистить историю
        - assert: История чата очищается у пользователя А
    
    Есть попап подтверждения удаления истории[manual]:
        - automation:
        - description: |
              Между пользователями А и Б есть приватный чат, если нет, то создать(найдя по логину yndx-mssngr-719 через глобальный поиск) и отправить пару сообщений.
              Пользователь А yndx-mssngr-721/QazMssngr1 (имя 721yndx-mssngr-721
              Пользователь Б yndx-mssngr-719/QazMssngr1 (имя 719yndx-mssngr-719)
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Через троеточие вызвать контекстное меню чата и выбрать пункт "Очистить историю"
        - assert: |
              Показывается пермишен подтверждения на удаление.
              Текст - Чат пропадёт из общего списка. Чтобы вернуть его обратно, найдите чат в поиске и отправьте сообщение. Учтите, прошлые сообщения восстановить будет невозможно. Если они могут понадобиться, не очищайте чат!
              Кнопки Отмена и Очистить историю
        - do: Выбрать Отмена
        - assert: пермишен закрывается и история чата не удаляется
        - do: Через троеточие вызвать контекстное меню чата и выбрать пункт "Очистить историю"
        - assert: |
              Показывается пермишен подтверждения на удаление.
              Текст - Чат пропадёт из общего списка. Чтобы вернуть его обратно, найдите чат в поиске и отправьте сообщение. Учтите, прошлые сообщения восстановить будет невозможно. Если они могут понадобиться, не очищайте чат!
              Кнопки Отмена и Очистить историю
        - do: Выбрать Очистить историю
        - assert: Пермишен закрывается и история чата очищается у пользователя А
    
    Пропадает из глобального поиска удаленная история чата[manual]:
        - automation:
        - description: |
              Между пользователями А и Б есть приватный чат, если нет, то создать(найдя по логину yndx-mssngr-719 через глобальный поиск) и отправить пару сообщений.
              Пользователь А yndx-mssngr-721/QazMssngr1 (имя 721yndx-mssngr-721
              Пользователь Б yndx-mssngr-719/QazMssngr1 (имя 719yndx-mssngr-719)
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Через троеточие вызвать контекстное меню чата и выбрать пункт "Очистить историю чата"
        - assert: |
              Показывается пермишен подтверждения на удаление.
              Текст - Чат пропадёт из общего списка. Чтобы вернуть его обратно, найдите чат в поиске и отправьте сообщение. Учтите, прошлые сообщения восстановить будет невозможно. Если они могут понадобиться, не очищайте чат!
              Кнопки Отмена и Очистить историю
        - do: Выбрать Очистить историю
        - assert: История чата очищается у пользователя А
        - do: Вернуться на список чатов и открыть глобальный поиск 
        - assert: Открыт глобальный поиск
        - do: Поискать свое сообщение, из чата из description
        - assert: Сообщение не находится
        - do: Поискать сообщение собеседника, из чата из description
        - assert: Сообщение не находится
    
    Пропадает из поиска по чату удаленная история [manual]:
        - automation:
        - description: |
              Между пользователями А и Б есть приватный чат, если нет, то создать(найдя по логину yndx-mssngr-719 через глобальный поиск) и отправить пару сообщений.
              Пользователь А yndx-mssngr-721/QazMssngr1 (имя 721yndx-mssngr-721
              Пользователь Б yndx-mssngr-719/QazMssngr1 (имя 719yndx-mssngr-719)
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Через троеточие вызвать контекстное меню чата и выбрать пункт "Очистить историю"
        - assert: |
              Показывается пермишен подтверждения на удаление.
              Текст - Чат пропадёт из общего списка. Чтобы вернуть его обратно, найдите чат в поиске и отправьте сообщение. Учтите, прошлые сообщения восстановить будет невозможно. Если они могут понадобиться, не очищайте чат!
              Кнопки Отмена и Очистить историю
        - do: Выбрать Очистить историю
        - assert: История чата очищается у пользователя А
        - do: Открыть поиск по чату и поискать свое сообщение
        - assert: Сообщение не находится
        - do: Открыть поиск по чату и поискать сообщение собеседника
        - assert: Сообщение не находится

    Очищается список важных сообщений после удаления истории чата[manual]:
        - automation:
        - description: |
              Между пользователями А и Б есть приватный чат, если нет, то создать(найдя по логину yndx-mssngr-719 через глобальный поиск) и отправить пару сообщений.
              Пользователь А yndx-mssngr-721/QazMssngr1 (имя 721yndx-mssngr-721
              Пользователь Б yndx-mssngr-719/QazMssngr1 (имя 719yndx-mssngr-719)
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Через троеточие вызвать контекстное меню чата и выбрать пункт "Очистить историю чата"
        - assert: |
              Показывается пермишен подтверждения на удаление.
              Текст - Чат пропадёт из общего списка. Чтобы вернуть его обратно, найдите чат в поиске и отправьте сообщение. Учтите, прошлые сообщения восстановить будет невозможно. Если они могут понадобиться, не очищайте чат!
              Кнопки Отмена и Очистить историю
        - do: Выбрать Очистить историю
        - assert: История чата очищается у пользователя А
        - do: Тапнуть по шапке чата и на экране Информация о контакте выбрать пункт "Важные сообщения"
        - assert: Открывается экран Важные сообщения и он пуст
    
    Очищается раздел Изображения в чате после удаления истории чата[manual]:
        - automation:
        - description: |
              Между пользователями А и Б есть приватный чат, если нет, то создать(найдя по логину yndx-mssngr-719 через глобальный поиск) и отправить пару сообщений.
              Пользователь А yndx-mssngr-721/QazMssngr1 (имя 721yndx-mssngr-721
              Пользователь Б yndx-mssngr-719/QazMssngr1 (имя 719yndx-mssngr-719)
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Через троеточие вызвать контекстное меню чата и выбрать пункт "Очистить историю"
        - assert: |
              Показывается пермишен подтверждения на удаление.
              Текст - Чат пропадёт из общего списка. Чтобы вернуть его обратно, найдите чат в поиске и отправьте сообщение. Учтите, прошлые сообщения восстановить будет невозможно. Если они могут понадобиться, не очищайте чат!
              Кнопки Отмена и Очистить историю
        - do: Выбрать Очистить историю
        - assert: История чата очищается у пользователя А
        - do: Тапнуть по шапке чата и на экране Информация о контакте посотреть раздел Изображения в чате
        - assert: Раздел пустой от изображений
    
    Оформляется верно запиненное сообщение после удаления истории чата[manual]:
        - automation:
        - description: |
              Между пользователями А и Б есть приватный чат, если нет, то создать(найдя по логину yndx-mssngr-719 через глобальный поиск) и отправить пару сообщений.
              Пользователь А yndx-mssngr-721/QazMssngr1 (имя 721yndx-mssngr-721
              Пользователь Б yndx-mssngr-719/QazMssngr1 (имя 719yndx-mssngr-719)
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Закрепить сообщение
        - assert: Сообщение закреплено
        - do: Через троеточие вызвать контекстное меню чата и выбрать пункт "Очистить историю"
        - assert: Показывается пермишен подтверждения на удаление.
                  Текст - Чат пропадёт из общего списка. Чтобы вернуть его обратно, найдите чат в поиске и отправьте сообщение. Учтите, прошлые сообщения восстановить будет невозможно. Если они могут понадобиться, не очищайте чат!
                  Кнопки Отмена и Очистить историю
        - do: Выбрать Очистить историю
        - assert: История чата очищается у пользователя А
        - do: Убедиться что плашка закрепленного сообщения пропадет после удаления истории
        - assert: Плашка пропадает
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Убедиться что плашка закрепленного сообщения не пропала
        - assert: Плашка закрепленного сообщения не пропадает
    
    Не подтягивается удаленная история, если собеседник отредактировал сообщение [manual]:
        - automation:
        - description: |
              Между пользователями А и Б есть приватный чат, если нет, то создать(найдя по логину yndx-mssngr-719 через глобальный поиск) и отправить пару сообщений.
              Пользователь А yndx-mssngr-721/QazMssngr1 (имя 721yndx-mssngr-721
              Пользователь Б yndx-mssngr-719/QazMssngr1 (имя 719yndx-mssngr-719)
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Через троеточие вызвать контекстное меню чата и выбрать пункт "Очистить историю"
        - assert: |
              Показывается пермишен подтверждения на удаление.
              Текст - Чат пропадёт из общего списка. Чтобы вернуть его обратно, найдите чат в поиске и отправьте сообщение. Учтите, прошлые сообщения восстановить будет невозможно. Если они могут понадобиться, не очищайте чат!
              Кнопки Отмена и Очистить историю
        - do: Выбрать Очистить историю
        - assert: История чата очищается у пользователя А
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Найти свое сообщение и отредактировать его
        - assert: Сообщение отредактировать
        - do: Убедиться пользователем А, что удаленная история в чате из description не подтянулась 
        - assert: Ранее удаленная история для пользователя А не подтянулась
    
    Не подтягивается удаленная история, если собеседник выставил реакцию[manual]:
        - automation:
        - description: |
              Между пользователями А и Б есть приватный чат, если нет, то создать(найдя по логину yndx-mssngr-719 через глобальный поиск) и отправить пару сообщений.
              Пользователь А yndx-mssngr-721/QazMssngr1 (имя 721yndx-mssngr-721
              Пользователь Б yndx-mssngr-719/QazMssngr1 (имя 719yndx-mssngr-719)
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Через троеточие вызвать контекстное меню чата и выбрать пункт "Очистить историю"
        - assert: |
              Показывается пермишен подтверждения на удаление.
              Текст - Чат пропадёт из общего списка. Чтобы вернуть его обратно, найдите чат в поиске и отправьте сообщение. Учтите, прошлые сообщения восстановить будет невозможно. Если они могут понадобиться, не очищайте чат!
              Кнопки Отмена и Очистить историю
        - do: Выбрать Очистить историю
        - assert: История чата очищается у пользователя А
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Найти  ранее отправленное сообщение и выставить ему реакцию
        - assert: Реакция выставлена для сообщения
        - do: Убедиться пользователем А, что удаленная история в чате из description не подтянулась 
        - assert: Ранее удаленная история для пользователя А не подтянулась

    Не подтягивается удаленная история, если собеседник удалил сообщение[manual]:
        - automation:
        - description: |
              Между пользователями А и Б есть приватный чат, если нет, то создать(найдя по логину yndx-mssngr-719 через глобальный поиск) и отправить пару сообщений.
              Пользователь А yndx-mssngr-721/QazMssngr1 (имя 721yndx-mssngr-721
              Пользователь Б yndx-mssngr-719/QazMssngr1 (имя 719yndx-mssngr-719)
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Через троеточие вызвать контекстное меню чата и выбрать пункт "Очистить историю"
        - assert: |
              Показывается пермишен подтверждения на удаление.
              Текст - Чат пропадёт из общего списка. Чтобы вернуть его обратно, найдите чат в поиске и отправьте сообщение. Учтите, прошлые сообщения восстановить будет невозможно. Если они могут понадобиться, не очищайте чат!
              Кнопки Отмена и Очистить историю
        - do: Выбрать Очистить историю
        - assert: История чата очищается у пользователя А
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из **description**
        - do: Найти ранее отправленное свое сообщение и удалить его
        - assert: Сообщение удалено
        - do: Убедиться пользователем А, что удаленная история в чате из description не подтянулась 
        - assert: Ранее удаленная история для пользователя А не подтянулась

    Не подтягивается удаленная история, если собеседник сделал Reply на сообщение[manual]:
        - automation:
        - description: |
              Между пользователями А и Б есть приватный чат, если нет, то создать(найдя по логину yndx-mssngr-719 через глобальный поиск) и отправить пару сообщений.
              Пользователь А yndx-mssngr-721/QazMssngr1 (имя 721yndx-mssngr-721
              Пользователь Б yndx-mssngr-719/QazMssngr1 (имя 719yndx-mssngr-719)
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Через троеточие вызвать контекстное меню чата и выбрать пункт "Очистить историю"
        - assert: |
              Показывается пермишен подтверждения на удаление.
              Текст - Чат пропадёт из общего списка. Чтобы вернуть его обратно, найдите чат в поиске и отправьте сообщение. Учтите, прошлые сообщения восстановить будет невозможно. Если они могут понадобиться, не очищайте чат!
              Кнопки Отмена и Очистить историю
        - do: Выбрать Очистить историю
        - assert: История чата очищается у пользователя А
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Найти ранее отправленное сообщение и сделать на него reply
        - assert: Reply сделан
        - do: Убедиться пользователем А, что удаленная история в чате из description не подтянулась 
        - assert: Ранее удаленная история для пользователя А не подтянулась

    Не подтягивается удаленная история, если собеседник. закрепил сообщение[manual]:
        - automation:
        - description: |
              Между пользователями А и Б есть приватный чат, если нет, то создать(найдя по логину yndx-mssngr-719 через глобальный поиск) и отправить пару сообщений.
              Пользователь А yndx-mssngr-721/QazMssngr1 (имя 721yndx-mssngr-721
              Пользователь Б yndx-mssngr-719/QazMssngr1 (имя 719yndx-mssngr-719)
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Через троеточие вызвать контекстное меню чата и выбрать пункт "Очистить историю"
        - assert: |
              Показывается пермишен подтверждения на удаление.
              Текст - Чат пропадёт из общего списка. Чтобы вернуть его обратно, найдите чат в поиске и отправьте сообщение. Учтите, прошлые сообщения восстановить будет невозможно. Если они могут понадобиться, не очищайте чат!
              Кнопки Отмена и Очистить историю
        - do: Выбрать Очистить историю
        - assert: История чата очищается у пользователя А
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Найти ранее отправленное сообщение и закрепить его
        - assert: Сообщение закреплено
        - do: Убедиться пользователем А, что удаленная история в чате из description не подтянулась 
        - assert: Ранее удаленная история для пользователя А не подтянулась
    
    Не подтягивается удаленная история, если обновили страницу[manual]:
        - automation:
        - description: |
              Между пользователями А и Б есть приватный чат, если нет, то создать(найдя по логину yndx-mssngr-719 через глобальный поиск) и отправить пару сообщений.
              Пользователь А yndx-mssngr-721/QazMssngr1 (имя 721yndx-mssngr-721
              Пользователь Б yndx-mssngr-719/QazMssngr1 (имя 719yndx-mssngr-719)
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Через троеточие вызвать контекстное меню чата и выбрать пункт "Очистить историю"
        - assert: |
              Показывается пермишен подтверждения на удаление.
              Текст - Чат пропадёт из общего списка. Чтобы вернуть его обратно, найдите чат в поиске и отправьте сообщение. Учтите, прошлые сообщения восстановить будет невозможно. Если они могут понадобиться, не очищайте чат!
              Кнопки Отмена и Очистить историю
        - do: Выбрать Очистить историю
        - assert: История чата очищается у пользователя А
        - do: обновить страницу
        - assert: страница обновлена
        - do: В глобальный поиск вбить пользователя Б и открыть с ним чат
        - assert: Ранее удаленная история не подтянулась
    
    Не подтягивается удаленная история, если сделали перелогин[manual]:
        - automation:
        - description: |
              Между пользователями А и Б есть приватный чат, если нет, то создать(найдя по логину yndx-mssngr-719 через глобальный поиск) и отправить пару сообщений.
              Пользователь А yndx-mssngr-721/QazMssngr1 (имя 721yndx-mssngr-721
              Пользователь Б yndx-mssngr-719/QazMssngr1 (имя 719yndx-mssngr-719)
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Через троеточие вызвать контекстное меню чата и выбрать пункт "Очистить историю"
        - assert: |
              Показывается пермишен подтверждения на удаление.
              Текст - Чат пропадёт из общего списка. Чтобы вернуть его обратно, найдите чат в поиске и отправьте сообщение. Учтите, прошлые сообщения восстановить будет невозможно. Если они могут понадобиться, не очищайте чат!
              Кнопки Отмена и Очистить историю
        - do: Выбрать Очистить историю
        - assert: История чата очищается у пользователя А
        - do: перелогиниться в приложении
        - assert: перелогин сделан
        - do: Открыть глобальный поиск и найти пользователя Б
        - assert: Пользователь Б найден и в чате нет ранее удаленной истории
    
    Не подтягивается удаленная история при листании картинок[manual]:
        - automation:
        - description: |
              Между пользователями А и Б есть приватный чат, если нет, то создать(найдя по логину yndx-mssngr-719 через глобальный поиск) и отправить пару сообщений.
              Пользователь А yndx-mssngr-721/QazMssngr1 (имя 721yndx-mssngr-721
              Пользователь Б yndx-mssngr-719/QazMssngr1 (имя 719yndx-mssngr-719)
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Через троеточие вызвать контекстное меню чата и выбрать пункт "Очистить историю"
        - assert: |
              Показывается пермишен подтверждения на удаление.
              Текст - Чат пропадёт из общего списка. Чтобы вернуть его обратно, найдите чат в поиске и отправьте сообщение. Учтите, прошлые сообщения восстановить будет невозможно. Если они могут понадобиться, не очищайте чат!
              Кнопки Отмена и Очистить историю
        - do: Выбрать Очистить историю
        - assert: История чата очищается у пользователя А
        - do: Отправить в чат изображение 
        - assert: изображение отравлено
        - do: Открыть изображение в фуллскрин и попробовать проскроллить вправо-влево
        - assert: Не подгружаются ранее удаленные изображения при листании изображений
    
    Чат скрывается из списка чатов после удаления истории, если он был не закреплен[manual]:
        - automation:
        - description: |
              Между пользователями А и Б есть приватный чат, если нет, то создать(найдя по логину yndx-mssngr-719 через глобальный поиск) и отправить пару сообщений.
              Пользователь А yndx-mssngr-721/QazMssngr1 (имя 721yndx-mssngr-721
              Пользователь Б yndx-mssngr-719/QazMssngr1 (имя 719yndx-mssngr-719)
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: На списке чатов найти чат из description
        - assert: Чат найден и находится на списке чатов
        - do: Вызвать контекстное меню для чата и выбрать пункт Очистить историю
        - assert: |
              Показывается пермишен подтверждения на удаление.
              Текст - Чат пропадёт из общего списка. Чтобы вернуть его обратно, найдите чат в поиске и отправьте сообщение. Учтите, прошлые сообщения восстановить будет невозможно. Если они могут понадобиться, не очищайте чат!
              Кнопки Отмена и Очистить историю
        - do: Выбрать Очистить историю
        - assert: История чата очищается и сам чат пропадет из списка чатов
    
    Чат скрывается из списка чатов после удаления истории, если он был закреплен[manual]:
        - automation:
        - description: |
              Между пользователями А и Б есть приватный чат, если нет, то создать(найдя по логину yndx-mssngr-719 через глобальный поиск) и отправить пару сообщений.
              Пользователь А yndx-mssngr-721/QazMssngr1 (имя 721yndx-mssngr-721
              Пользователь Б yndx-mssngr-719/QazMssngr1 (имя 719yndx-mssngr-719)
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: На списке чатов найти чат из description и заапинить, если не закреплен
        - assert: Чат найден и находится на списке чатов и закреплен
        - do: Вызвать контекстное меню для чата и выбрать пункт Очистить историю
        - assert: |
              Показывается пермишен подтверждения на удаление.
              Текст - Чат пропадёт из общего списка. Чтобы вернуть его обратно, найдите чат в поиске и отправьте сообщение. Учтите, прошлые сообщения восстановить будет невозможно. Если они могут понадобиться, не очищайте чат!
              Кнопки Отмена и Очистить историю
        - do: Выбрать Очистить историю
        - assert: История чата очищается и сам чат пропадет из списка чатов
    
files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
    - chamb
