feature: Рубрика Яндекс.Новостей

description: Рубрика - это страница сервиса, на которой отображаются новости одной тематики.

specs:

  имеет внешний вид [manual]:
    - automation: NERPADUTY-54
    - tags: backend_news
    - do: открыть главную страницу сервиса Яндекс.Новости
    - assert: |
        пользователь находится в рубрике Главное (таб выделен в рубрикаторе),
        над рубрикатором отображается шапка сервиса,
        под рубрикатором располагается лента новостей:
        карточки в ленте должны содержать заголовок и аннотацию,
        карточки могут содержать картинку, видео или цитату,
        внизу карточки отображается источник и время обновления новости,
        внешний вид - https://jing.yandex-team.ru/files/nightsonne/2019-12-06_16-39-05.png

  должна содержать карточки новостей с картинками [manual]:
    - automation: NERPADUTY-54
    - tags: backend_news
    - do: поскроллить ленту новостей
    - assert: в ленте встречаются карточки новостей с картинками, внешний вид - https://jing.yandex-team.ru/files/a-groza/2019-11-22_18.05.59-32e7w.png
    - do: перейти в любую другую рубрику, кроме рубрики Спорт
    - do: поскроллить ленту новостей рубрики
    - assert: в ленте встречаются карточки новостей с картинками

  должна содержать персональные карточки новостей [manual]:
    - tags:
      - no_assessors
      - backend_news
    - automation: NERPADUTY-54
    - do: залогиниться на сервисе под пользователем Ольга Бузова (логин - olgabuzovatest, пароль - olgabuzovatestnews)
    - do: открыть главную страницу сервиса
    - assert: в ленте иногда встречаются сюжеты по тематике желтая пресса и новости про Бузову
    - do: перейти в рубрику Интересное
    - assert: в ленте большинство сюжетов по тематике желтая пресса и новости про Бузову

  может содержать:
    карточки новостей с видео [manual]:
      - automation: NERPADUTY-54
      - tags: backend_news
      - do: перейти в любую рубрику, кроме рубрики Спорт
      - do: поскроллить ленту новостей рубрики
      - assert: |
          в ленте встречаются карточки новостей с видео,
          видео воспроизводится автоматически без звука (кроме safari в 9 и 10 ios - особенности браузера)
      - do: включить звук у видео (звук не будет включаться на сафари в 9 и 10 ios - особенности браузера)
      - assert: видео воспроизводится со звуком
      - do: проскроллить страницу вниз так, чтобы верхняя часть видео скрылась более, чем наполовину (пропустить дальнейшие шаги, если проходите кейс на iOS 9)
      - assert: видео пауизится
      - do: проскроллить страницу обратно
      - assert: видео воспроизводится автоматически, со звуком
      - do: тапнуть по карточке новости с видео, чтобы перейти в сюжет
      - do: тапнуть на три точки под видео, снять галочку Автоплей видео и вернуться в рубрику
      - assert: видео в ленте не воспроизводятся автоматически

    траурные карточки новостей с видео [manual]:
      - automation: NERPADUTY-54
      - do: перейти в рубрику Происшествия
      - do: поскроллить ленту новостей рубрики
      - assert: |
          в ленте встречаются траурные карточки новостей с видео (если видео отсутствуют, перейти в другую рубрику, кроме рубрики Спорт),
          видео в карточках с траурным сюжетом не воспроизводится автоматически,
          внешний вид - https://jing.yandex-team.ru/files/a-groza/2019-11-22_18.08.00-nb4da.png
      - do: тапнуть по кнопке плей на превью видео
      - assert: видео воспроизводится, без звука
      - do: включить звук у видео (звук не будет включаться на сафари в 9 и 10 ios - особенности браузера)
      - assert: видео воспроизводится со звуком
      - do: проскроллить страницу вниз так, чтобы верхняя часть видео скрылась более, чем наполовину (пропустить дальнейшие шаги, если проходите кейс на iOS 9)
      - assert: видео не пауизится при скролле

    карточки новостей с цитатой [manual]:
      - automation: NERPADUTY-54
      - tags:
        - no_assessors
        - backend_news
      - do: перейти в рубрику Политика
      - do: поскроллить ленту новостей рубрики
      - assert: |
          в ленте встречаются карточки новостей с цитатой (если цитат нет, перейти в другую рубрику, кроме рубрики Спорт),
          цитата отображается на сером фоне, под цитатой присутствует аватарка и фио автора

    карточки новостей с редиректом на Я.Спорт [manual]:
      - automation: NERPADUTY-54
      - tags: backend_news
      - do: открыть главную страницу сервиса Яндекс.Новости или рубрику Интересное
      - do: поскроллить ленту новостей рубрики до карточки со спортивной новостью (содержит только спортивную тематику)
      - do: тапнуть по карточке со спортивной новостью
      - assert: |
          произошел переход на страницу сюжета в сервисе Я.Спорт в той же вкладке,
          внешний вид https://jing.yandex-team.ru/files/terenandrevna/browser_63OtUmKcAB.png

  позволяет перейти в сюжет [manual]:
    - automation: NERPADUTY-54
    - tags: backend_news
    - do: тапнуть по любому сюжету из топа новостей (обратить внимание на заголовок)
    - assert: |
        в той же вкладке происходит переход на выбранный сюжет,
        отображается тот же заголовок, что и на Главной,
        в рубрикаторе выделена рубрика, к которой относится сюжет

  может содержать рекламу [manual]:
    - automation: NERPADUTY-54
    - tags:
      - smoke
      - advert
      - backend_news
    - assert: в шапке отображается реклама
    - do: проскроллить страницу ниже 5 новости
    - assert: после пятой новости отображается рекламный блок, который отделен от новости отступами сверху и снизу
    - do: поскроллить страницу вниз, до конца
    - assert: после каждой шестой новости отображается рекламный блок, перед футером отображается рекламный блок

  может не содержать рекламу [manual]:
    - automation: NERPADUTY-54
    - tags:
      - smoke
      - advert
      - backend_news
    - do: перейти в рубрику Происшествия
    - assert: открывается страница рубрики Происшествия, в шапке отсутствует реклама
    - do: проскроллить страницу ниже 5 новости
    - assert: после пятой новости отсутствует рекламный блок
    - do: поскроллить страницу вниз, до конца
    - assert: в ленте новостей отсутствует реклама

#   позволяет перейти на страницу поиска [manual]:
#     - automation: NERPADUTY-54
#     - do: проскроллить новостной рубрикатор до конца вправо, тапнуть Поиск
#     - assert: в новой вкладке открывается страница поиска с пустым поисковым запросом и рекламой, внешний вид - https://jing.yandex-team.ru/files/a-groza/2019-11-22_18.09.44-1piky.png

  позволяет перейти на сервис Яндекс.Спорт [manual]:
    - automation: NERPADUTY-54
    - tags: backend_news
    - do: проскроллить рубрикатор вправо, тапнуть по рубрике Спорт
    - assert: в новой вкладке открывается сервис Яндекс.Спорт на странице рубрики Главное

  может содержать карточки новостей с комментариями [manual]:
    - automation: NERPADUTY-54
    - tags: backend_news
    - do: открыть главную страницу сервиса Яндекс.Новости
    - do: поскроллить ленту новостей рубрики
    - assert: |
        У карточек отображаются баблы комментариев https://jing.yandex-team.ru/files/terenandrevna/commphone.png,
        Справа от баблов отображаются счетчики количества комментариев,
        Карточка может не содержать счетчик, если число комментариев равно нулю (бабл присуствует)
    - do: перейти в любую другую рубрику, кроме рубрики Спорт
    - do: поскроллить ленту новостей рубрики
    - assert: |
        У карточек отображаются баблы комментариев,
        Справа от баблов отображаются счетчики количества комментариев,
        Карточка может не содержать счетчик, если число комментариев равно нулю (бабл присуствует)


files: []

tags:
  - newsinturbo

v-team: News

manager: glushneva

tlds: none
