feature: Лайв-трансляции на десктопе

description: Лайв-трансляции это страница с прямыми трансляциями матчей на Кинопоиске.

specs:
#  содержит основные элементы [manual]:
#    - do: перейти в матч-центр на сервисе Яндекс.Спорт
#    - do: во вкладке "Футбол" в датапикере выбрать 8 августа 2021
#    - do: кликнуть на "ФНЛ"
#    - assert: |
#        открывается страница турнира ФНЛ на вкладке "Календарь",
#        в селекторах выбран текущий месяц и все команды,
#        отображается список игр с иконками трансляций,
#        у каждой команды отображается иконка и наименование,
#        справа присутствует блок рекламы (только при ширине экрана больше 1250px)
#    - do: поскроллить страницу до конца таблицы
#    - assert: в конце таблицы отображается кнопка "Показать еще"
#    - do: кликнуть на "Показать еще"
#    - assert: догружаются будущие игры ФНЛ
#    - do: поскроллить вначало страницы
#    - do: кликнуть на вкладку "Общее"
#    - assert: |
#        отображается список команд,
#        у каждой команды есть иконка и наименование,
#        таблица содержит количество игр, выйгрыш, ничья, проигрыш, разница голов, очки,
#        справа присутствует блок рекламы (только при ширине экрана больше 1250px)

  содержат баннер на главной [manual]:
    - browsers:
        notFor:
          - win-ie11
    - do: открыть главную спорта https://yandex.ru/sport
    - assert: |
        над матч-тизером отображается баннер "Смотрите спорт в прямом эфире по подписке Яндекс Плюс",
        внешний вид https://jing.yandex-team.ru/files/vasekerka/2022-01-27_13-48-56.png
    - do: кликнуть на баннер
    - assert:  |
        в текущей вкладке открывается страница https://yandex.ru/sport/live/?utm_source=white_sport&utm_medium=selfpromo&utm_campaign=MSCAMP-287|sport,
        Обратите внимание! Не нужно проверять внешний вид страницы https://yandex.ru/sport/live ! Это сторонний сервис, в данном кейсе нам важен сам факт перехода!

  содержат рубрику "Трансляции" в рубрикаторе [manual]:
    - browsers:
        notFor:
          - win-ie11
    - do: открыть главную спорта https://yandex.ru/sport
    - assert: |
        в рубрикаторе отображается рубрика "Трансляции" с иконкой плюса,
        внешний вид https://jing.yandex-team.ru/files/kossakovskaya/2021-10-20_14-23-49.png
    - do: кликнуть на рубрику
    - assert: |
        в текущей вкладке открывается страница https://yandex.ru/sport/live,
        Обратите внимание! Не нужно проверять внешний вид страницы https://yandex.ru/sport/live ! Это сторонний сервис, в данном кейсе нам важен сам факт перехода!

#поправить параметр phone на desktop после правки NERPADUTY-2360
  содержат переход на страницу трансляций из медиаблока на странице матча [manual]:
    - browsers:
        notFor:
          - win-ie11
    - do: перейти на страницу матча по прямой ссылке https://yandex.ru/sport/event/m529529
    - assert: |
        отображается страница матча "Балтика - Нефтехимик",
        на странице отображается медиаблок "Видео о матче",
        в медиаблоке отображается два видео,
        внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-10-20_14-26-42.png
    - do: нажать на первое видео (кнопка с надписью "Весь матч")
    - assert: |
        в текущей вкладке открывается страница https://yandex.ru/sport/live/event/m529529 (ссылка содержит параметры, в которых нужно проверить наличие - from=sport и from_block=sport-phone-event-media-block),
        наименование матча на странице лайв-трансляций совпадает с тем, который был на сервисе Яндекс.Спорта - https://jing.yandex-team.ru/files/kossakovskaya/2021-10-20_14-37-56.png,
        обратите внимание! Не нужно проверять внешний вид страницы https://yandex.ru/sport/live ! Это сторонний сервис, в данном кейсе нам важен сам факт перехода и соответствие данных!

  #содержит медиаблок на странице матча [manual]:
  #  - do: перейти на страницу матча по прямой ссылке https://yandex.ru/sport/event/m529492
  #  - assert: |
  #      отображается страница матча "Енисей - Кубань",
  #      на странице отображается медиаблок (карусель с видео), у каждого видео есть кнопка плей,
  #      внимание! у кнопки плей может быть название - баг заводить не нужно! пример такой кнопки - https://jing.yandex-team.ru/files/vasekerka/2021-10-14_20-41-58.png,
  #      под медиаблоком отображается ход матча, список карточек Новости футбола, виджеты "Другие матчи", "Турнирная таблица",
  #      внешний вид - https://jing.yandex-team.ru/files/vasekerka/2021-10-14_20-45-50.png
  #  - do: кликнуть на любое видео
  #  - assert: видео воспроизводится

#поправить параметр phone на desktop после правки NERPADUTY-2360
  содержат переход на страницу трансляций из медиаблока на странице матча в Чемпионате Бразилии под плюсовым аккаунтом [manual]:
    - browsers:
        notFor:
          - win-ie11
    - do: авторизоваться под аккаунтом у которого есть подписка Яндекс.Плюс (можно взять тут https://wiki.yandex-team.ru/eva/testing/projects/nerpa/#loginyiparolidljatestovyxpolzovatelejjspodpiskojjpljusa)
    - do: перейти на страницу матча по прямой ссылке https://yandex.ru/sport/event/m534634
    - assert: |
        отображается страница матча "Шапекоэнсе - Сантос",
        иконки и наименование команд, счет,
        на странице отображается медиаблок с кнопкой плей и надписью "Смотреть с Плюсом",
        под медиаблоком отображается ход матча, состав, список карточек Новости футбола, виджеты "Другие матчи", "Турнирная таблица",
        внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-10-20_14-57-35.png
        ВНИМАНИЕ! Если вы проходите кейс не из РФ - вместо видео может отображаться заглушка "Нет доступных лицензий", и это не баг (в этом случае пропустите кейс)
    - do: нажать на кнопку плей
    - assert: |
        в текущей вкладке открывается страница https://yandex.ru/sport/live/event/m534634 (ссылка содержит параметры, в которых нужно проверить наличие - from=sport и from_block=sport-phone-event-media-block),
        наименование матча на странице лайв-трансляций совпадает с тем, который был на сервисе Яндекс.Спорта - https://jing.yandex-team.ru/files/kossakovskaya/2021-10-20_14-59-42.png ,
        обратите внимание! Не нужно проверять внешний вид страницы https://yandex.ru/sport/live ! Это сторонний сервис, в данном кейсе нам важен сам факт перехода и соответствие данных!
        обратите внимание 2! Если вы находитесь не в РФ, проверьте ТОЛЬКО параметры в ссылке, наименования матча на странице лайв-трансляции проверять не нужно, так как самого матча не будет на странице
    - do: ОБЯЗАТЕЛЬНО РАЗЛОГИНИТЬСЯ из тестового аккаунта с подпиской Яндекс.Плюс

  содержат переход на страницу покупки Плюс из медиаблока на странице матча в Чемпионате Бразилии под обычным аккаунтом без плюса [manual]:
    - browsers:
        notFor:
          - win-ie11
    - do: авторизоваться под аккаунтом у которого нет подписки Яндекс.Плюс
    - do: перейти на страницу матча по прямой ссылке https://yandex.ru/sport/event/m534634
    - assert: |
        отображается страница матча "Шапекоэнсе - Сантос",
        иконки и наименование команд, счет,
        на странице отображается медиаблок с кнопкой плей и надписью "Смотреть с Плюсом",
        под медиаблоком отображается ход матча, состав, список карточек Новости футбола, виджеты "Другие матчи", "Турнирная таблица",
        внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-10-20_14-57-35.png
        ВНИМАНИЕ! Если вы проходите кейс не из РФ - вместо видео может отображаться заглушка "Нет доступных лицензий", и это не баг (в этом случае пропустите кейс)
    - do: нажать на кнопку плей
    - assert: |
        в текущей вкладке открывается страница https://yandex.ru/sport/live/ (ссылка может содержать и иные параметры, главное, чтобы совпадало начало)
        обратите внимание! Не нужно проверять внешний вид страницы https://yandex.ru/sport/live ! Это сторонний сервис, в данном кейсе нам важен сам факт перехода!

# кейс закомменчен, тк сейчас нет трансляций фнл, а следующие будут только в марте 2022
#  содержат переход на страницу предстоящих трансляций из карусели с видео на странице календаря ФНЛ [manual]:
#    - browsers:
#        notFor:
#          - win-ie11
#    - do: открыть турнир ФНЛ https://yandex.ru/sport/competition/28641
#    - assert: открывается страница турнира ФНЛ на вкладке "Календарь"
#    - do: поскролить страницу
#    - assert: |
#        под календарем отображается карусель с видео "Последние видео"
#        внешний вид https://jing.yandex-team.ru/files/kossakovskaya/2021-10-20_15-17-14.png
#    - do: поскролить карусель с помощью стрелок карусели
#    - assert: карусель скроллится
#    - do: кликнуть на любое видео в карусели, заглушка которого похожа на заглушку на скрине выше (не содержит указания длительности видео и/или надпись ФНЛ - https://jing.yandex-team.ru/files/kossakovskaya/2021-10-20_15-18-24.png)
#    - assert: |
#        в новой вкладке открывается страница https://yandex.ru/sport/live/event (урл содержит дополнительные пути и параметры, нам главное проверить соответствие начала урла)
#        урл содержит параметры - from=sport&from_block=sport_main,
#        наименование матча на странице соответсвует тому, на который вы нажали на сервсие Яндекс.Спорт (https://jing.yandex-team.ru/files/kossakovskaya/2021-10-20_15-21-45.png)
#        обратите внимание! Не нужно проверять внешний вид страницы https://yandex.ru/sport/live ! Это сторонний сервис, в данном кейсе нам важен сам факт перехода и соответствие данных!
#        если вы проходите кейс не из РФ - вместо видео может отображаться пустая страница, и это не баг (в этом случае пропустите кейс)

#поправить параметр phone на desktop после правки NERPADUTY-2360
  может содержать переход на страницу лайв-трансляций хоккейного матча НХЛ для аккаунта с подпиской Плюс [manual]:
    - browsers:
        notFor:
          - win-ie11
    - do: авторизоваться под аккаунтом у которого есть подписка Яндекс.Плюс (можно взять тут https://wiki.yandex-team.ru/eva/testing/projects/nerpa/#loginyiparolidljatestovyxpolzovatelejjspodpiskojjpljusa)
    - do: перейти на хоккейный матч https://yandex.ru/sport/event/m540077
    - assert: |
        открыт матч, который содержит медиаблок - "Видео о матче",
        внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-10-20_16-23-04.png ,
        ВНИМАНИЕ! Если вы проходите кейс не из РФ - вместо видео может отображаться заглушка "Нет доступных лицензий", и это не баг (в этом случае пропустите кейс)
    - do: перейти на страницу записи хоккейного матча кликом на видео с иконкой "Смотреть с Плюсом" - https://jing.yandex-team.ru/files/kossakovskaya/2021-10-20_16-26-48.png
    - assert: |
        в текущей вкладке открывается страница https://yandex.ru/sport/live/event/m540077 (ссылка содержит параметры, в которых нужно проверить наличие - from=sport и from_block=sport-phone-event-media-block),
        наименование матча на странице лайв-трансляций совпадает с тем, который был на сервисе Яндекс.Спорта - https://jing.yandex-team.ru/files/kossakovskaya/2021-10-20_16-28-43.png ,
        обратите внимание! Не нужно проверять внешний вид страницы https://yandex.ru/sport/live ! Это сторонний сервис, в данном кейсе нам важен сам факт перехода и соответствие данных!
        если вы проходите кейс не из РФ - вместо видео может отображаться пустая страница, и это не баг (в этом случае пропустите кейс)
    - do: ОБЯЗАТЕЛЬНО РАЗЛОГИНИТЬСЯ из тестового аккаунта с подпиской Яндекс.Плюс

  может содержать переход со страницы хоккейного матча НХЛ на страницу покупки Плюс для аккаунта без подписки Плюса [manual]:
    - browsers:
        notFor:
          - win-ie11
    - do: авторизоваться под аккаунтом у которого нет подписки Яндекс.Плюс
    - do: перейти на хоккейный матч https://yandex.ru/sport/event/m540077
    - assert: |
        открыт матч, который содержит медиаблок - "Видео о матче",
        внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-10-20_16-23-04.png ,
        ВНИМАНИЕ! Если вы проходите кейс не из РФ - вместо видео может отображаться заглушка "Нет доступных лицензий", и это не баг (в этом случае пропустите кейс)
    - do: перейти на страницу записи хоккейного матча кликом на видео с иконкой "Смотреть с Плюсом" - https://jing.yandex-team.ru/files/kossakovskaya/2021-10-20_16-26-48.png
    - assert: |
        в текущей вкладке открывается страница https://yandex.ru/sport/live/ (ссылка может содержать и иные параметры, главное, чтобы совпадало начало)
        обратите внимание! Не нужно проверять внешний вид страницы https://yandex.ru/sport/live ! Это сторонний сервис, в данном кейсе нам важен сам факт перехода и соответствие данных!

  позволяют просматривать прямые трансляции матчей ФНЛ на сервисе КП [manual]:
    - browsers:
        notFor:
          - win-ie11
    - tags:
      - no_assessors
    - do: открыть матч-центр на вкладке "Футбол" за сегодняшнюю дату
    - do: найти текущий матч ФНЛ и перейти в него (если таких нет - скипнуть кейс)
    - assert: |
        открывается текущий матч ФНЛ,
        в блоке "Видео о матче" отображается видео матча с подписью "Прямая трансляция"
    - do: кликнуть по кнопке "Смотреть трансляцию"
    - assert: в текущей вкладке происходит переход на https://yandex.ru/sport/live

  позволяют просматривать прямые трансляции матчей Чемпионата Бразилии на сервисе КП [manual]:
    - browsers:
        notFor:
          - win-ie11
    - tags:
      - no_assessors
    - do: открыть матч-центр на вкладке "Футбол" за сегодняшнюю дату
    - do: найти текущий матч Чемпионата Бразилии и перейти в него (если таких нет - скипнуть кейс)
    - assert: |
        открывается текущий матч Чемпионата Бразилии,
        в блоке "Видео о матче" отображается видео матча с подписью "Прямая трансляция"
    - do: кликнуть по кнопке "Смотреть трансляцию"
    - assert: в текущей вкладке происходит переход на https://yandex.ru/sport/live

  позволяют просматривать прямые трансляции матчей Чемпионата Франции на сервисе КП [manual]:
    - browsers:
        notFor:
          - win-ie11
    - tags:
      - no_assessors
    - do: открыть матч-центр на вкладке "Футбол" за сегодняшнюю дату
    - do: найти текущий матч Чемпионата Франции и перейти в него (если таких нет - скипнуть кейс)
    - assert: |
        открывается текущий матч Чемпионата Франции,
        в блоке "Видео о матче" отображается видео матча с подписью "Прямая трансляция"
    - do: кликнуть по кнопке "Смотреть трансляцию"
    - assert: в текущей вкладке происходит переход на https://yandex.ru/sport/live

  позволяют просматривать прямые трансляции матчей НХЛ на сервисе КП [manual]:
    - browsers:
        notFor:
          - win-ie11
    - tags:
      - no_assessors
    - do: открыть матч-центр на вкладке "Хоккей" за сегодняшнюю дату
    - do: найти текущий матч НХЛ и перейти в него (если таких нет - скипнуть кейс)
    - assert: |
        открывается текущий матч НХЛ,
        в блоке "Видео о матче" отображается видео матча с подписью "Прямая трансляция"
    - do: кликнуть по кнопке "Смотреть трансляцию"
    - assert: в текущей вкладке происходит переход на https://yandex.ru/sport/live

  #содержит карусель с видео на странице календаря Чемпионат Бразилии [manual]:
  #  - do: открыть календарь "Чемпионат Бразилии" https://yandex.ru/sport/competition/39222
  #  - do: поскролить страницу
  #  - assert: |
  #      под календарем отображается карусель с видео "Последние видео"
  #      внешний вид https://jing.yandex-team.ru/files/an-smirn0v/shot_210819_122849.png
  #  - do: поскролить карусель
  #  - assert: карусель скроллится
  #  - do: кликнуть на любое видео в карусели
  #  - assert: открывается страница матча с медиаблоком
  #  - do: поскроллить страницу матча

files: []

manager: mrwhite

qa-engineer: an-smirn0v

tlds:
  - ru
  - by
  - kz
  - uz
  - ua
  - com
