feature: Отображение онлайновости

specs:

    Пользователь, который есть у Вас в контактах может видеть статус онлайновости, если в настройках выбран пункт "Все пользователи"[manual]:
        - tags: [advanced_smoke]
        - automation: MSSNGRFRONT-5720
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2м вспомогательным аккаунтом можно авторизоваться в веб/в ферме/на втором девайсе
              Между пользователем А и Б есть общий приватный чат
              Пользователь А есть в адресной книге Пользователя Б
              Пользователь Б есть в адресной книге Пользователя А
        - do: Под пользователем А открыть список чатов, если открыта другая вкладка
        - assert: Открывается окно списка чатов
        - do: Открыть "Настройки" нажав на значок шестиренку в шапке списка чатов
        - assert: Открывается экран с настройками аккаунта и приложения
        - do: В настройках найти пункт “Кто может видеть, что я в сети”и нажать на него
        - assert: Появляется меню с пунктами "Все пользователи", "Никто"
        - do: Выбрать “Все пользователи”
        - assert: |
              Меню закрывается
              В блоке "Кто может видеть, что я в сети" выбрана настройка "Все пользователи"
        - do: Под пользователем Б Открыть список чатов
        - assert: Открывается список чатов
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Пользователем Б проверить статус онлйновости в шапке чата
        - assert: В шапке чата у пользователя А отображается надпись “В сети” и горит точка онлайна
        - do: Под пользователем А закрыть вкладку с мессенджером / закрыть приложение
        - assert: Вклдка / приложение закрыто
        - do: Пользователем Б проверить статус онлйновости в шапке чата
        - assert: В шапке чата у пользователя А отображается актуальный статус

    Пользователя, которого нет у Вас в контактах не может видеть статус онлайновости, если в настройках выбран пункт "Никто"[manual]:
        - automation: MSSNGRFRONT-5720
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2м вспомогательным аккаунтом можно авторизоваться в веб/в ферме/на втором девайсе
              Между пользователем А и Б есть общий приватный чат
              Пользователь А есть в адресной книге Пользователя Б
              Пользолвателя Б нет в адресной книге пользователя А
        - do: Под пользователем А открыть список чатов, если открыта другая вкладка
        - assert: Открывается окно списка чатов
        - do: Открыть "Настройки" нажав на значок шестиренку в шапке списка чатов
        - assert: Открывается экран с настройками аккаунта и приложения
        - do: В настройках найти пункт “Кто может видеть, что я в сети”и нажать на него
        - assert: Появляется меню с пунктами "Все пользователи", "Никто"
        - do: Выбрать “Никто”
        - assert: |
              Меню закрывается
              В блоке "Кто может видеть, что я в сети" выбрана настройка "Никто"
        - do: Под пользователем Б Открыть список чатов
        - assert: Открывается список чатов
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Пользователем Б проверить статус онлйновости в шапке чата
        - assert: В шапке чата у пользователя А отображается надпись “Не в сети”
        - do: Под пользователем А закрыть вкладку с мессенджером / закрыть приложение
        - assert: Вклдка / приложение закрыто
        - do: Пользователем Б проверить статус онлйновости в шапке чата
        - assert: В шапке чата у пользователя А отображается статус "Не в сети"

    Не сбрасываются настройки конфиденциальности после перелогина[manual]:
        - automation: MSSNGRFRONT-5720
        - description: |
              Авторизованы пользователем с привязанным номером телефоном
              В настойках конфиденциальности в блоке "Кто может видеть, что я в сети” выбран пункт "Все пользователи"
        - do: Под пользователем А открыть список чатов,
        - assert: Открывается список чатов
        - do: Открыть "Настройки" нажав на значок шестиренку в шапке списка чатов
        - assert: Открывается экран с настройками аккаунта и приложения
        - do: В настройках найти пункт "Кто может видеть, что я в сети" и нажать на него
        - assert: Появляется меню с пунктами "Все пользователи", "Никто"
        - do: Выбрать “Никто"
        - assert: |
              Меню закрывается
              В блоке "Кто может видеть, что я в сети" выбрана настройка "Никто"
        - do: Вылогиниться из аккаунта
        - assert: Не авторизованны в мессенджере
        - do: Авторизоваться тем же аккаунтом и проверить выставленную насройку конфиденциальности в блоке "Кто может видеть, что я в сети"
        - assert: Выбран пункт "Никто"
        - do: В настройках найти пункт "Кто может видеть, что я в сети" и нажать на него
        - assert: Появляется меню с пунктами "Все пользователи", "Никто"
        - do: Выбрать “Все пользователи”
        - assert: |
              Меню закрывается
              В блоке "Кто может видеть, что я в сети" выбрана настройка "Все пользователи"
        - do: Вылогиниться из аккаунта
        - assert: Не авторизованны в мессенджере
        - do: Авторизоваться тем же аккаунтом и проверить выставленную насройку конфиденциальности в блоке "Кто может видеть, что я в сети"
        - assert: Выбран пункт "Все пользователи"

    Не сбрасываются настройки конфиденциальности после обновления страницы браузера[manual]:
        - automation: MSSNGRFRONT-5720
        - description: |
              Авторизованы пользователем с привязанным номером телефоном
              В настойках конфиденциальности в блоке "Кто может видеть, что я в сети” выбран пункт "Все пользователи"
        - do: Под пользователем А открыть список чатов,
        - assert: Открывается список чатов
        - do: Открыть "Настройки" нажав на значок шестиренку в шапке списка чатов
        - assert: Открывается экран с настройками аккаунта и приложения
        - do: В настройках найти пункт "Кто может видеть, что я в сети" и нажать на него
        - assert: Появляется меню с пунктами "Все пользователи", "Никто"
        - do: Выбрать “Никто"
        - assert: |
              Меню закрывается
              В блоке "Кто может видеть, что я в сети" выбрана настройка "Никто"
        - do: Обновить страницу браузера и проверить выставленную насройку конфиденциальности в блоке "ККто может видеть, что я в сети"
        - assert: Выбран пункт "Никто"
        - do: В настройках найти пункт "Кто может видеть, что я в сети" и нажать на него
        - assert: Появляется меню с пунктами "Все пользователи", "Никто"
        - do: Выбрать “Все пользователи”
        - assert: |
              Меню закрывается
              В блоке "Кто может видеть, что я в сети" выбрана настройка "Все пользователи"
        - do: Обновить страницу браузера и проверить выставленную насройку конфиденциальности в блоке "Кто может видеть, что я в сети"
        - assert: Выбран пункт "Все пользователи"

    Пользователь, который есть у Вас в контактах не может видеть статус онлайновости, если в настройках выбран пункт "Никто"[manual]:
        - tags: [advanced_smoke]
        - automation: MSSNGRFRONT-5720
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2м вспомогательным аккаунтом можно авторизоваться в веб/в ферме/на втором девайсе
              Между пользователем А и Б есть общий приватный чат
              Пользователь А есть в адресной книге Пользователя Б
              Пользователь Б есть в адресной книге Пользователя А
        - do: Под пользователем А открыть список чатов, если открыта другая вкладка
        - assert: Открывается окно списка чатов
        - do: Открыть "Настройки" нажав на значок шестиренку в шапке списка чатов
        - assert: Открывается экран с настройками аккаунта и приложения
        - do: В настройках найти пункт “Кто может видеть, что я в сети”и нажать на него
        - assert: Появляется меню с пунктами "Все пользователи", "Никто"
        - do: Выбрать “Никто”
        - assert: |
              Меню закрывается
              В блоке "Кто может видеть, что я в сети" выбрана настройка "Никто"
        - do: Под пользователем Б Открыть список чатов
        - assert: Открывается список чатов
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Пользователем Б проверить статус онлйновости в шапке чата
        - assert: В шапке чата у пользователя А отображается надпись “Не в сети”
        - do: Под пользователем А закрыть вкладку с мессенджером / закрыть приложение
        - assert: Вклдка / приложение закрыто
        - do: Пользователем Б проверить статус онлйновости в шапке чата
        - assert: В шапке чата у пользователя А отображается статус "Не в сети"

    Пользователь, которого нет у Вас в контактах может видеть статус онлайновости, если в настройках выбран пункт "Все пользователи"[manual]:
        - automation: MSSNGRFRONT-5720
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2м вспомогательным аккаунтом можно авторизоваться в веб/в ферме/на втором девайсе
              Между пользователем А и Б нет общего приватного чата
              Пользователь А есть в адресной книге Пользователя Б
              Пользователя Б нет в адресной книге Пользователя А
        - do: Под пользователем А открыть список чатов, если открыта другая вкладка
        - assert: Открывается окно списка чатов
        - do: Открыть "Настройки" нажав на значок шестиренку в шапке списка чатов
        - assert: Открывается экран с настройками аккаунта и приложения
        - do: В настройках найти пункт “Кто может видеть, что я в сети”и нажать на него
        - assert: Появляется меню с пунктами "Все пользователи", "Никто"
        - do: Выбрать “Все пользователи”
        - assert: |
              Меню закрывается
              В блоке "Кто может видеть, что я в сети" выбрана настройка "Все пользователи"
        - do: Под пользователем Б Открыть список чатов
        - assert: Открывается список чатов
        - do: Тапнуть по кнопке "Создать новый чат"
        - assert: Открылось окно создания чата
        - do: В списке контактов найти пользователя А и нажать на него
        - assert: Открывается окно чата с пользователем А
        - do: Пользователем Б проверить статус онлйновости в шапке чата
        - assert: В  шапке чата у пользователя А отображается надпись "В сети" и рядом горит точка онлайна
        - do: Под пользователем А закрыть вкладку с мессенджером / закрыть приложение
        - assert: Вклдка / приложение закрыто
        - do: Пользователем Б проверить статус онлйновости в шапке чата
        - assert: В  шапке чата у пользователя А отображается актуальный статус

    Корректно работает смена настройки конфиденциальности с "Никто" на "Все пользователи"[manual]:
        - automation: MSSNGRFRONT-5720
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2м вспомогательным аккаунтом можно авторизоваться в веб/в ферме/на втором девайсе
              Между пользователем А и Б есть общий приватный чат
              Пользователь А есть в адресной книге Пользователя Б
              Пользователь Б есть в адресной книге Пользователя А
        - do: Под пользователем А открыть список чатов,
        - assert: Открывается список чатов
        - do: Открыть "Настройки" нажав на значок шестиренку в шапке списка чатов
        - assert: Открывается экран с настройками аккаунта и приложения
        - do: В настройках найти пункт "Кто может видеть, что я в сети" и нажать на него
        - assert: Появляется меню с пунктами "Все пользователи", "Никто"
        - do: Выбрать “Никто"
        - assert: |
              Меню закрывается
              В блоке "Кто может видеть, что я в сети" выбрана настройка "Никто"
        - do: Под пользователем Б открыть список чатов,
        - assert: Открывается список чатов
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Пользователем Б проверить статус онлйновости в шапке чата
        - assert: В  шапке чата у пользователя А отображается надпись "Не в сети"
        - do: Под пользователем А закрыть вкладку с мессенджером / закрыть приложение
        - assert: Вклдка / приложение закрыто
        - do: Пользователем Б проверить статус онлйновости в шапке чата
        - assert: В  шапке чата у пользователя А отображается надпись "Не в сети"
        - do: Под пользователем А открыть настройки
        - assert: Открывается экран с настройками аккаунта и приложения
        - do: В настройках найти пункт “Кто может видеть, что я в сети”и нажать на него
        - assert: Появляется меню с пунктами "Все пользователи", "Никто"
        - do: Выбрать “Все пользователи"
        - assert: |
              Меню закрывается
              В блоке "Кто может видеть, что я в сети" выбрана настройка "Все пользователи""
        - do: Пользователем Б проверить статус онлйновости в шапке чата
        - assert: В  шапке чата у пользователя А отображается надпись "В сети" и рядом горит точка онлайна
        - do: Под пользователем А закрыть вкладку с мессенджером / закрыть приложение
        - assert: Вклдка / приложение закрыто
        - do: Пользователем Б проверить статус онлйновости в шапке чата
        - assert: В  шапке чата у пользователя А отображается актуальный статус

    Корректно работает смена настройки конфиденциальности с "Все пользователи" на "Никто"[manual]:
        - automation: MSSNGRFRONT-5720
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2м вспомогательным аккаунтом можно авторизоваться в веб/в ферме/на втором девайсе
              Между пользователем А и Б есть общий приватный чат
              Пользователь А есть в адресной книге Пользователя Б
              Пользователь Б есть в адресной книге Пользователя А
        - do: Под пользователем А открыть список чатов,
        - assert: Открывается список чатов
        - do: Открыть "Настройки" нажав на значок шестиренку в шапке списка чатов
        - assert: Открывается экран с настройками аккаунта и приложения
        - do: В настройках найти пункт "Кто может видеть, что я в сети" и нажать на него
        - assert: Появляется меню с пунктами "Все пользователи", "Никто"
        - do: Выбрать “Все пользователи"
        - assert: |
              Меню закрывается
              В блоке "Кто может видеть, что я в сети" выбрана настройка "Все пользователи"
        - do: Под пользователем Б открыть список чатов,
        - assert: Открывается список чатов
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Пользователем Б проверить статус онлйновости в шапке чата
        - assert: В  шапке чата у пользователя А отображается надпись "В сети" и гшорит точка онлайна
        - do: Под пользователем А закрыть вкладку с мессенджером / закрыть приложение
        - assert: Вклдка / приложение закрыто
        - do: Пользователем Б проверить статус онлйновости в шапке чата
        - assert: В  шапке чата у пользователя А отображается актуальный статус пользователя
        - do: Под пользователем А открыть настройки
        - assert: Открывается экран с настройками аккаунта и приложения
        - do: В настройках найти пункт “Кто может видеть, что я в сети”и нажать на него
        - assert: Появляется меню с пунктами "Все пользователи", "Никто"
        - do: Выбрать “Никто"
        - assert: |
              Меню закрывается
              В блоке "Кто может видеть, что я в сети" выбрана настройка "Никто""
        - do: Пользователем Б проверить статус онлйновости в шапке чата
        - assert: В  шапке чата у пользователя А отображается надпись "Не в сети"
        - do: Под пользователем А закрыть вкладку с мессенджером / закрыть приложение
        - assert: Вклдка / приложение закрыто
        - do: Пользователем Б проверить статус онлйновости в шапке чата
        - assert: В  шапке чата у пользователя А отображается надпись "Не в сети"

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
    - chamb
