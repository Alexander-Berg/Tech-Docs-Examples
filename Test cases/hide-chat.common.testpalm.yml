feature: Скрытие чатов

specs:

    Чат можно скрыть через список чатов[manual]:
        - automation: MSSNGRFRONT-5923
        - description: У авторизованного пользователя есть приватный чат в списке чатов
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Кликнуть ПКМ / нажать лонгтапом по любому приватному чату
        - assert: Показывается контекстное меню этого чата
        - do: Выбрать "Скрыть чат"
        - assert: Появляется попап, который информируюует пользователя, с кнопками "Отмена" и "Скрыть чат"
        - do: Нажать “Скрыть чат” в попаппе
        - assert: |
              Попапп пропадает
              Скрываемый чат не отображается в списке чатов

    Можно отменить скрытие чата[manual]:
        - automation: MSSNGRFRONT-5923
        - description: У авторизованного пользователя есть приватный чат в списке чатов
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Кликнуть ПКМ / нажать лонгтапом по любому приватному чату
        - assert: Показывается контекстное меню этого чата
        - do: Выбрать "Скрыть чат"
        - assert: Появляется попап, который информируюует пользователя, с кнопками "Отмена" и "Скрыть чат"
        - do: Нажать “Отмена” в попаппе
        - assert: |
              Попапп пропадает
              Чат отображается в списке чатов

    Чат можно скрыть через шапку приватного чата[manual]:
        - automation: MSSNGRFRONT-5923
        - description: У авторизованного пользователя есть приватный чат в списке чатов
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Нажать на меню (три точки) в шапке чата.
        - assert: Открылось контекстное меню.
        - do: Выбрать "Скрыть чат"
        - assert: Появляется попап, который информируюует пользователя, с кнопками "Отмена" и "Скрыть чат"
        - do: Нажать “Скрыть чат” в попаппе
        - assert: |
              Попапп пропадает
              Приватный чат скрывается
              Скрываемый чат не отображается в списке чатов

    Скрытый чат можно найти через поиск по имени собеседника[manual]:
        - automation: MSSNGRFRONT-5923
        - description: У авторизованного пользователя есть приватный чат в списке чатов
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Кликнуть ПКМ / нажать лонгтапом по любому приватному чату
        - assert: Показывается контекстное меню этого чата
        - do: Выбрать "Скрыть чат"
        - assert: Появляется попап, который информируюует пользователя, с кнопками "Отмена" и "Скрыть чат"
        - do: Нажать “Скрыть чат” в попаппе
        - assert: |
              Попапп пропадает.
              Скрываемый чат не отображается в списке чатов.
        - do: Ввести в поле поиска имя собеседника, с которым был скрыт чат
        - assert: |
              Введенное имя собеседника отображено в поле поиска.
              В результатах поиска отображается собеседник, с которым чат скрыт.

    Скрытый чат можно найти по сообщениям из данного чата[manual]:
        - automation: MSSNGRFRONT-5923
        - description: У авторизованного пользователя есть приватный чат с историей в списке чатов
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Кликнуть ПКМ / нажать лонгтапом по любому приватному чату
        - assert: Показывается контекстное меню этого чата
        - do: Выбрать "Скрыть чат"
        - assert: Появляется попап, который информируюует пользователя, с кнопками "Отмена" и "Скрыть чат"
        - do: Нажать “Скрыть чат” в попаппе
        - assert: |
              Попапп пропадает
              Скрываемый чат не отображается в списке чатов
        - do: Ввести в поле поиска сообщение, которое есть в скрытом чате
        - assert: |
              В секции "Сообщения" отображается скрытый чат, в котором отображено введенное сообщение
              Содержание сообщения полностью отображается

    Скрытый чат восстанавливается в списке чатов, если в него написать пользователем[manual]:
        - automation: MSSNGRFRONT-5923
        - description: У авторизованного пользователя есть приватный чат в списке чатов
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Кликнуть ПКМ / нажать лонгтапом по любому приватному чату
        - assert: Показывается контекстное меню этого чата
        - do: Выбрать "Скрыть чат"
        - assert: Появляется попап, который информируюует пользователя, с кнопками "Отмена" и "Скрыть чат"
        - do: Нажать “Скрыть чат” в попаппе
        - assert: |
              Попапп пропадает
              Скрываемый чат не отображается в списке чатов
        - do: Ввести в поле поиска имя собеседника, с которым был скрыт чат
        - assert: |
              Введенное имя собеседника отображено в поле поиска
              В результатах поиска отображается собеседник, с которым чат скрыт
        - do: Нажать по найденному собеседнику, с которым чат скрыт
        - assert: Открывается скрытый чат с данным собеседником
        - do: Отправить сообщение в данный чат
        - assert: Сообщение отправлено в чат
        - do: Проверить в списке чатов наличие ранее скрытого чата
        - assert: В списке чатов отображается чат, который был скрыт

    Скрытый чат восстанавливается в списке чатов, если в него отправить сообщение собеседником.[manual]:
        - automation: MSSNGRFRONT-5923
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в вебе в любом другом браузере
              Необходимо также иметь два аккаунта - пользователь А (проверяемый) авторизован в оснвном браузере, пользователь Б (вспомогательный) - авторизован во второом браузере
              Между пользователями есть приватный чат
        - do: Пользователем А запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Кликнуть ПКМ / нажать лонгтапом по любому приватному чату
        - assert: Показывается контекстное меню этого чата
        - do: Выбрать "Скрыть чат"
        - assert: Появляется попап, который информируюует пользователя, с кнопками "Отмена" и "Скрыть чат"
        - do: Нажать “Скрыть чат” в попаппе
        - assert: |
              Попапп пропадает
              Скрываемый чат не отображается в списке чатов
        - do: Пользователем Б запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Найти и открыть приватный чат с пользователем А и отправить сообщение
        - assert: Сообщение отправлено
        - do: Пользователем А посмотреть на список чатов
        - assert: В списке чатов отображается приватный чат с пользователем Б с непрочитанными сообщениями

    При восстановлении скрытого чата история данного чата загружается как до скрытия[manual]:
        - automation: MSSNGRFRONT-5923
        - description: У авторизованного пользователя есть приватный чат с историей в списке чатов
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Кликнуть ПКМ / нажать лонгтапом по любому приватному чату
        - assert: Показывается контекстное меню этого чата
        - do: Выбрать "Скрыть чат"
        - assert: Появляется попап, который информируюует пользователя, с кнопками "Отмена" и "Скрыть чат"
        - do: Нажать “Скрыть чат” в попаппе
        - assert: |
              Попапп пропадает
              Скрываемый чат не отображается в списке чатов.
        - do: Ввести в поле поиска имя собеседника, с которым был скрыт чат
        - assert: |
              Введенное имя собеседника отображено в поле поиска
              В результатах поиска отображается собеседник, с которым чат скрыт
        - do: Нажать по найденному собеседнику, с которым чат скрыт
        - assert: Открывается скрытый чат с данным собеседником
        - do: Проскроллить историю сообщений
        - assert: История сообщения для скрытого чата отображается, как до скрытия

    При перелогине скрытые чаты остаются скрытыми.[manual]:
        - automation: MSSNGRFRONT-5923
        - description: У авторизованного пользователя есть приватный чат в списке чатов
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Кликнуть ПКМ / нажать лонгтапом по любому приватному чату
        - assert: Показывается контекстное меню этого чата
        - do: Выбрать "Скрыть чат"
        - assert: Появляется попап, который информируюует пользователя, с кнопками "Отмена" и "Скрыть чат"
        - do: Нажать “Скрыть чат” в попаппе
        - assert: |
              Попапп пропадает
              Скрываемый чат не отображается в списке чатов
        - do: Разлогиниться из тестового приложения и повторно пройти авторизацию этим же пользователем
        - assert: Авторизация прошла успешно
        - do: После авторизации убедиться, что в списке чатов не отображается скрытый чат
        - assert: Скрытый чат не отображается в списке чатов

    После обновления страницы браузера скрытые чаты остаются скрытыми[manual]:
        - automation: MSSNGRFRONT-5923
        - description: У авторизованного пользователя есть приватный чат в списке чатов
        - do: Запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: Кликнуть ПКМ / нажать лонгтапом по любому приватному чату
        - assert: Показывается контекстное меню этого чата
        - do: Выбрать "Скрыть чат"
        - assert: Появляется попап, который информируюует пользователя, с кнопками "Отмена" и "Скрыть чат"
        - do: Нажать “Скрыть чат” в попаппе
        - assert: |
              Попапп пропадает
              Скрываемый чат не отображается в списке чатов
        - do: Обновить страницу браузера
        - assert: Страница была обновлена
        - do: Убедиться, что в списке чатов не отображается скрытый чат
        - assert: Скрытый чат не отображается в списке чатов

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
