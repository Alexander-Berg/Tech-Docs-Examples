feature: Categories

params:
    exp_flags:
        - analytics-disabled=1

specs:
    beforeEach:
        - do: при дальнейшей проверке указанных ожидаемых результатов обращайте внимание на любые некорректные на ваш взгляд поведения, основываясь на свой опыт использования web-приложений (например, сохранение позиции при переходах туда-обратно кнопками на устройстве, пустые экраны при переходах, кривая верстка, скачкИ элементов, плавность скролла, неработающая функциональность и т.п.)

    Переход в категорию с главной страницы:
        - do: получить выдачу по запросу 'site:super01.ru каталог'
        - assert: на выдаче присутствует сниппет(ы) с галереей карточек товаров [https://jing.yandex-team.ru/files/skurhanski/chrome_ziIi8LshqE.png]
        - do: кликнуть по любой ссылке сниппета для перехода на страницу магазина
        - assert: открылась страница магазина с активной кнопкой Каталог на нижней панели
        - do: кликнуть по пиктограмме Главная на нижней панели
        - assert: на странице есть блок категорий
        - screenshot: примерный внешний вид [Category]
        - do: кликнуть по первой категории товаров в списке сверху
        - assert: переход произошел без анимации
        - assert: переход произошел без белой страницы
        - assert: в начале страницы есть заголовок с названием выбранной категории
        - assert: на нижней панели подсвечивается кнопка "Каталог"
        - assert: в блоке категорий есть ссылка "Еще N раздела"
        - screenshot: примерный внешний вид [Screen]

    Переход из категории на главную:
        - do: получить выдачу по запросу 'site:fulmar.ru' (альтернативные запросы - site:kupicase.ru каталог, 'site:super01.ru')
        - assert: на выдаче присутствует сниппет(ы) с галереей карточек товаров [https://jing.yandex-team.ru/files/skurhanski/chrome_ziIi8LshqE.png]
        - do: кликнуть по любой ссылке сниппета для перехода на страницу магазина
        - assert: открылась страница магазина с активной кнопкой Каталог на нижней панели
        - do: кликнуть по пиктограмме Главная на нижней панели
        - assert: на странице есть блок категорий
        - screenshot: примерный внешний вид [Category]
        - do: кликнуть на любую категорию
        - assert: открылся список товаров в той же вкладке
        - assert: переход произошел без белой страницы
        - do: кликнуть на кнопку "Главная" в левом нижнем углу
        - assert: страница открылась в той же вкладке
        - screenshot: на нижней панели подсвечивается кнопка "Главная" [Bar]

    Переход из категории на главную по истории:
        - do: получить выдачу по запросу 'site:fulmar.ru' (альтернативные запросы - site:kupicase.ru каталог, 'site:super01.ru')
        - assert: на выдаче присутствует сниппет(ы) с галереей карточек товаров [https://jing.yandex-team.ru/files/skurhanski/chrome_ziIi8LshqE.png]
        - do: кликнуть по любой ссылке сниппета для перехода на страницу магазина
        - assert: открылась страница магазина с активной кнопкой Каталог на нижней панели
        - do: кликнуть по пиктограмме Главная на нижней панели
        - assert: на странице есть блок категорий
        - screenshot: примерный внешний вид [Category]
        - do: кликнуть на любую категорию
        - assert: открылся список товаров в той же вкладке
        - assert: переход произошел без полностью белой страницы, на которой нет ни заголовка ни нижнего меню
        - do: нажать на браузерную или системную кнопку "назад"
        - assert: страница открылась в той же вкладке
        - assert: переход произошел без анимации
        - screenshot: на нижней панели подсвечивается кнопка "Главная" [BarMain]

    Переход из категории в основной каталог:
        - do: получить выдачу по запросу 'site:fulmar.ru' (альтернативные запросы - site:kupicase.ru каталог, 'site:super01.ru')
        - assert: на выдаче присутствует сниппет(ы) с галереей карточек товаров [https://jing.yandex-team.ru/files/skurhanski/chrome_ziIi8LshqE.png]
        - do: кликнуть по любой ссылке сниппета для перехода на страницу магазина
        - assert: открылась страница магазина с активной кнопкой Каталог на нижней панели
        - do: кликнуть по пиктограмме Главная на нижней панели
        - assert: на странице есть блок категорий
        - screenshot: примерный внешний вид [Category]
        - do: кликнуть на любую категорию
        - assert: открылся список товаров в той же вкладке
        - assert: переход произошел без белой страницы
        - do: кликнуть на ссылку "< Главная" в верхнем левом углу
        - assert: в этой же вкладке открылась главная страница магазина
        - assert: переход произошел без анимации
        - screenshot: на нижней панели подсвечивается кнопка "Главная" [BarMain]

    Переход из категории в другую категорию:
        - do: перейти по ссылке https://yandex.ru/turbo/spideradio.github.io/n/yandexturbocatalog/?category_id=1&category_count=9
        - assert: на странице есть блок категорий
        - screenshot: примерный внешний вид [Screen]
        - do: запонить заголовок страницы
        - do: запомнить название первой категории
        - do: кликнуть по первой категории
        - assert: открылся список товаров в той же вкладке
        - assert: переход произошел с плавной анимацией справа налево
        - assert: переход произошел без белой страницы
        - assert: в левом верхнем углу ссылка с заголовком предыдущей страницы
        - screenshot: примерный внешний вид [Botton]
        - do: кликнуть на ссылку в верхнем левом углу
        - assert: открылась предыдущая страница в той же вкладке
        - assert: переход произошел с анимацией
        - assert: переход произошел без белой страницы

    Категории на главной странице разворачиваются по кнопке:
        - do: получить выдачу по запросу 'site:super01.ru каталог' (альтернативные запросы - 'site:kupicase.ru каталог')
        - assert: на выдаче присутствует сниппет(ы) с галереей карточек товаров [https://jing.yandex-team.ru/files/skurhanski/chrome_ziIi8LshqE.png]
        - do: кликнуть по любой ссылке сниппета для перехода на страницу магазина
        - assert: открылась страница магазина с активной кнопкой Каталог на нижней панели
        - do: кликнуть по пиктограмме Главная на нижней панели
        - assert: на странице есть блок категорий
        - screenshot: примерный внешний вид [Category]
        - do: нажать на ссылку "Еще N разделов"
        - assert: ссылка "Еще N разделов" не отображается
        - assert: появилось столько категорий сколько было указано на ссылке
        - screenshot: примерный внешний вид [CategoryFull]

    В каталоге категории всегда развернуты:
        - do: получить выдачу по запросу 'site:fulmar.ru' (альтернативные запросы - site:kupicase.ru каталог)
        - assert: на выдаче присутствует сниппет(ы) с галереей карточек товаров [https://jing.yandex-team.ru/files/skurhanski/chrome_ziIi8LshqE.png]
        - do: кликнуть по любой ссылке сниппета для перехода на страницу магазина
        - assert: открылась страница магазина с активной кнопкой Каталог на нижней панели
        - do: кликнуть по пиктограмме Каталог на нижней панели
        - assert: категории развернуты
        - screenshot: примерный внешний вид [CategoryList]

    Блок категорий в альбомной ориентации:
        - tags: no_assessors # ландшафтную ориентацию планируют выключить https://st.yandex-team.ru/TURBOUI-4475
        - automation: TURBOUI-3845
        - do: перейти по ссылке https://yandex.ru/turbo/farkop.ru?text=farkop.ru%2Fyandexturbocatalog%2F&page_type=main&morda=1&ecommerce_main_page_preview=1
        - do: перевернуть девайс в альбомную ориентацию
        - assert: блок категорий располагается по центру [https://jing.yandex-team.ru/files/skurhanski/chrome_6nrrTSgqNf.png]

files:
    - components/Categories/__tests__/Categories@phone.hermione.js

tlds:
    - ru

tags:
    - ecom-tap

v-team: Turbo
