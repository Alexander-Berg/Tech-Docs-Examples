feature: БНО
type: с приложением

specs:
  Проверка ссылок и счетчиков:
    - do: получить выдачу по запросу 'instagram'
    - screenshot: на выдаче присутствует подобный сниппет (запрос и внешний вид могут незначительно отличаться) [adapters/adapter-bno/default-117-{{PLATFORM}} >> plain]
    - tech: hermione [adapters/adapter-bno/2-sitelinks-119-{{PLATFORM}} >> plain]
    - assert: |
        на выдаче присутствует сниппет c навигационными ссылками на разные страницы, ссылки должны располагаться одна под другой
        под ссылками есть приложение с кнопкой 'Загрузить'
        у приложения присутствует рейтинг (звезды) и количество оценок, они не уходят за пределы экрана
    - do: нажать на заголовок сниппета
    - assert: в новой вкладке открылся сайт, который искали
    - tech: проверить счетчик в тайтле
    - do: нажать на гринурл сниппета под заголовком
    - assert: в новой вкладке открылся сайт, который искали
    - tech: проверить счетчик в гринурле
    - do: нажать на первую навигационную ссылку (под описанием сайта)
    - assert: в новой вкладке открылся сайт, раздел сайта соответствует тому, что написано в ссылке (по смыслу)
    - tech: проверить счетчик в 1 сайтлинке
    - do: нажать на вторую навигационную ссылку
    - assert: в новой вкладке открылся сайт, раздел сайта соответствует тому, что написано в ссылке (по смыслу)
    - tech: проверить счетчик в 2 сайтлинке
    - do: кликнуть на кнопку 'Загрузить'
    - assert: открылось соответствующее приложение или сайт с искомым приложением (AppStore/Google Play)
    - tech: проверить счетчик в кнопке приложения
    - do: повернуть устройство в горизонтальное положение
    - assert: края сниппета не вылезают за остальную поисковую выдачу, весь текст сниппета виден и не уходит за пределы экрана
    - tech: БНО вид по умолчанию в очень старых телефонах без svg для очень старых телефонов [adapters/adapter-bno/default-117-{{PLATFORM}} >> nosvg]
    - tech: БНО вид с рейтингом в очень старых телефонах без svg для очень старых телефонов [adapters/adapter-bno/rating-121-{{PLATFORM}} >> nosvg]
    - tech: БНО с органическими в очень старых телефонах сайтлинками без svg для очень старых телефонов [adapters/adapter-bno/organic-sitelinks-118-{{PLATFORM}} >> nosvg]
    - tech: БНО не со всеми сайтлинками в очень старых телефонах без svg для очень старых телефонов [adapters/adapter-bno/2-sitelinks-119-{{PLATFORM}} >> nosvg]
    - tech: БНО без сайтлинков в очень старых телефонах без svg для очень старых телефонов [adapters/adapter-bno/no-sitelinks-120-{{PLATFORM}} >> nosvg]
    - tech: БНО вид сниппета с рейтингом [adapters/adapter-bno/rating-121-{{PLATFORM}} >> plain]
    - tech: БНО вид сниппета с органическими сайтлинками [adapters/adapter-bno/organic-sitelinks-118-{{PLATFORM}} >> plain]
    - tech: БНО вид сниппета если пришло 0 БНО [adapters/adapter-bno/no-sitelinks-120-{{PLATFORM}} >> plain]

  Проверка наличия турбо лэйбла:
    - do: получить выдачу по запросу 'новая газета'
    - assert: |
        на выдаче присутствует сниппет c навигационными ссылками на разные страницы, ссылки должны располагаться одна под другой
    - screenshot: пример внешнего вида [plain]
    - do: кликнуть на заголовок турбо-сниппета
    - tech: сработал счетчик в тайтле
    - assert: |
        открылась турбо-страница
        вверху турбо-страницы есть значок ракеты (как у сниппета)
    - tech: проверить счетчик в гринурле турбо-сниппета
    - do: кликнуть на гринурл турбо-сниппета
    - tech: сработал счетчик в гринурле
    - assert: |
        открылась турбо-страница
        вверху турбо-страницы есть значок ракеты (как у сниппета)
    - tech: сработал счетчик на показ тайтла
    - tech: сработал счетчик на показ гринурла

files:
# - features/touch-phone/adapters/adapter-bno.autogenerated.hermione.js
  - hermione/test-suites/touch-phone/bno.hermione.js

v-team: Beauty

tags:
  - bno
  - app
  - smoke_extended
  - button
  - rating
  - reviewed

counter: /$page/$main/$result/title

selector: .t-construct-adapter__bno

tlds: [ru, ua, by, kz, com.tr]

