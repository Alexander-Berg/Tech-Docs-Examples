feature: Одна организация
type: Свайпер прайсов

specs:
  Прайсы:
    beforeEach:
      - params:
          exp_flags: GEO_1org_prices_swiper=1
      - do: получить выдачу по запросу "Sharsky, Москва"
      - assert: на странице присутствует карточка организации с врезкой прайсов
    Клик в таб:
      - do: нажать на таб "Цены" в карточке организации
      - tech: сработал счётчик path="/$page/$main/$result/composite/tabs/controls/prices"
      - assert: на странице появился свайпер прайсов
      - screenshot: внешний вид [plain]
      - do: нажать на вторую категорию в свайпере
      - tech: сработал счётчик path="/$page/$main/$result/composite/prices/orgs-price-swiper/swiper-modal/swiper/category"
      - assert: категория переключилась
    Клик в тайтл врезки:
      - do: нажать на тайтл врезки прайсов
      - tech: сработал счётчик path="/$page/$main/$result/composite/prices/title"
      - assert: на странице появился свайпер прайсов
    Клик в "Смотреть все цены":
      - do: нажать на "Смотреть все цены"
      - tech: сработал счётчик path="/$page/$main/$result/composite/prices/more"
      - assert: на странице появился свайпер прайсов
    В сайдблоке:
      - do: нажать на таб "Главное"
      - assert: на странице появился сайдблок с карточкой организации
      - do: нажать на таб "Цены"
      - tech: сработал счётчик path="/$subresult/overlay-wrapper/content/tabs/controls/tabs/controls/prices"
      - assert: на странице появился свайпер прайсов
      - screenshot: внешний вид [plain]
      - do: нажать на вторую категорию в свайпере
      - tech: сработал счётчик path="/$subresult/overlay-wrapper/content/tabs/controls/tabs/about/side-block-bcard/composite/prices/orgs-price-swiper/swiper-modal/swiper/category"
      - assert: категория переключилась
  Меню:
    - params:
        exp_flags: GEO_1org_prices_swiper=1
    - do: получить выдачу по запросу "кафе Пушкин"
    - assert: на странице присутствует карточка организации с врезкой меню
    - do: нажать на таб "Меню"
    - assert: на странице появился свайпер прайсов
    - screenshot: внешний вид [plain]

files:
  - src/features/Companies/Companies.features/OrgPriceSwiper/OrgPriceSwiper.test/OrgPriceSwiper@touch-phone.hermione.js

v-team: VanillaGeo

tags:
  - skip_e2e_check
  - no_assessors
  - react

tlds: all
