feature: Ресурсы
type: Страница ресурсов сервиса

specs:
  beforeEach:
    - tech: залогиниться под пользователем robot-abc-001

  Положительные:
    1. Переключение между страницами на списке ресурсов:
      - do: открыть страницу со списком ресурсов сервиса "Потомок 1" (/services/descendant1/resources/?layout=table)
      - do: проскроллить страницу до самого низа
      - assert: внизу страницы есть кнопки "показать ещё" и "дальше"
      - do: кликнуть на кнопку "показать ещё"
      - assert: |
             подгрузилась вторая страница с ресурсами
             в URL появился параметр "page"
             на странице показано больше 20, но не более 40 ресурсов
      - assert: кнопки "показать ещё" и "дальше" пропали, есть только кнопка "назад"
      - do: кликнуть на кнопку "назад" 
      - assert: |
             подгрузилась первая страница с ресурсами
             в URL остался параметр "page"
             на странице показано 20 ресурсов
             внизу страницы есть кнопки "показать ещё" и "дальше", кнопки "назад" нет 
      - do: кликнуть на кнопку "дальше"
      - assert: |
             подгрузилась вторая страница с ресурсами
             в URL появился параметр "page"
             на странице показано меньше 20 ресурсов
             кнопки "показать ещё" и "дальше" пропали, есть только кнопка "назад" 

    2. Если на странице меньше 20 записей про ресурсы, то переключатель страниц отсутствует:
      - do: открыть страницу со списком ресурсов сервиса "autotest-no-resources-pager" (/services/autotest-no-resources/resources/?layout=table)
      - do: проскроллить страницу до самого низа
      - assert: внизу страницы нет кнопок "показать ещё" и "дальше"

files:
  - test/features/desktop/resources/resources-pager-in-service.hermione.js

priority: minor

tags:
  - reviewed
  - no_assessors
