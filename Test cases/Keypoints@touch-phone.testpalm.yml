feature: Колдунщик видео
type: XL
experiment: Keypoints
tlds: ['ru', 'ua', 'by', 'kz', 'com', 'com.tr']
priority: normal
tags: wizard
params:
  foreverdata: '451120279'

specs:
  expandable:
    Внешний вид:
      - params:
          exp_flags:
            - video_wizard_keypoints_xl_expandable=1
      - do: получить выдачу по запросу 'foreverdata'
      - assert: виден XL колдунщик видео
      - assert: для большой тумбы колдунщика видео виден блок 'В этом видео'
      - screenshot: примерный внешний вид колдуна с блоком 'В этом видео' [collapsed-view]
      - do: кликнуть в блок 'В этом видео'
      - screenshot: примерный внешний вид колдуна с развёрнутым блоком 'В этом видео' [expanded-view]
      - do: кликнуть в первый элемент в списке 'В этом видео'
      - assert: произошёл переход в просмотрщик видео
      - tech: в адресной строке есть параметр &t=
    Скролл:
      - params:
          exp_flags:
            - video_wizard_keypoints_xl_expandable=1
      - do: получить выдачу по запросу 'foreverdata'
      - assert: виден XL колдунщик видео
      - assert: для большой тумбы колдунщика видео виден блок 'В этом видео'
      - do: кликнуть в блок 'В этом видео'
      - do: проскроллить блок с ключевыми моментами до конца
      - screenshot: примерный внешний вид с проскролленными ключевыми моментами [scrolled-view]
      - tech: сработал счетчик /$page/$main/$result/showcase/item/keypoints/title
      - tech: сработал счетчик /$page/$main/$result/showcase/item/keypoints/items type=show
      - tech: сработал счетчик /$page/$main/$result/showcase/item/keypoints/items type=scroll
    Счётчики:
      - tags: [no_assessors]
      - do: получить выдачу по запросу 'foreverdata'
      - assert: виден XL колдунщик видео
      - assert: для большой тумбы колдунщика видео виден блок 'В этом видео'
      - do: кликнуть в блок 'В этом видео'
      - tech: сработал счетчик /$page/$main/$result/showcase/item/keypoints/title
      - tech: сработал счетчик /$page/$main/$result/showcase/item/keypoints/items type=show
      - do: кликнуть во второй элемент в списке 'В этом видео'
      - tech: сработал счетчик '/$page/$main/$result/showcase/item/keypoints/items
      - do: кликнуть в блок 'В этом видео'
      - tech: сработал счетчик /$page/$main/$result/showcase/item/keypoints/title
  not expandable:
    Внешний вид:
      - do: получить выдачу по запросу 'foreverdata'
      - assert: виден XL колдунщик видео
      - assert: для большой тумбы колдунщика видео виден блок 'В этом видео'
      - screenshot: примерный внешний вид колдуна с блоком 'В этом видео' [common-view]
      - do: кликнуть в первый элемент в списке 'В этом видео'
      - assert: произошёл переход в просмотрщик видео
      - tech: в адресной строке есть параметр &t=
    Скролл:
      - tags: pp_new_core
      - do: получить выдачу по запросу 'foreverdata'
      - assert: виден XL колдунщик видео
      - assert: для большой тумбы колдунщика видео виден блок 'В этом видео'
      - do: кликнуть в блок 'В этом видео'
      - do: проскроллить блок с ключевыми моментами до конца
      - screenshot: примерный внешний вид с проскролленными ключевыми моментами [scrolled-view]

files:
  - src/features/Keypoints/Keypoints.test/Keypoints@touch-phone.hermione.js

v-team: Video
