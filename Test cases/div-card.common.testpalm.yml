feature: Дивные карточки

specs:

    Создается чат с ботом паспорта[manual]:
        - automation:
        - description: |
              Авторизованы в мессенджере пользователем А (в основном проверяемом браузере)
              Кнопка "Войти без пароля" не всегда появляется, в случае когда ее нет - тест-кейс необходимо скипнуть
        - do: Под пользователем А запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: В отдельном окне в режиме инкогнито открыть страницу https://passport.yandex.ru/auth/welcome?test-id=130619
        - assert: Открыта страница паспорта
        - do: Ввести логин (пользователя А) и нажать кнопку "Войти"
        - assert: |
              Открывается экран для ввода пароля
              Есть кнопка "Войти без пароля"
        - do: Нажать на кнопку "Войти без пароля"
        - assert: Видим как пришло уведомление Пользователю А в основной браузер и в списке чатов создался чат с ботом паспорта 
        - do: Под пользователем А в основном браузере открыть чат с ботом паспорта
        - assert: Чат открыт и видим див-карточку паспорта на подтверждение входа

    Можно подтвердить вход в аккаунт[manual]:
        - tags: [advanced_smoke]
        - automation:
        - description: |
              Авторизованы в мессенджере пользователем А (в основном проверяемом браузере)
              Кнопка "Войти без пароля" не всегда появляется, в случае когда ее нет - тест-кейс необходимо скипнуть
        - do: Под пользователем А запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: В отдельном окне в режиме инкогнито открыть страницу https://passport.yandex.ru/auth/welcome?test-id=130619
        - assert: Открыта страница паспорта
        - do: Ввести логин (пользователя А) и нажать кнопку "Войти"
        - assert: |
              Открывается экран для ввода пароля
              Есть кнопка "Войти без пароля"
        - do: Нажать на кнопку "Войти без пароля"
        - assert: Видим как пришло уведомление Пользователю А в основной браузер и в списке чатов создался чат с ботом паспорта 
        - do: Под пользователем А в основном браузере открыть чат с ботом паспорта
        - assert: |
              Чат открыт и видим див-карточку паспорта на подтверждение входа
              В данной карточке есть кнопки "Отменить" и "Подтвердить"
        - do: Нажать на кнопку "Подтвердить"
        - assert: |
              Карточка меняется на две карточки
              Первая карточка "Вход подтвержден"
              Вторая карточка информация об аккаунте и возможность восстановить доступ
              В окне в режиме инкогнито открылся экран паспорта с загруженными данными аккаунта

    Можно отменить вход в аккаунт[manual]:
        - automation:
        - description: |
              Авторизованы в мессенджере пользователем А (в основном проверяемом браузере)
              Кнопка "Войти без пароля" не всегда появляется, в случае когда ее нет - тест-кейс необходимо скипнуть
        - do: Под пользователем А запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: В отдельном окне в режиме инкогнито открыть страницу https://passport.yandex.ru/auth/welcome?test-id=130619
        - assert: Открыта страница паспорта
        - do: Ввести логин (пользователя А) и нажать кнопку "Войти"
        - assert: |
              Открывается экран для ввода пароля
              Есть кнопка "Войти без пароля"
        - do: Нажать на кнопку "Войти без пароля"
        - assert: Видим как пришло уведомление Пользователю А в основной браузер и в списке чатов создался чат с ботом паспорта 
        - do: Под пользователем А в основном браузере открыть чат с ботом паспорта
        - assert: |
              Чат открыт и видим див-карточку паспорта на подтверждение входа
              В данной карточке есть кнопки "Отменить" и "Подтвердить"
        - do: Нажать на кнопку “Отменить” в див карточке
        - assert: |
              Карточка меняется на див карточку Вход отменен
              В окне в режиме инкогнито открылся экран с логином и возможностью ввести пароль и кнопкой "Войти"

    После того как карточка отредактирована, она не меняет своего состояния[manual]:
        - automation:
        - description: |
              Авторизованы в мессенджере пользователем А (в основном проверяемом браузере)
              Кнопка "Войти без пароля" не всегда появляется, в случае когда ее нет - тест-кейс необходимо скипнуть
        - do: Под пользователем А запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: В отдельном окне в режиме инкогнито открыть страницу https://passport.yandex.ru/auth/welcome?test-id=130619
        - assert: Открыта страница паспорта
        - do: Ввести логин (пользователя А) и нажать кнопку "Войти"
        - assert: |
              Открывается экран для ввода пароля
              Есть кнопка "Войти без пароля"
        - do: Нажать на кнопку "Войти без пароля"
        - assert: Видим как пришло уведомление Пользователю А в основной браузер и в списке чатов создался чат с ботом паспорта 
        - do: Под пользователем А в основном браузере открыть чат с ботом паспорта
        - assert: |
              Чат открыт и видим див-карточку паспорта на подтверждение входа
              В данной карточке есть кнопки "Отменить" и "Подтвердить"
        - do: Нажать на кнопку "Подтвердить"
        - assert: |
              Карточка меняется на две карточки
              Первая карточка "Вход подтвержден"
              Вторая карточка информация об аккаунте и возможность восстановить доступ
              В окне в режиме инкогнито открылся экран паспорта с загруженными данными аккаунта
        - do: Обновить страницу браузера
        - assert: |
              Страница браузера обновлена
              Открыто окно чата с ботом
              В окне чата видим див-карточки паспорта которые не изменились
        - do: Закрыть вкладку с мессенджером
        - assert: Вкладка с мессенджером закрыта
        - do: Открыть в браузере мессенджер и открыть чат с ботом куда приходила ранее див карточка
        - assert: |
              Открыто окно чата с ботом
              В окне чата видим див-карточки паспорта которые не изменились
        - do: Вылогиниться и опять авторизоваться этим же аккаунтом
        - assert: Авторизованы данным аккаунтом
        - do: Открыть чат с ботом паспорта
        - assert: |
              Открыто окно чата с ботом
              В окне чата видим див-карточки паспорта которые не изменились

    Можно восстановить доступ к аккаунту в отредактированной карточке[manual]:
        - automation:
        - description: |
              Авторизованы в мессенджере пользователем А (в основном проверяемом браузере)
              Кнопка "Войти без пароля" не всегда появляется, в случае когда ее нет - тест-кейс необходимо скипнуть
        - do: Под пользователем А запустить тестовое приложениие и октрыть список чатов
        - assert: Открывается список чатов
        - do: В отдельном окне в режиме инкогнито открыть страницу https://passport.yandex.ru/auth/welcome?test-id=130619
        - assert: Открыта страница паспорта
        - do: Ввести логин (пользователя А) и нажать кнопку "Войти"
        - assert: |
              Открывается экран для ввода пароля
              Есть кнопка "Войти без пароля"
        - do: Нажать на кнопку "Войти без пароля"
        - assert: Видим как пришло уведомление Пользователю А в основной браузер и в списке чатов создался чат с ботом паспорта 
        - do: Под пользователем А в основном браузере открыть чат с ботом паспорта
        - assert: |
              Чат открыт и видим див-карточку паспорта на подтверждение входа
              В данной карточке есть кнопки "Отменить" и "Подтвердить"
        - do: Нажать на кнопку "Подтвердить"
        - assert: |
              Карточка меняется на две карточки
              Первая карточка "Вход подтвержден"
              Вторая карточка информация об аккаунте и возможность восстановить доступ
              В окне в режиме инкогнито открылся экран паспорта с загруженными данными аккаунта
        - do: Нажать на кнопку “Восстановить”
        - assert:  В основном браузере в соседней вкладке открывается страница восстановления доступа

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team


