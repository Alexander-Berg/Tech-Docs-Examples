feature: Вид голосовых сообщений пользователя

specs:

    Показывается кнопка Еще, если распознанный текст сообщения более 180 символов[manual]:
        - automation:
        - description: У пользователя есть приватный/групповой чат
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на микрофон и надиктовать текст на 20 - 30 сек
        - assert: Голосовое сообщение надиктовано
        - do: Нажать на кнопку Отправить
        - assert: |
             Сообщение отправляется и расшифрованный текст в три строки (может быть больше, в зависимости от размеров окна проверяемого оркужения)
             Видим что в бабле сообщения есть кнопка Еще
             Количество расшифрованных символов равно 180 (если символы заканчиваются на середине слова - то это слово не отображается)

    Можно просмотреть весь распознанный текст голосового сообщения, тапнув по кнопке Еще[manual]:
        - tags: [advanced_smoke]
        - automation:
        - description: У пользователя есть приватный/групповой чат
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на микрофон и надиктовать текст на 20 - 30 сек
        - assert: Голосовое сообщение надиктовано
        - do: Нажать на кнопку Отправить
        - assert: |
             Сообщение отправляется и расшифрованный текст в три строки (может быть больше, в зависимости от размеров окна проверяемого оркужения)
             Видим что в бабле сообщения есть кнопка Еще
             Количество расшифрованных символов равно 180 (если символы заканчиваются на середине слова - то это слово не отображается)
        - do: Нажать по самой кнопке Еще
        - assert: Бабл расширяется и видим весь расшифрованный текст

    Состояние развернутости сообщений не сохраняется если чат был закрыт[manual]:
        - automation:
        - description: У пользователя есть приватный/групповой чат
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на микрофон и надиктовать текст на 20 - 30 сек
        - assert: Голосовое сообщение надиктовано
        - do: Нажать на кнопку Отправить
        - assert: |
             Сообщение отправляется и расшифрованный текст в три строки (может быть больше, в зависимости от размеров окна проверяемого оркужения)
             Видим что в бабле сообщения есть кнопка Еще
             Количество расшифрованных символов равно 180 (если символы заканчиваются на середине слова - то это слово не отображается)
        - do: Нажать по самой кнопке Еще
        - assert: Бабл расширяется и видим весь расшифрованный текст
        - do: Открыть любой другой чат
        - assert: Открыть окно чата
        - do: Открыть чат из description
        - assert: Открывается окно чат из description
        - do: Найти голосовое сообщение, которое отправляли в этом кейсе
        - assert: Распознанный текст у голосового сообщения свернут и есть кнопка Еще

    Состояние развернутости сообщений сохраняется, если в чат пришло сообщение[manual]:
        - automation:
        - description: У пользователя есть приватный/групповой чат
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на микрофон и надиктовать текст на 20 - 30 сек
        - assert: Голосовое сообщение надиктовано
        - do: Нажать на кнопку Отправить
        - assert: |
             Сообщение отправляется и расшифрованный текст в три строки (может быть больше, в зависимости от размеров окна проверяемого оркужения)
             Видим что в бабле сообщения есть кнопка Еще
             Количество расшифрованных символов равно 180 (если символы заканчиваются на середине слова - то это слово не отображается)
        - do: Нажать по самой кнопке Еще
        - assert: Бабл расширяется и видим весь расшифрованный текст
        - do: Отправить самому любое сообщение в чат
        - assert: |
              Сообщение отпарвлено в чат
              Бабл у голосового сообщения остается развернутым
        - do: Не выходя из чата, получить в чат сообщение  от собеседника
        - assert: |
              Сообщение получено
              Бабл у голосового сообщения остается развернутым
    Состояние развернутости сообщений сохраняется, если если был скролл истории чата[manual]:
        - automation:
        - description: У пользователя есть приватный/групповой чат
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на микрофон и надиктовать текст на 20 - 30 сек
        - assert: Голосовое сообщение надиктовано
        - do: Нажать на кнопку Отправить
        - assert: |
             Сообщение отправляется и расшифрованный текст в три строки (может быть больше, в зависимости от размеров окна проверяемого оркужения)
             Видим что в бабле сообщения есть кнопка Еще
             Количество расшифрованных символов равно 180 (если символы заканчиваются на середине слова - то это слово не отображается)
        - do: Нажать по самой кнопке Еще
        - assert: Бабл расширяется и видим весь расшифрованный текст
        - do: Проскроллить историю чата вверх
        - assert: Происходит скролл истории чата
        - do: Проскроллить историю чата обратно к голосовому сообщению
        - assert: Распознанный текст у голосового сообщения отсался развернут

    Показывается прогресс прослушивания, если прослушиваем голосовое сообщение[manual]:
        - tags: [b2b]
        - automation:
        - description: У пользователя есть приватный/групповой чат
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на микрофон и надиктовать текст на 20 - 30 сек
        - assert: Голосовое сообщение надиктовано
        - do: Нажать на кнопку Отправить
        - assert: |
             Сообщение отправляется и расшифрованный текст в три строки (может быть больше, в зависимости от размеров окна проверяемого оркужения)
             Видим что в бабле сообщения есть кнопка Еще
             Количество расшифрованных символов равно 180 (если символы заканчиваются на середине слова - то это слово не отображается)
        - do: Нажать на кнопку Play и прослушать голосовое сообщение
        - assert: |
              При прослушивании сообщения кнопка Play меняется на Пауза
              Прокрашивается гистограмма согласно времени прослушивания
              Таймер уменьшается согласно времени прослушивания

    Неотправленное голосовое сообщение можно повторно отправить[manual]:
        - automation:
        - description: У пользователя есть приватный/групповой чат
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Отключить интернет
        - assert: Интернет отключен
        - do: Нажать на микрофон и надиктовать текст на 20 - 30 сек
        - assert: Голосовое сообщение надиктовано
        - do: Нажать на кнопку Отправить
        - assert: Сообщение отправляется и видим рядомм красный восклицательный знак
        - do: Включить интернет и после восстановления сети (если появитяс кнопка для подключения, то после восстановления интернета ее нажать) нажать кнопку повторной отпарвки
        - assert: Голосовое сообщение отправляется

    При распознавании голосового сообщения, есть текст Распознавание...[manual]:
        - automation:
        - description: У пользователя есть приватный/групповой чат
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Отключить интернет
        - assert: Интернет отключен
        - do: Нажать на микрофон и надиктовать текст на 20 - 30 сек
        - assert: Голосовое сообщение надиктовано
        - do: Еще раз нажать на микрофон
        - assert: Сообщение отправляется и видим текст "Распознаем" и рядомм красный восклицательный знак

    В списке чатов нераспознанное голосовое сообщение отображается с микрофоном и текстом Голосовое сообщение[manual]:
        - automation:
        - description: У пользователя есть приватный/групповой чат
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на микрофон и ничего не говорить пару секунд
        - assert: Голосовое сообщение надиктовано
        - do: Нажать на кнопку Отправить
        - assert: Сообщение отправляется и нет расшифровки
        - do: Посмотреть как выглядит голосовое сообщение в списке чатов
        - assert: Видим "Вы", микрофон и текст "Голосовое сообщение"

    Можно просмотреть весь распознанный текст голосового сообщения, тапнув по самому тексту сообщения[manual]:
        - automation:
        - description: У пользователя есть приватный/групповой чат
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на микрофон и надиктовать текст на 20 - 30 сек
        - assert: Голосовое сообщение надиктовано
        - do: Нажать на кнопку Отправить
        - assert: |
             Сообщение отправляется и расшифрованный текст в три строки (может быть больше, в зависимости от размеров окна проверяемого оркужения)
             Видим что в бабле сообщения есть кнопка Еще
             Количество расшифрованных символов равно 180 (если символы заканчиваются на середине слова - то это слово не отображается)
        - do: Нажать по самому тексту
        - assert: Бабл расширяется и видим весь расшифрованный текст

    В списке чатов распознанное голосовое сообщение отображается с микрофоном и текстом распознанного голосового сообщения[manual]:
        - automation:
        - description: У пользователя есть приватный/групповой чат
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на микрофон и надиктовать текст на 20 - 30 сек
        - assert: Голосовое сообщение надиктовано
        - do: Нажать на кнопку Отправить
        - assert: |
             Сообщение отправляется и расшифрованный текст в три строки (может быть больше, в зависимости от размеров окна проверяемого оркужения)
             Видим что в бабле сообщения есть кнопка Еще
             Количество расшифрованных символов равно 180 (если символы заканчиваются на середине слова - то это слово не отображается)
        - do: Посмотреть как выглядит голосовое сообщение в списке чатов
        - assert: Видим "Вы", микрофон и распознанный текст в две строки (если не помещается, то обрезается многоточием)

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
    - chamb
