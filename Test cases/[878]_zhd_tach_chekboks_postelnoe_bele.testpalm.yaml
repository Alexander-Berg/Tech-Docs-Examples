feature: ЖД
type: Выбор мест
description: >-
  Перейти на вкладку ЖД билеты


  Открыта произвольная выдача, содержащая разные типы вагонов. Например,
  Москва-Санкт-Петербург на завтра
specs:
  'ЖД: Тач: чекбокс "постельное белье"':
    - do: >-
        Кликнуть по кнопке Выбрать место для поезда, у которого есть класс Плацкарт

        На открывшейся странице выбрать тип вагона плацкарт (если не выбран по
        умолчанию)

        Проскроллить страницу вниз
    - assert: >-
        Внизу есть блок с кнопкой Указать пассажиров и текстом "Стоимость
        билетов будет известна после выбора мест"
    - do: Выбрать любое место в вагоне
    - assert: |-
        Блок с кнопкой переместился под схему
        Появилась информация о примерной стоимости для одного места
        https://jing.yandex-team.ru/files/shenfeld/2020-08-18_19.31.16-v1i9n.png
    - do: Тапнуть на знак вопроса около итоговой стоимости билета
    - assert: >-
        Открылась шторка с расшифровкой стоимости, чекбоксом выбора постельного
        белья и кнопкой Указать пассажиров
    - do: Снять чекбокс Постельное белье
    - assert: |-
        Чекбокс снялся
        Стоимость билета уменьшилась на цену постельного белья
    - do: Тапнуть Указать пассажиров
    - assert: >-
        Открывается вкладка Данные пассажиров

        Внизу страницы под секцией Укажите контактную информацию отображается
        стоимость билетов

        Сумма совпадает с суммой на предыдущем шаге

        Есть отключенный чекбокс Постельное белье. Оно не включено в стоимость
    - do: |-
        Вернуться на страницу выбора мест
        Поменять тип вагона на купе
        Выбрать место в купе
        Тапнуть по иконке вопроса рядом с суммой за билет
    - assert: >-
        Открылась шторка с расшифровкой стоимости, текстом "Белье включено в
        стоимость" и кнопкой Указать пассажиров
    - do: Тапнуть Указать пассажиров
    - assert: >-
        Открывается вкладка Данные пассажиров.

        Под секцией Укажите контактную информацию отображается стоимость
        билетов.

        Цифра совпадает с цифрой на предыдущем шаге.

        Есть запись, что белье включено в стоимость
    - do: |-
        Заполнить все поля валидными данными
        Нажать Проверить заказ и купить
    - assert: >-
        Произошел переход на страницу подтверждения

        Внизу страницы есть корзина, в ней указана стоимость билета, информация,
        что белье включено в стоимость, блок для добавления страховки и кнопка
        Ввести карту и оплатить
manual: true
Функциональность: Разное по странице выбора мест
Устройство: Тач
Страница: Выбор мест
Сервис: ЖД
Тестирование асессорами: Да
Окружение:
  - Production
  - Testing
Tag: Smoke
Автор: shenfeld
