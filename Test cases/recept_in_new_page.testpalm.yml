feature: Страница рецепта в новой вкладке (release)
params:
  exp_flags: turbo-host=priemka

specs:
  description: turbo не подерживается в Safari 7-8, UC браузере, MSIE , Android Браузере младще 4.4. При проверке релиза нужно использовать вот такой URL https://templates.priemka.yandex.ru/search/touch/?text=&no-tests=1&exp_flags=turbo-host%3Dpriemka

  beforeEach:
    - do: произвести поиск по запросу 'поваренок плов'
    - assert: в поисковой выдаче есть колдунщики с иконкой ракеты - галереи или фактовый ответ [https://jing.yandex-team.ru/files/k0nratka/kotlety_eda__Yandeks_nashyolsya_171mlnrezultatov_2018-02-12_10-58-15.png]
    - do: тапнуть по рецепту с иконкой ракетки


  Проверка турбо-версии рецепта [manual]:
    - automation: SERPTEST-549
    - assert: на странице должна быть шапка с логотипом источника рецепта (или адресом источника) и иконкой ракеты
    - do: тапнуть по логотипу источника рецепта
    - assert: в новой вкладке открылась оригинальная версия рецепта
    - do: вернуться на вкладку с турбо-версией рецепта на СЕРПе
    - assert: на турбо-версии рецепта под шапкой есть заголовок
    - do: под заголовком проверить
    - assert: |
        под заголовком есть картинка
        под картинкой есть текст рецепта, состоящий из 2 разделов (Ингридиенты и Пошаговая инструкция или Рецепт "....")
        в списке ингридиентов есть заголовок "Ингридиенты" и сам список
        в пошаговой инструкции есть заголовок "Пошаговая инструкция" или Рецепт "...." и список шагов с картинкой к каждому из них
    - do: прокрутить до конца турбо-версию рецепта
    - assert: под текстом рецепта есть рекламный блок
    - do: тапнуть по рекламному блоку
    - assert: в новой вкладке открылась рекламируемая страница
    - do: вернуться на турбо-версию новости на CEРПе
    - assert: под рекламным блоком есть кнопка "Читать на (название источника)"
    - do: тапнуть по кнопке "Читать на (название источника)"
    - assert: в новой вкладке открылась оригинальная версия рецепта

files: []
# - features/touch-phone/cover.ex-gemini.hermione.js

v-team: Turbo

manager: tanzwuta

tags:
- skip_manual_check
- no_assessors

tlds: none
