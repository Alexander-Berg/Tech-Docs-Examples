feature: Обработка потери интернета

import-steps:
    - tests/hermione/suites/desktopApp/shared-steps/setup.testpalm.steps.yml

tlds: none

specs:
    beforeEach:
        - attach: Скачивание архива с последним предрелизным приложением
        - attach: Установка приложения

    Интернет отсутствует при старте приложения[manual]:
        - automation: MSSNGRFRONT-3314
        - do: выключить интернет
        - do: запустить приложение
        - assert: |
              приложение запустилось
              в окне приложения сообщение об ошибке
        - do: нажать на кнопку "Reload page"(Перезагрузите страницу)
        - assert: |
              покрутился лоадер
              снова появилась та же ошибка
        - do: включить интернет
        - do: нажать на кнопку "Reload page"(Перезагрузите страницу)
        - assert: |
              покрутился лоадер
              появилась страница чатов

    Интернет пропадает в процессе работы с приложением[manual]:
        - automation: MSSNGRFRONT-3314
        - do: запустить приложение
        - assert: приложение запустилось и в окне приложения чаты
        - do: выключить интернет и подождать 1-10 сек в зависимости от устройства
        - assert: в нижнем левом углу появилось уведомление о следующей попытке соединения с таймером как на скриншоте
        - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/apanichkina/Screen%20Shot%202019-06-13%20at%201.12.24%20PM.png]
        - do: включить интернет
        - assert: |
              по истечение таймера уведомление пропало
              приложение работает
              нет следов отсутствия интернета
        - do: выключить интернет и подожать 1-10 сек в зависимости от устройства
        - assert: в нижнем левом углу появилось уведомление о следующей попытке соединения с таймером как на скриншоте
        - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/apanichkina/Screen%20Shot%202019-06-13%20at%201.12.24%20PM.png]
        - do: включить интернет
        - do: не дожидаясь окончания таймера нажать на кнопку "Connect"(Подключиться)
        - assert: |
              приложение работает
              нет следов отсутствия интернета

files: []

v-team: Chat

tags:
    - no_assessors
    - desktop-app
