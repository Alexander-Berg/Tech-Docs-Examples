feature: Колдунщик погоды
type: Проверка доступности на десктопах

specs:
  Детальный прогноз на сегодня:
    - params:
        foreverdata: '661363645'
    - do: получить выдачу по запросу 'foreverdata'
    - assert: появился колдунщик погоды
    - assert: в колдунщике присутствует элемент с подробным прогнозом на день
    - tech: в этом элементе есть атрибут aria-label="Сейчас облачно, 1°. Ветер 1 метр в секунду. Ночью 1°. Утром 0°"
  Детальный прогноз на конкретный день:
    - params:
        foreverdata: '2177196224'
    - do: получить выдачу по запросу 'foreverdata'
    - assert: появился колдунщик погоды
    - assert: в колдунщике присутствует элемент с подробным прогнозом на день
    - tech: в этом элементе есть атрибут aria-label="15 февраля облачно, 2°. Ветер 1,9 метров в секунду"
  Краткий прогноз на несколько дней:
    - params:
        foreverdata: '2177196224'
    - do: получить выдачу по запросу 'foreverdata'
    - assert: появился колдунщик погоды
    - assert: в колдунщике погоды есть блок с прогнозом на несколько дней вперед
    - assert: в колдунщике присутствует прогноз для первого дня
    - tech: в этом элементе есть атрибут aria-label="Сегодня облачно с прояснениями, снег, днем 2°, ночью 0°"
    - assert: в колдунщике присутствует прогноз для второго дня
    - tech: в этом элементе есть атрибут aria-label="В субботу облачно, днем 2°, ночью -1°"
    - assert: в колдунщике присутствует прогноз для третьего дня
    - tech: в этом элементе есть атрибут aria-label="В воскресенье облачно, днем 2°, ночью 2°"
    - assert: в колдунщике присутствует прогноз для четвертого дня
    - tech: в этом элементе есть атрибут aria-label="В понедельник облачно, днем 5°, ночью 3°"
  Основные проверки [manual]:
    - tags: smoke_extended
    - automation: SERP-107221
    - params:
        foreverdata: '2177196224'
    - do: получить выдачу по запросу 'foreverdata'
    - assert: появился колдунщик погоды
    - do: включить скринридер
    - do: c помощью горячих клавиш для навигации по заголовкам перейти к заголовку в колдунщике
    - assert: |
        фокус перешел на заголовок
        скринридер озвучил: Погода в Москве - 15 февраля
    - do: c помощью кнопки 'Tab' перейти к следующему элементу
    - assert: |
        фокус перешел на основной функционал колдунщика: текущую температуру
        скринридер озвучил "15 февраля облачно, +2 градуса, ветер 1,9 м/c"
    - do: с помощью кнопки 'Tab' перейти к следующему элементу
    - assert: |
        фокус перешел на краткий прогноз
        скринридер озвучивает "Сегодня облачно с прояснениями, снег, днем +2 градуса, ночью 0 градусов, ссылка"

files:
  - features/adapter-weather/adapter-weather-a11y@deskpad.hermione.js

v-team: Weather

tags:
  - A11y_serp
  - skip_e2e_check
  - no_assessors
  - skip_manual_check

tlds:
  - ru

counter: /$page/$main/$result[@wizard_name="weather"]
