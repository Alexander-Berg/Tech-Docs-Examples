feature: Страница футбольного матча

specs:

  aliases:
    &goTo
      - do: открыть главную страницу сервиса Я.Спорт
#      - do: (для рана в ПП) открыть вертикаль Спорта в ПП тапом по иконке в бендере
      - do: тапнуть на Матч-центр в рубрикаторе
      - assert: |
          произошел переход в матч-центр,
          в рубрикаторе выделена рубрика Матч-центр,
          в подрубрикаторе выделена вкладка Футбол и открыт футбольный календарь на вкладке Сегодня,
          в календаре присутствует дата-пикер https://jing.yandex-team.ru/files/nightsonne/2020-04-13_19-17-24.png

  может содержать видео [manual]:
    - tags: backend_sport
    - *goTo
    - do: тапнуть на вкладку Вчера или если вчера матчей не было тапнуть на дата-пикер и установить дату 29 сентября 2021
    - assert: |
        открыт список матчей за вчера (или за 29 сентября),
        некоторые матчи содержат иконку-индикатор видео, скрин https://jing.yandex-team.ru/files/kossakovskaya/2021-08-16_17-33-33.png
    - do: перейти на страницу футбольного матча тапом на матч с иконкой видео в разделе 'Вчера' или 'Сегодня'
    - assert: |
          страница матча содержит видео, скрин https://jing.yandex-team.ru/files/nightsonne/2021-12-09_23-28-36.png,
          Обратите внимание! В некоторых матчах, видео доступны только по подписке плюса! Поэтому, если вместо видео у вас заглушка о покупке подписки - https://jing.yandex-team.ru/files/kossakovskaya/2021-08-16_17-36-32.png , залогиньтесь аккаунтом с подпиской плюса (логин пароль вот тут - https://wiki.yandex-team.ru/eva/testing/projects/nerpa/#loginyiparolidljatestovyxpolzovatelejjspodpiskojjpljusa) и продолжите выполнение кейса,
    - do: тапнуть на видео без пометки "Весь матч"
    - assert: открывается просмотрщик и воспроизводится видео в текущей вкладке

  из списка прошедших матчей содержит футбольный виджет [manual]:
    - tags: backend_sport
    - *goTo
    - do: тапнуть на вкладку Вчера или если вчера матчей не было тапнуть на дата-пикер и установить дату 5 декабря 2020
    - assert: открыт список матчей за вчера (или за 5 декабря)
    - do: перейти на страницу футбольного матча тапом на матч со счетом
    - assert: |
        страница матча содержит футбольный виджет,
        виджет содержит название чемпионата, статус матча, для завершенных матчей - дату завершения (дата, либо указание Вчера или Сегодня, зависит от даты окончания матча), названия команд, счет,
        при победе по буллитам или в овертайме виджет содержит соответствующее указание под названием лиги,
        счет и название команды-победителя выделено жирным шрифтом,
        скрин https://jing.yandex-team.ru/files/an-smirn0v/Снимок%20экрана%202021-11-29%20в%2014.43.22.png

  из блока 'Завтра' содержит футбольный виджет [manual]:
    - tags: backend_sport
    - *goTo
    - do: тапнуть на вкладку Завтра
    - do: перейти на страницу футбольного матча тапом на матч в разделе 'Завтра' (если раздела нет - найти другой матч)
    - assert: |
        страница матча содержит футбольный виджет,
        виджет содержит название чемпионата, названия команд, время начала матча, надпись 'Завтра',
        скрин https://jing.yandex-team.ru/files/an-smirn0v/Снимок%20экрана%202021-11-30%20в%2014.10.29.png

  из списка прошедших матчей может содержать блок 'Ход матча' [manual]:
    - tags: backend_sport
    - *goTo
    - do: тапнуть на вкладку Вчера или если вчера матчей не было тапнуть на дата-пикер и установить дату 5 декабря 2020
    - assert: открыт список матчей за вчера (или за 5 декабря)
    - do: перейти на страницу футбольного матча тапом на матч со счетом
    - assert: |
        страница матча может содержать блок 'Ход матча' (если в данном матче блока нет, открыть другой матч),
        блок содержит логотипы команд или флаги стран,
        рядом с каждым событием указана минута матча,
        скрин https://jing.yandex-team.ru/files/nightsonne/2019-11-11_18-29-04.png
    - do: найти в блоке 'Ход матча' гол или гол с пенальти
    - assert: |
        голы отмечены значком мяча, пенальти - иконкой с буквой П поверх мяча,
        рядом со значком мяча указана фамилия игрока, забившего гол,
        над фамилией игрока есть надпись 'Гооол!' серым шрифтом,
        под фамилией игрока серым шрифтом может быть указан игрок, отдавший пас,
        внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-08-12_16-40-32.png
    #- do: тапнуть по иконке видео рядом с голом
    #- assert: в новой вкладке открывается соответсвующий матч, который содержит видео, на которое вы тапнули
    #- do: вернуться на вкладку с матчем
    - do: найти в блоке 'Ход матча' событие выдачи желтой или красной карточки
    - assert: |
        карточки отмечены значком соответствующего цвета,
        рядом со значком указана фамилия игрока, которому выдана карточка,
        над фамилией игрока есть надпись 'Желтая карточка' или 'Красная карточка' серым шрифтом
    - do: найти в блоке 'Ход матча' событие замены игрока
    - assert: |
        замены отмечены цветными стрелками,
        фамилия замененного игрока отображена серым шрифтом,
        фамилия заменяющего игрока отображена черным шрифтом,
        над фамилиями игроков есть надпись 'Замена' серым шрифтом,
        скрин https://jing.yandex-team.ru/files/nightsonne/2019-11-11_18-45-51.png

  из списка прошедших матчей может содержать блок 'Состав' [manual]:
    - tags: backend_sport
    - *goTo
    - do: тапнуть на вкладку Вчера или если вчера матчей не было тапнуть на дата-пикер и установить дату 5 декабря 2020
    - assert: открыт список матчей за вчера (или за 5 декабря)
    - do: перейти на страницу футбольного матча тапом на матч со счетом
    - assert: |
        страница матча может содержать блок 'Состав' (если в данном матче блока нет, открыть другой матч),
        в блоке есть переключатель состава команд с лого и названием команд,
        длинные названия команд корректно обрезаются многоточнием в переключателе и не выходят за рамки блока переключателя,
        по умолчанию отображается состав первой команды,
        номер и позиция игрока отображены серым шрифтом (позиция игрока сокращена - вр, пз, зщ, нп),
        скрин https://jing.yandex-team.ru/files/nightsonne/2019-11-11_18-48-23.png
    - do: тапнуть по переключателю
    - assert: |
        с анимацией отобразился состав второй команды,
        в блоке с переключателем выделена вторая команда
    - do: найти в блоке 'Состав' гол или гол с пенальти
    - assert: |
         рядом с фамилией игрока, забившего гол, есть иконка мяча и счетчик с количеством голов,
         скрин https://jing.yandex-team.ru/files/nightsonne/2019-11-11_18-56-27.png
    - do: найти в блоке 'Состав' событие замены игрока
    - assert: |
        замены отмечены цветными стрелками,
        рядом с фамилией замененного игрока указана минута замены,
        скрин https://jing.yandex-team.ru/files/nightsonne/2019-11-11_18-52-41.png
    - do: найти в блоке 'Состав' событие событие выдачи желтой или красной карточки
    - assert: справа от фамилии игрока есть значок красной или желтой карточки
    - do: проскроллить до конца блока 'Состав'
    - assert: внизу указан тренер команды

  из списка прошедших матчей может содержать турнирную таблицу [manual]:
    - tags: backend_sport
    - *goTo
    - do: тапнуть на вкладку Вчера или если вчера матчей не было тапнуть на дата-пикер и установить дату 5 декабря 2020
    - assert: открыт список матчей за вчера (или за 5 декабря)
    - do: перейти на страницу футбольного матча тапом на матч со счетом
    - do: поскроллить матч ниже блоков видео, 'Ход матча', 'Состав'
    - assert: |
        страница матча может содержать блок 'Турнирная таблица' (если в данном матче блока нет, открыть другой матч),
        если есть вкладки групп - по умолчанию открыта вкладка той группы, к которой относятся команды данного матча,
        команды данного матча выделены жирным шрифтом,
        верстка таблицы корректна,
        скрин https://jing.yandex-team.ru/files/nightsonne/2019-12-18_15-02-01.png
    - do: попереключать вкладки групп в таблице (если есть)
    - assert: вкладки переключаются, отображается новый список команд

  из списка прошедших матчей может содержать блок 'Другие матчи' [manual]:
    - tags: backend_sport
    - *goTo
    - do: тапнуть на вкладку Вчера или если вчера матчей не было тапнуть на дата-пикер и установить дату 5 декабря 2020
    - assert: открыт список матчей за вчера (или за 5 декабря)
    - do: перейти на страницу футбольного матча тапом на матч со счетом
    - do: поскроллить матч ниже блоков видео, 'Ход матча', 'Состав', 'Турнирная таблица'
    - assert: |
        страница матча может содержать блок 'Другие матчи' (если в данном матче блока нет, открыть другой матч),
        блок содержит названия и лого команд, время, дату, счет (в зависимости от того прошел матч или нет),
        внизу есть кнопка 'Все матчи',
        верстка блока корректна,
        скрин https://jing.yandex-team.ru/files/nightsonne/2019-12-18_15-05-48.png
    - do: тапнуть на любой матч в блоке 'Другие матчи'
    - assert: в той же вкладке открывается страница выбранного матча
    - do: вернуться назад
    - do: тапнуть на 'Все матчи'
    - assert: в той же вкладке открывается страница футбольного календаря

#  из списка прошедших матчей может содержать карточки о связанных с матчем новостях [manual]:
#    - tags: backend_sport
#    - *goTo
#    - do: тапнуть на вкладку Вчера или если вчера матчей не было тапнуть на дата-пикер и установить дату 5 декабря 2020
#    - assert: открыт список матчей за вчера (или за 5 декабря)
#    - do: перейти на страницу футбольного матча тапом на матч со счетом
#    - do: поскроллить матч ниже блоков видео, 'Ход матча', 'Состав', но ДО блока 'Новости футбола'
#    - assert: |
#        страница матча может содержать карточки о связанных с матчем новостях (если в данном матче карточек нет, открыть другой матч),
#        карточки о связанных с матчем новостях (при наличии располагаются над заголовком Новости футбола) содержат иконку добавления в избранное (но не сожержат иконку лайка и комментария),
#        скрин https://jing.yandex-team.ru/files/nightsonne/2019-11-11_19-00-38.png
#    - do: тапнуть по любой карточке о связанных с матчем новостях
#    - assert: в новой вкладке открывается страница источника

  содержит Новости футбола [manual]:
    - tags: backend_sport
    - *goTo
    - do: тапнуть на вкладку Вчера или если вчера матчей не было тапнуть на дата-пикер и установить дату 5 декабря 2020
    - assert: открыт список матчей за вчера (или за 5 декабря)
    - do: перейти на страницу футбольного матча тапом на любой матч
    - do: поскроллить матч ниже блоков видео, 'Ход матча', 'Состав' до блока 'Новости футбола'
    - assert: страница матча содержит новостные карточки
    - do: проскроллить страницу матча до лоадера
    - assert: загружаются новые карточки
    - do: проскроллить страницу на несколько порций карточек
    - assert: |
        новостной блок помимо новостных карточек может содержать карточки с каруселями видео и рекламные блоки,
        карусели видео скроллятся
    - do: тапнуть по заголовку или картинке любой новостной карточки
    - assert: в этой же вкладке открывается страница сюжета

files: []

qa-engineer:
  - nightsonne

manager: mrwhite

tlds:
  - ru
  - ua
  - by
  - kz
  - uz
  - com

