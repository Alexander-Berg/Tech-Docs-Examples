feature: Автобусы. Старый фронт
type: ''
description: >-
  Выдержки из [Условия бронирования и приобретения электронных билетов на
  автобусы](https://yandex.ru/legal/bus_tickets_booking_conditions/) (возможны
  изменеия. но общий смысл вряд ли поменяется со временем):

  "...

  2.13. Пользователю может быть доступна функция бронирования Электронного
  билета без необходимости оплаты Электронного билета на Ресурсах Яндекса.

  ...

  3.2. ..., Пользователю предоставляется время для оплаты, при этом время сессии
  на оплату составляет 15 минут (если большее время не указано в интерфейсе
  Системы Яндекса), по истечении которых будет выдаваться сообщение об истечении
  времени ожидания и о необходимости осуществить процедуру приобретения
  Электронного билета заново.

  ...

  3.4. После нажатия Пользователем на кнопку «Оплатить» и подтверждения оплаты в
  Системе Яндекса, о чём выдаётся соответствующее сообщение, договор перевозки
  считается заключенным, Пользователю направляются Электронный билет и (или)
  маршрутная квитанция на указанный им адрес электронной почты и(или) номер
  мобильного телефона.

  ..."

  **Выдача** - результат поиска рейсов.... (см.
  [Инструкцию](https://wiki.yandex-team.ru/eva/search/assessors-testing/Testirovanie-Poezdov/)).

  Пользователь авторизован на тестируемом сервисе, получена **Выдача** на любую
  поездку на Автобусе, выбрана любая доступная поездка и заполнены валидными
  значениями данные пассажиров и контактные данные (то есть доступна кнопка для
  бронирования и оплаты - скриншот примера кнопки:
  https://yadi.sk/i/_MNGhc1q0g53mw ).
specs:
  Проверка бронирования. Покупка билетов:
    - do: >-
        Нажать кнопку "Забронировать и оплатить" (с пустыми полями в полях
        данных пассажиров)
    - assert: >-
        Происходит подскролл к форме для данных пассажиров. Незаполненные поля
        выделяются красным текстом снизу
    - do: >-
        Ввести некорректные ФИО, дату, номер документа (например: не вводить
        отчество, в поле даты ввести 00.00.00)
    - assert: Поля с неверными данными сразу подсвечиваются красным текстом снизу
    - do: >-
        Поменять значение в поле "Документ" и внести неверные данные (нули не
        валидируются, не баг)
    - assert: Поля с неверными данными сразу подсвечиваются красным текстом снизу
    - do: Нажать кнопку "Добавить пассажира"
    - assert: >-
        Появилась вторая форма для ввода данных пассажира. Цена (поле "К
        оплате") увеличилась соответственно
    - do: Удалить одного пассажира
    - assert: >-
        Осталась одна форма для пассажира. Все данные на наделённой форме
        сохранились. Цена обновилась
    - do: >-
        Заполнить все поля корректными данными и нажать кнопку "Забронировать и
        оплатить"
    - assert: Открывается окно для ввода данных карт
    - do: >-
        [**шаг пропустить если нет возможности оплатить заказ**] Ввести данные
        банковской карты в соответствующие поля и нажать "Оплатить"
    - assert: >-
        Пользователю направляются Электронный билет и (или) маршрутная квитанция
        на указанный им адрес электронной почты и(или) номер мобильного
        телефона.
manual: true
Функциональность: Бронирование
Устройство: Десктоп
Сервис: Автобусы. Старый фронт
