feature: ЖД
type: Выбор мест
description: >-
  У партнера есть ограничения при бронировании детских билетов в купе целиком.
  Кейс проверяет валидацию на нашей стороне.
specs:
  'ЖД: Ошибка при выборе детских билетов при брони купе целиком':
    - do: |
        Перейти на выдачу Москва - Санкт-Петербург на любую дату
        Для поезда 760А кликнуть по кнопке покупки
    - assert: |
        * Произошел переход на страницу выбора мест

        * Есть тип вагона "Купе-переговорная"
        Класс пишется в описании вагона (если нет типа или поезда на выдаче, поискать на другую дату)
        Для тача пишется  тип вагона. Класс вагона скрыт за иконкой "?"
        Примерный вид https://jing.yandex-team.ru/files/semirka/Screenshot_2022-01-11-12-46-18-497_com.android.chrome.jpg
    - do: |
        Выбрать 0 взрослых билетов и любое количество детских билетов с местом
        (например, 2)

        Выбрать класс Купе-переговорная и купе в нем

        Нажать "Указать пассажиров"
    - assert: |
        * Перехода на следующий шаг не произошло

        * У кнопки появился попап с текстом "В этом вагоне нельзя купить только
        детские билеты. Добавьте взрослого пассажира."
    - do: |
        Добавить взрослого пассажира
        Нажать "Указать пассажиров"
    - assert: |
        * Произошел переход на страницу ввода данных
        * Ошибок нет
    - do: |
        Перейти на выдачу Москва - Нижний Новгород на любую дату
        Для поезда 702Н кликнуть по кнопке покупки
    - assert: |
        * Произошел переход на страницу выбора мест
        * В таче класс скрыт за иконкой "?"
        * В СВ есть класс 1Е (если нет класса или поезда на выдаче, выбрать
        другой поезд, например 706Н, или поискать на другую дату)
    - do: |
        Выбрать 0 взрослых и 1 детский билет с местом
        Выбрать любое купе в классе 1Е
        Кликнуть по кнопке "Указать пассажиров"
    - assert: |
        * Перехода на следующий шаг не произошло
        * У кнопки появился попап с текстом "В этом вагоне нельзя купить только
        детский билет. Добавьте пассажира."
    - do: |
        Добавить 1 детский билет с местом (чтобы было 2 детских с местом)
        Выбрать любое купе в классе 1Е
        Кликнуть "Указать пассажиров"
    - assert: |
        * Произошел переход на страницу ввода данных
        * Ошибок нет

manual: true
Функциональность: Разное по странице выбора мест
Устройство:
  - Десктоп
  - Тач
Страница: Выбор мест
Сервис: ЖД
Тестирование асессорами: Да
Окружение:
  - Production
  - Testing
Автор: shenfeld
