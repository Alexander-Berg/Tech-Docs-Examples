feature: Form2

specs:
  Видимость полей по условию:
    - browsers:
      - ios-safari-12-touch
      - ios-safari-11-touch
      - ios-safari-10-touch
      - ios-safari-9-touch
    - do: открыть ссылку https://yandex.ru/turbo?stub=form2/with-visibility.json
    - assert: на странице есть форма с разделами "Способ доставки" и "Адрес доставки"
    - do: написать "test" в поле "Адрес доставки"
    - do: в "Способ доставки" выбрать "Почта"
    - assert: появился раздел "Это поле видно, когда почтой и адрес test"
    - do: в "Способ доставки" выбрать "Самовывоз"
    - assert: пропали "Адрес доставки" и "Это поле видно, когда почтой и адрес test"
    - do: в "Способ доставки" выбрать "Почта"
    - assert: показались "Адрес доставки" и "Это поле видно, когда почтой и адрес test"
    - assert: в "Адрес доставки" все еще написано "test"
    - do: поменять адрес доставки на "testt"
    - assert: пропал "Это поле видно, когда почтой и адрес test"

  Динамическая форма:
    Успешный ответ:
      - tags: no_assessors
      - do: открыть ссылку https://yandex.ru/turbo?stub=form2/dynamic.json
      - assert: на странице появилась форма
      - do: нажать на кнопку "Отправить"
      - assert: под кнопкой "Отправить" появился блок с результатом
      - screenshot: внешний вид блока с результатом [result]
    Ошибка:
      - tags: no_assessors
      - do: открыть ссылку https://yandex.ru/turbo?stub=form2/dynamic-error.json
      - assert: на странице появилась форма
      - do: нажать на кнопку "Отправить"
      - assert: в верхней части формы появилось сообщение об ошибке с текстом "Произошла ошибка"
    Две формы на странице отправляют данные:
      - tags: no_assessors
      - do: открыть ссылку https://yandex.ru/turbo?stub=form2/dynamic-two-forms.json
      - do: нажать на кнопку "Отправить" первой формы
      - do: нажать на кнопку "Отправить" второй формы
      - assert: |
          отправилось два запроса
          в теле каждого запроса содержатся данные соответствующих форм

files:
  - platform/components/Form2/__tests__/form2.hermione.js

v-team: Turbo

manager: tanzwuta

qa-engineer: olga0321, dakhetov

tlds: none
