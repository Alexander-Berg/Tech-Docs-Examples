feature: Комод
type: Моя поездка
description: Общий вид страницы Моя поездка

specs:
    Общий вид страницы Моя поездка:
        - do: Авторизоваться
        - do: Включить фронтовые моки бекенда (cookie "use_trips_mock" со значением "true")
        - do: Зайти на страницу "/my/trips/1"
        - assert: |-
              * На странице должна быть хлебная крошка "Мои поездки"
              * Хлебная крошка должна вести на страницу со списком поездок
              * На странице должен быть текст "Поможем с заказом" с номером телефона
              * На странице должно быть фото поездки
        - assert: |-
              * Должен отображаться блок с прогнозом погоды
              * Должно быть несколько элементов прогноза (> 1)
              * В каждом элементе погоды должна быть иллюстрация погоды
              * В каждом элементе погоды должен быть указан период прогноза
              * В каждом элементе погоды должна быть указана температура
              * В каждом элементе погоды должна быть указана ссылка на Яндекс.Погоду
        - assert: |-
              * На странице должен быть блок "Авиабилеты"
              * В блоке авиабилетов должно быть 4 заказа
        - assert: |-
              В первом авиа заказе:
              * Должен быть заголовок "Санкт–Петербург — Александровск–Сахалинск"
              * Должна быть дата туда "24 ноя, 17:14"
              * Должна быть дата обратно "24 дек, 22:00"
              * Должны отображаться надписи "туда" и "обратно"
              * Должно отображаться 2 иконки авиакомпаний
              * Должен отображаться текст "Код бронирования (PNR)"
              * Должен отображаться pnr "JHG78"
              * Должна быть кнопка копирования
              * Ссылка должна вести на страницу этого заказа
        - assert: |-
              В третьем авиа заказе:
              * Должен быть заголовок "Сочи — Екатеринбург"
              * Должна быть дата туда "24 ноя, 17:14"
              * Не должно быть даты обратно
              * Не должны отображаться надписи "туда" и "обратно"
              * Должна отображаться 1 иконка авиакомпании
              * Должен отображаться текст "Код бронирования (PNR)"
              * Должен отображаться pnr "OHF88"
              * Должна быть кнопка копирования
              * Ссылка должна вести на страницу этого заказа
        - assert: |-
              * На странице должен быть блок "Ж/д билеты"
              * В блоке ж/д билетов должно быть 5 заказов
        - assert: |-
              В первом ж/д заказе:
              * Должен быть заголовок "Санкт–Петербург — Александровск–Сахалинск"
              * Должна быть дата туда "24 ноя, 17:14"
              * Должна быть дата обратно "24 дек, 22:00"
              * Должны отображаться надписи "туда" и "обратно"
              * Должно быть 2 описания поездов
              * Описание первого поезда должно быть "Поезд 339Г Москва — Санкт-Петербург, «Ласточка»"
              * Описание второго поезда должно быть "Поезд 146У Екатеринбург — Москва"
              * Должна быть кнопка скачивания
              * На десктопе должна быть кнопка печати
              * Ссылка должна вести на страницу этого заказа
        - assert: |-
              В четвертом ж/д заказе:
              * Должен быть заголовок "Екатеринбург — Санкт-Петербург"
              * Должна быть дата туда "3 мая, 23:59"
              * Не должно быть даты обратно
              * Не должны отображаться надписи "туда" и "обратно"
              * Должно быть описание поездов "Поезда 091И и 756А"
              * Должна быть надпись "Пересадка со сменой вокзала"
              * Должна быть кнопка скачивания
              * На десктопе должна быть кнопка печати
              * Ссылка должна вести на страницу этого заказа
        - assert: |-
              В пятом ж/д заказе:
              * Должен быть заголовок "Сочи — Казань"
              * Должна быть дата туда "24 ноя, 17:14"
              * Не должно быть даты обратно
              * Не должны отображаться надписи "туда" и "обратно"
              * Не должно быть описаний поездов
              * Не должно быть кнопки скачивания
              * Не должно быть кнопки печати
              * Должна отображаться надпись "Бронирование отменено"
              * Ссылка должна вести на страницу этого заказа
        - assert: |-
              * На странице должен быть блок "Отели"
              * В блоке отелей должно быть 4 заказа
        - assert: |-
              В первом отельном заказе:
              * Должен быть заголовок "Друзья на Банковском"
              * Должны быть даты "24 ноя — 24 дек"
              * Должен быть адрес "Санкт-Петербург, площадь Александра Невского, 2"
              * Должна быть кнопка локации
              * На десктопе должна быть кнопка печати
              * Ссылка должна вести на страницу этого заказа
        - assert: |-
              Во втором отельном заказе:
              * Должен быть заголовок "Друзья на Банковском"
              * Должны быть даты "24 ноя — 24 дек"
              * Не должно быть адреса
              * Не должно быть кнопки локации
              * Не должно быть кнопки печати
              * Должна быть надпись "Бронирование отменено"
              * Ссылка должна вести на страницу этого заказа
        - assert: |-
              Должен быть блок отельного кросс-сейла с заголовком "Выберите подходящий отель в Санкт–Петербурге"

files:
    - tests/common/account/trips/trip-view.hermione.ts

tags: smoke

Сервис: Поездка
Страница: Моя поездка
Функциональность: Страница моей поездки
Устройство:
    - Десктоп
    - Тач
Окружение:
    - Testing
Тестирование асессорами: Нет
