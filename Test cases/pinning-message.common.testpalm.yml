feature: Закрепление/открепление сообщений

tlds: ru

specs:

    Закрепление сообщения администратором:
        - tags: [smoke_automation]
        - label: pin-group-message-by-admin-{{PLATFORM}}
        - do: отправить произвольное сообщение в групповой чат
        - do: открыть контекстное меню, нажав правой кнопкой мыши(desktop) или тапнув(touch) на отправленное сообщение
        - do: в контекстном меню нажать на "Закрепить сообщение"
        - assert: |
            сообщение прикрепилось к шапке контейнера
            появилось информационное сообщение в чате "Пользователь обновил(а) информацию о группе"
        - screenshot: пример внешнего вида закрепленного сообщения [pinned-message]
        - screenshot: пример внешнего вида информационного сообщения [info-message]

    Закрепление сообщения не администратором:
        - do: отправить произвольное сообщение в групповой чат
        - do: открыть контекстное меню, нажав правой кнопкой мыши(desktop) или тапнув(touch) на отправленное сообщение
        - assert: в контекстном меню нет пункта "Закрепить сообщение"

    Открепление сообщения администратором:
        - tags: [smoke_automation]
        - do: открыть групповой чат с закрепленным сообщением от администратора
        - screenshot: пример внешнего вида закрепленного сообщения [pin-group-message-by-admin-{{PLATFORM}} >> pinned-message]
        - do: открепить сообщение, нажав на кнопку в виде крестика (в правой части закрепленного сообщения)
        - assert: открылось модальное окно подтверждения открепления сообщения
        - do: нажать на кнопку "ОК"
        - assert: |
            закрылось модальное окно
            сообщение открепилось
            появилось информационное сообщение в чате "Пользователь_А обновил(а) информацию о группе"

    Открепление сообщения не администратором:
        - do: открыть групповой чат с закрепленным сообщением от администратора
        - assert: нет кнопки открепления сообщения (крестик в правой части закрепленного сообщения)
        - screenshot: пример внешнего вида [pinned-message-without-remove]

files:
    - tests/hermione/suites/messenger/message-history/group-chat/pinning-message.common.hermione.ts

v-team: Chat

tags:
    - no_assessors
    - yamb
    - y-team
