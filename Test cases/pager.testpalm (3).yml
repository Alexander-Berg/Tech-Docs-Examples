feature: yandex / Пейджинг

specs:
  beforeEach:
    - do: Открыть страницу с поиском для сайта с параметром '/search/site/?searchid=2321186'
    - do: В поле для ввода ввести запрос, по корому будет много релевантных результатов
    - do: Нажать на кнопку 'Найти'
  Переход по ссылкам:
    - assert: |
          Страница обновляется
          Под результатами выдачи есть блок 'Страницы'
          Рядом с названием блока есть неактивная ссылка 'предыдущая' и синяя активная ссылка 'следующая'
          Ниже строка с номерами страниц
          Ссылка с номером 1 выделена и неактивная
          Ссылки на следующие страницы синие и активные
    - do: Нажать на ссылку 'предыдущая'
    - assert: Ничего не происходит
    - do: Нажать на ссылку 'следующая'
    - assert: |
          Страница обновляется
          Открывается вторая страница выдачи
          Ссылка 'предыдущая' становится активной и фиолетовой
          В строке с номерами страниц выделена цифра 2
    - do: Нажать на ссылку 'следующая' еще раз
    - assert: |
          Страница обновляется
          Открывается третья страница выдачи
          В строке с номерами страниц выделена цифра 3
    - do: Нажать на ссылку 'следующая' столько раз, чтобы открылась последняя страница выдачи
    - assert: |
          Страница обновляется
          Открывается последняя страница выдачи
          Ссылка 'предыдущая' активная и фиолетовая
          В строке с номерами страниц выделена последняя цифра
    - do: Нажать на ссылку 'следующая' еще раз
    - assert: Ничего не происходит
    - do: Нажать на ссылку 'предыдущая'
    - assert: |
          Страница обновляется
          Открывается предпоследняя страница выдачи
          Ссылка 'следующая' становится активной и фиолетовой
  Переход на страницы по номерам:
    - do: В поле для ввода ввести запрос, по корому будет много релевантных результатов
    - do: Нажать Enter
    - assert: |
          Страница обновляется
          Под результатами выдачи есть блок 'Страницы'
          В строке с номерами страниц ссылка с цифрой 1 выделена и неактивна
          Ссылки на следующие страницы синие и активные
    - do: Нажать на цифру 1
    - assert: Ничего не происходит
    - do: Нажать на цифру 2
    - assert: |
          Страница обновляется
          Открывается вторая страница выдачи
          Цифра 2 выделена
          Цифра 1 активная и фиолетовая
          Ссылка 'предыдущая' становится активной и фиолетовой
    - do: Нажать на последнюю цифру
    - assert: |
          Страница обновляется
          Открывается последняя страница выдачи
          Выделена последняя цифра
          Ссылка 'следующая' неактивна
    - do: Нажать на цифру 1
    - assert: |
          Страница обновляется
          Открывается первая страница выдачи
          Цифра 1 выделена и неактивна
          Ссылка 'следующая' активна
          Ссылка 'предыдущая' неактивна
  Сохранение номера страницы после обновления вкладки:
    - assert: |
          Страница обновляется
          Под результатами выдачи есть блок 'Страницы'
          В строке с номерами страниц ссылка с цифрой 1 выделена
    - do: Нажать на ссылку 'следующая'
    - assert: |
          Страница обновляется
          Открывается вторая страница выдачи
          В строке с номерами страниц цифра 2 выделена
    - do: Обновить страницу
    - assert: |
          Страница перезагружается
          Открывается вторая страница выдачи
          В строке с номерами страниц цифра 2 выделена

files:
  - features/desktop/pager/pager.hermione.e2e.js

tags:
  - pager
