feature: LcHeader

tags: no_assessors

specs:
  Внешний вид блока:
    - do: открыть страницу (https://yandex.ru/turbo?stub=lcheader/default.json)
    - assert: виден блок LcHeader
    - assert: |
          Блок перестраивается в зависимости от ширины.
          На устройствах с другим разрешением внешний вид может отличаться.
          Например, на большинстве современных телефонов гамбургер будет
          отображаться слева, а не справа, как на скриншоте, а справа
          добавится кнопка звонка.
    - screenshot: внешний вид соответствует скриншоту [plain]

  Внешний вид блока c корзиной:
    - do: открыть страницу (https://yandex.ru/turbo?stub=lcheader/with-cart.json)
    - assert: виден блок LcHeader с кнопкой корзины
    - assert: |
          Блок перестраивается в зависимости от ширины. Корзина видна всегда.
    - screenshot: внешний вид соответствует скриншоту [plain]

  Внешний вид кнопки корзины с рамкой:
    - do: открыть страницу (https://yandex.ru/turbo?stub=lcheader/with-cart-border.json)
    - assert: видна кнопка корзины с рамкой
    - screenshot: внешний вид соответствует скриншоту [plain]

  Внешний вид блока с попапом:
    - do: открыть ссылку https://yandex.ru/turbo?stub=lcaddtocart/clear-data.json
    - assert: на странице есть фраза "Нет товаров."
    - do: открыть ссылку https://yandex.ru/turbo?stub=lcheader/add-to-cart.json
    - do: нажать на иконку корзины в шапке
    - assert: открылся попап пустой корзины
    - screenshot: внешний вид соответствует скриншоту [empty]
    - do: нажать на иконку корзины в шапке
    - assert: попап корзины закрылся
    - do: нажать на кнопку "Добавить в корзину" последовательно два раза
    - assert: в иконке корзины отображается счетчик товаров со значением 2
    - do: нажать на иконку корзины в шапке
    - assert: открылся попап корзины c двумя единицами одного товара
    - screenshot: внешний вид соответствует скриншоту [full]
    - do: нажать на кнопку "минус" для карточки в попапе
    - do: нажать на кнопку "плюс" для карточки в попапе последовательно три раза
    - assert: значение инпута в той же карточке равно 4
    - assert: кнопка добавления товара показывает, что добавлено 4 товара
    - screenshot: внешний вид соответствует скриншоту [changed-with-buttons]
    - do: нажать на кнопку "удалить" карточки товара
    - assert: кнопка добавления товара не отображает кол-во добавленных товаров
    - screenshot: внешний вид соответствует скриншоту [deleted]

files:
  - platform/components/LcHeader/__tests__/LcHeader.hermione.js

v-team: Lc

manager: nuyakshin

qa-engineer: olimiya, shinuta

tlds: none
