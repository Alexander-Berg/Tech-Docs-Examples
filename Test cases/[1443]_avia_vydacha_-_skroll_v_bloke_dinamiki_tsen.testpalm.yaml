feature: Авиа
type: Выдача
description: ''
specs:
  'Авиа: Выдача - Скролл в блоке Динамики цен':
    - do: 'Открыть главную страницу путешествий, вкладка Авиабилеты'
    - do: |-
        Заполнить форму поиска билетов
        Откуда: Екатеринбург
        Куда: Санкт-Петербург
        Туда: 5 число следующего месяца
        Обратно: любое другое число следующего месяца
        Пассажиры: 1 взрослый
        Класс: Эконом
    - do: Нажать кнопку "Найти"
    - assert: >-
        Открылась страница выдачи.

        На выдаче присутствует блок Динамики цен с кнопками.
        Для некоторых кнопок вместо цены может быть указано "Цена неизвестна".
        Цены на кнопках могут меняться на более дешёвые.

        https://jing.yandex-team.ru/files/gouken67/1443_2.png
    - do: |-
        Доскроллить блок Динамики цен до последней кнопки.
        Кликнуть по Смотреть весь календарь.
    - assert: >-
        Открывается окно Динамики цен.
        Выбрана вкладка Таблица цен. Клетка, соответствующая датам Туда-Обратно на выдаче, выделена жёлтым цветом.
        Происходит обновление цен для промежутков, на которые цена была неизвестна (лежат по диагонали от выделенной клетки), а также на 6 дополнительных клеток вокруг жёлтой.

        https://jing.yandex-team.ru/files/gouken67/1443_3.png
    - do: |-
        Дождаться, когда цены для всех промежутков будут известны.
        Закрыть окно Динамики цен.
        Проскроллить блок Динамики цен до самого левого блока.
    - assert: >-
        Цены в блоке Динамики цен соответствуют тем, что были получены в окне
        Динамики цен. Вёрстка не едет.
manual: true
Функциональность: Динамика
Устройство: Десктоп
Страница: Выдача
Сервис: Авиа
Тестирование асессорами: Да
Окружение:
  - Production
  - Testing
Tag: Regress
Автор: gouken67
