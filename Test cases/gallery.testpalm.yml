feature: Объектный ответ
type: Галерея

counter: /$page/$parallel/$result[@wizard_name="entity_search"]/gallery/row/thumb

specs-integration:
  На странице:
    - do: получить выдачу по запросу 'Нил Патрик Харрис'
    - assert: появился Объектный ответ
    - assert: в ОО есть галерея
    - assert: в галерее есть главная картинка
    - assert: в галерее есть хотя бы одна тумба

specs:
  beforeEach:
    - do: получить выдачу по запросу 'Нил Патрик Харрис'
    - assert: |
        появилась карточка объекта с галереей
        (на планшетах с маленькой шириной экрана нужно перевернуть устройство в альбомную ориентацию)
    - tech: сработал счетчик показа галереи
  Внешний вид:
    - screenshot: внешний вид [plain]
    - do: установить размер окна 1600x1200
    - screenshot: внешний вид [wide]
  Ссылки:
    - do: проверить ссылку на большой картинке в галерее (крайняя слева)
    - assert: ссылка ведёт на страницу Картинок с выдачей по заданному запросу
    - tech: проверить счётчик на большой картинке в галерее
    - do: проверить ссылку на первой картинке в галерее
    - assert: ссылка ведёт на страницу Картинок с выдачей по запросу 'Нил Патрик Харрис фото'
    - tech: проверить счётчик на первой картинке в галерее
    - do: проверить ссылку на кнопке 'Плюс' в галерее
    - assert: ссылка ведёт на страницу Картинок с выдачей по запросу 'Нил Патрик Харрис фото'
    - tech: проверить счётчик на кнопке-плюсике в галерее
    - assertMetrics: '*'
  После перезадачи запроса:
    - do: в строку поиска вводим текст 'Мадонна' и нажимаем кнопку 'Найти'
    - assert: |
        выдача обновилась,
        на странице отображается карточка нового объекта с галереей
    - assertMetrics: '*'

files:
  - features/deskpad/z-entity-search/gallery/gallery.hermione.js
  - features/deskpad/z-entity-search/gallery/gallery.hermione.e2e.js

tags:
  - smoke_extended
  - hasE2E
  - oo_gallery

tlds:
  - ru
  - ua
  - by
  - kz
  - com.tr
  - fr

v-team: OO
