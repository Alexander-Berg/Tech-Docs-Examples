feature: Поиск

import-steps:
  - ../steps/steps.testpalm.steps.yml

specs:
  Проверка поиска на странице вакансий [manual]:
    - automation: VACANCIES-780
    - do: открыть страницу /jobs/vacancies
    - attach: ["Поиск вакансий [manual]"]
    - attach: ["Поиск и фильтры [manual]"]
  Проверка поиска на странице города [manual]:
    - automation: VACANCIES-780
    - do: открыть страницу /jobs/locations/<город>
    - attach: ["Поиск вакансий [manual]"]
    - attach: ["Поиск и фильтры [manual]"]
  Проверка поиска на странице городов [manual]:
    - automation: VACANCIES-780
    - do: открыть страницу /jobs/locations
    - screenshot: на странице отображается строка поиска [https://jing.yandex-team.ru/files/alex-murashev/search_bar_and_title_and_tabs_desktop.png]
    - do: нажать в чекбокс 'Только с вакансиями'
    - assert: |
        чекбокс 'Только с вакансиями' неактивен
        отображаются блоки стран
        на странице отобразились города со счетчиком = 0
    - do: ввести в строку поиска 'москва'
    - assert: |
        присутствует только один блок страны - 'Россия'
        у блока страны присутствует один блок города - 'Москва'
    - do: нажать на крестик в поле поиска
    - assert: |
        текст стерся
        отображается начальный набор блоков стран и городов
        у блоков стран могут присутствовать города с нулевым счетчиком вакансий
    - do: ввести в строку поиска город
    - do: нажать на чекбокс 'Только с вакансиями'
    - assert: |
        в результатах отсутствуют города с нулевым счетчиком вакансий
        чекбокс 'Только с вакансиями' активен
    - do: ввести в поле поиска 'Санкт'
    - assert: |
        присутствует блок города Санкт-петербург

platform:
  - desktop

tlds:
  - ru
  - by
  - ua

priority: critical

browsers:
  - yandex-browser-desktop
  - chrome-browser-desktop
  - firefox-desktop
  - safari-desktop
  - opera-desktop
  - edge-desktop
  - msie-desktop
