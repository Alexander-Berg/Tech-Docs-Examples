feature: Внутренний оффер
type: Редактирование

specs:
    Обязательные поля оффера на ротацию:
        - do: открыть страницу оффера в статусе 'Черновик' с типом вывода 'Ротация' /offers/<id_оффера>/
        - screenshot: пример внешнего вида экшнов[offer_actions]
        - do: нажать на 'Редактировать'
        - screenshot: открылась страница редактирования оффера /offers/<id_оффера>/edit/ [offer_form_update]
        - do: нажать 'Сохранить'
        - screenshot: под обязательными полями появились сообщения об ошибке [offer_form_update_validation]
    Редактирование оффера на ротацию:
        - do: открыть страницу оффера в статусе 'Черновик' с типом вывода 'Ротация' /offers/<id_оффера>/
        - screenshot: пример внешнего вида экшнов[offer_actions]
        - do: нажать на 'Редактировать'
        - screenshot: открылась страница редактирования оффера /offers/<id_оффера>/edit/ [offer_form_update]
        - do: в поле 'Подразделение' указать 'Поисковый портал'
        - do: нажать на выпадушку 'Дополнительно' в разделе 'Место работы'
        - assert: появились поля 'Организация', 'Должность (кадровая)', 'Должность на Стаффе', 'Место работы'
        - screenshot: пример внешнего вида появившихся дополнительных полей [group_workplace_collapsed]
        - do: в поле 'Организация' указать 'Яндекс'
        - do: в поле 'Должность (кадровая)' указать должность на выбор
        - do: в поле 'Направление' указать 'HR'
        - assert: значение в поле 'Профессия' изменилось на 'Рекрутер'
        - do: в поле 'Профессия' указать 'Специалист по обучению'
        - do: в поле 'Должность на Стаффе' указать должность на выбор
        - do: в поле 'Место работы' выбрать 'Офис'
        - assert: после выбора 'Место работы' появилось поле 'Офис'
        - screenshot: пример внешнего вида появившихся дополнительных полей [group_workplace_with_office]
        - do: в поле 'Офис' указать 'Москва, БЦ Морозов'
        - do: в поле 'Дата выхода' указать текущую дату
        - do: в поле 'Грейд' указать уровень от 11-16
        - do: нажать на выпадушку 'Дополнительно' в разделе 'Условия оформления'
        - screenshot: пример внешнего вида появившихся дополнительных полей [group_processing_conditions_collapsed]
        - do: в поле 'Тип оплаты труда' указать 'Часовая ставка'
        - assert: после выбора 'Часовая ставка' появилось поле 'Часовая ставка'
        - screenshot: пример внешнего вида появившегося поля [group_processing_conditions_with_hourly_rate]
        - do: в поле 'Часовая ставка' указать '10'
        - do: в поле 'Зарплата' ввести '123'
        - do: в поле 'Форма занятости' выбрать 'Полная занятость'
        - do: в поле 'Тип трудового договора' выбрать 'На срок отсутствия основного сотрудника'
        - do: нажать на выпадушку 'Дополнительно' в разделе 'Плюшки'
        - do: в поле 'ДМС' выбрать 'Да' в разделе 'Плюшки'
        - do: нажать на выпадушку 'Дополнительно' в разделе 'Большие плюшки'
        - do: в поле 'Переезд' нажать 'Да' в разделе 'Большие плюшки'
        - screenshot: пример внешнего вида заполненного оффера [offer_form_update_filled]
        - do: нажать 'Сохранить'
        - assert: |
            открылась страница оффера /offers/<id_оффера>/
            статус оффера 'Готов к согласованию'
            данные соответствуют введенным в форме 'Создание оффера'
            в оффере присутствует ссылка на тикет TJOB
        - screenshot: пример внешнего вида [offer_form_update_success]
    Обязательные поля оффера на перевод стажера:
        - do: открыть страницу оффера в статусе 'Черновик' с типом вывода 'Ротация' /offers/<id_оффера>/
        - screenshot: пример внешнего вида экшнов[offer_actions]
        - do: нажать на 'Редактировать'
        - screenshot: открылась страница редактирования оффера /offers/<id_оффера>/edit/ [offer_form_update]
        - do: нажать 'Сохранить'
        - screenshot: под обязательными полями появились сообщения об ошибке [offer_form_update_validation]
    Редактирование оффера на перевод стажера:
        - do: открыть страницу оффера в статусе 'Черновик' с типом вывода 'Ротация' /offers/<id_оффера>/
        - screenshot: пример внешнего вида экшнов[offer_actions]
        - do: нажать на 'Редактировать'
        - screenshot: открылась страница редактирования оффера /offers/<id_оффера>/edit/ [offer_form_update]
        - do: в поле 'Организация' указать 'Яндекс'
        - do: в поле 'Подразделение' указать 'Поисковый портал'
        - do: в поле 'Должность (кадровая)' указать должность на выбор
        - do: в поле 'Направление' указать 'HR'
        - assert: значение в поле 'Профессия' изменилось на 'Рекрутер'
        - do: в поле 'Профессия' указать 'Специалист по обучению'
        - do: в поле 'Должность на Стаффе' указать должность на выбор
        - do: нажать на выпадушку 'Дополнительно' в разделе 'Место работы'
        - assert: появилось поле 'Место работы'
        - do: в поле 'Место работы' выбрать 'Офис'
        - assert: после выбора 'Место работы' появилось поле 'Офис'
        - do: в поле 'Офис' указать 'Москва, БЦ Морозов'
        - do: в поле 'Дата выхода' указать текущую дату
        - do: в поле 'Грейд' указать уровень от 11-16
        - do: в поле 'Тип оплаты труда' указать вариант на выбор
        - do: в поле 'Зарплата' ввести '123'
        - do: в поле 'Форма занятости' выбрать 'Полная занятость'
        - do: в поле 'Тип трудового договора' выбрать 'На срок отсутствия основного сотрудника'
        - do: нажать на выпадушку 'Дополнительно' в разделе 'Плюшки'
        - do: в поле 'ДМС' выбрать 'Да' в разделе 'Плюшки'
        - do: нажать на выпадушку 'Дополнительно' в разделе 'Большие плюшки'
        - do: в поле 'Переезд' нажать 'Да' в разделе 'Большие плюшки'
        - screenshot: пример внешнего вида заполненного оффера [offer_form_update_filled]
        - do: нажать 'Сохранить'
        - assert: |
            открылась страница оффера /offers/<id_оффера>/
            статус оффера 'Готов к согласованию'
            данные соответствуют введенным в форме 'Создание оффера'
            в оффере присутствует ссылка на тикет TJOB
        - screenshot: пример внешнего вида [offer_form_update_success]

tags:
  - reviewed

priority: blocker

files:
  - tests/hermione/suites/desktop/candidates/internal_offers/internal_offer_edit/internal_offer_edit.hermione.js

browsers:
  - yandex-browser-desktop
  - firefox-desktop
  - safari-desktop
