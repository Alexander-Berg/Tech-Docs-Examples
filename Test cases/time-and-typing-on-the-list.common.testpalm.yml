feature: Время и тайпинг на списке

specs:

    В превью приватного чата отображается время последнего сообщения в формате ЧЧ:MM если оно было отправлено сегодня[manual]:
        - tags: [advanced_smoke, b2b]
        - automation:
        - description: |
              У авторизованного пользователя в списке чатов есть приватный чат
              Время и часовой пояс выставлены верно
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть чат из description
        - assert: Открывается окно чата
        - do: В поле ввода ввести несколько символов и нажать кнопку "Отправить"
        - assert: Сообщение отправлено
        - do: Проверить отображение превью приватного чата на списке чатов
        - assert: |
              В превью чата отображается отправленное сообщение
              Справа от сообщения отображается верное время отправки в формате ЧЧ:ММ

    В превью приватного чата отображается время последнего сообщения в формате дня недели, если оно было отправлено вчера[manual]:
        - automation:
        - description: |
              У авторизованного пользователя в списке чатов есть приватный чат
              Время и часовой пояс выставлены верно
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть чат из description
        - assert: Открывается окно чата
        - do: В поле ввода ввести несколько символов и нажать кнопку "Отправить"
        - assert: Сообщение отправлено
        - do: В настройках системы перевести время на после 00.00 следующего дня
        - assert: Время переведено
        - do: Проверить отображение превью приватного чата на списке чатов
        - assert: |
              В превью чата отображается отправленное сообщение
              Справа от сообщения отображается верное время отправки в формате дня недели, например "Пн"

    В превью приватного чата отображается время последнего сообщения в формате "<кратко день недели, DD>", если оно было отправлено от 2 до 7 дней назад от текущего момента[manual]:
        - automation:
        - description: |
              У авторизованного пользователя в списке чатов есть приватный чат
              Время и часовой пояс выставлены верно
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть чат из description
        - assert: Открывается окно чата
        - do: В поле ввода ввести несколько символов и нажать кнопку "Отправить"
        - assert: Сообщение отправлено
        - do: В настройках системы перевести время на 5 дней вперед
        - assert: Время переведено
        - do: Подождать пару минут или обновить страницу. Проверить отображение превью приватного чата на списке чатов
        - assert: |
              В превью чата отображается отправленное сообщение
              Справа от сообщения отображается верная дата отправки в формате "ДД" (например, "Чт")

    В превью приватного чата отображается время последнего сообщения в формате "ДАТА", если оно было отправлено более 7 дней назад от текущего момента[manual]:
        - automation:
        - description: |
              У авторизованного пользователя в списке чатов есть приватный чат
              Время и часовой пояс выставлены верно
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть чат из description
        - assert: Открывается окно чата
        - do: В поле ввода ввести несколько символов и нажать кнопку "Отправить"
        - assert: Сообщение отправлено
        - do: В настройках системы перевести время на 8 дней вперед
        - assert: Время переведен
        - do: Проверить отображение превью приватного чата на списке чатов
        - assert: |
              В превью чата отображается отправленное сообщение
              Справа от сообщения отображается верная дата отправки в формате "ДД.мес.ГГ" (например, "20.02.19")

    В превью приватного чата отображается тайпинг "...печатает", если начитает печатать собеседник[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              У авторизованного **пользователя А** есть приватный чат с **пользователем Б**
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем открыть чат из description
        - assert: Открыто окно чата
        - do: В поле ввода сообщения ввести несколько символов
        - assert: Вводимые символы отражаются в поле ввода
        - do: В это же время открыть под пользователем Б проверить отображение превью приватного чата с пользователем Б на списке чатов
        - assert: В превью чата отображается тайпинг "...печатает"

    В превью группового чата отображается время последнего сообщения в формате ЧЧ:MM если оно было отправлено сегодня[manual]:
        - automation:
        - description: |
              У авторизованного пользователя в списке чатов есть групповой чат
              Время и часовой пояс выставлены верно
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть чат из description
        - assert: Открывается окно чата
        - do: В поле ввода ввести несколько символов и нажать кнопку "Отправить"
        - assert: Сообщение отправлено
        - do: Проверить отображение превью группового чата на списке чатов
        - assert: |
              В превью чата отображается отправленное сообщение
              Справа от сообщения отображается верное время отправки в формате ЧЧ:ММ

    В превью группового чата отображается время последнего сообщения в формате дня недели, если оно было отправлено вчера[manual]:
        - automation:
        - description: |
              У авторизованного пользователя в списке чатов есть групповой чат
              Время и часовой пояс выставлены верно
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть чат из description
        - assert: Открывается окно чата
        - do: В поле ввода ввести несколько символов и нажать кнопку "Отправить"
        - assert: Сообщение отправлено
        - do: В настройках системы перевести время на после 00.00 следующего дня
        - assert: Время переведено
        - do: Проверить отображение превью группового чата на списке чатов
        - assert: |
              В превью чата отображается отправленное сообщение
              Справа от сообщения отображается верное время отправки в формате дня недели, например "Пн"

    В превью группового чата отображается время последнего сообщения в формате "<кратко день недели, DD>", если оно было отправлено от 2 до 7 дней назад от текущего момента[manual]:
        - automation:
        - description: |
              У авторизованного пользователя в списке чатов есть групповой чат
              Время и часовой пояс выставлены верно
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть чат из description
        - assert: Открывается окно чата
        - do: В поле ввода ввести несколько символов и нажать кнопку "Отправить"
        - assert: Сообщение отправлено
        - do: В настройках системы перевести время на 5 дней вперед
        - assert: Время переведен
        - do: Проверить отображение превью группового чата на списке чатов
        - assert: |
              В превью чата отображается отправленное сообщение
              Справа от сообщения отображается верная дата отправки в формате "ДД" (например, "Чт")

    В превью группового чата отображается время последнего сообщения в формате "ДАТА", если оно было отправлено более 7 дней назад от текущего момента[manual]:
        - automation:
        - description: |
              У авторизованного пользователя в списке чатов есть групповой чат
              Время и часовой пояс выставлены верно
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть чат из description
        - assert: Открывается окно чата
        - do: В поле ввода ввести несколько символов и нажать кнопку "Отправить"
        - assert: Сообщение отправлено
        - do: В настройках системы перевести время на 8 дней вперед
        - assert: Время переведен
        - do: Проверить отображение превью группового чата на списке чатов
        - assert: |
              В превью чата отображается отправленное сообщение
              Справа от сообщения отображается верная дата отправки в формате "ДД.мес.ГГ" (например, "20.02.19")

    В превью группового чата отображается тайпинг "... Имя1 печатает", если начитает печатать 1 собеседник[manual]:
        - tags: [advanced_smoke, b2b]
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              У авторизованного **пользователя А** есть групповой чат с **пользователем Б**
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем Б открыть чат из description
        - assert: Открыто окно чата
        - do: В поле ввода сообщения ввести несколько символов
        - assert: Вводимые символы отражаются в поле ввода
        - do: В это же время открыть под пользователем А проверить отображение превью группового чата с пользователем Б на списке чатов
        - assert: Отображается тайпинг  "... Пользователь Б печатает" для этого группового чата

    В превью группового чата отображается тайпинг "... 3 печатают", если начитает печатать 3 собеседника одновременно[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 4 аккаунта, 2-ым, 3-им и 4-ым вспомогательными аккаунтами можно авторизоваться в других браузерах
              У авторизованного **пользователя А** есть групповой чат с **пользователем Б**, **пользователем В** и **пользователем Г**
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователями Б, В и Г открыть чат из description
        - assert: Чат открыт
        - do: В поле ввода сообщения одновременно  ввести несколько символов
        - assert: Вводимые символы отражаются в поле ввода
        - do: В это же время открыть под пользователем А проверить отображение превью группового чата из description
        - assert: Отображается тайпинг "... 3 печатают" для чата М

    В превью группового чата при тайпинге если имя/имена длинные и не помещаются в одну строку, то оно сокращается[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере
              У авторизованного **пользователя А** есть групповой чат с **пользователем Б**
              У пользователя Б длинное имя
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Под пользователем Б открыть чат из description
        - assert: Открыто окно чата
        - do: В поле ввода сообщения ввести несколько символов
        - assert: Вводимые символы отражаются в поле ввода
        - do: В это же время открыть под пользователем А проверить отображение превью группового чата с пользователем Б на списке чатов
        - assert: Имя пользователя Б в тайпинге сокращается""Имя печатает..." — это одна конструкция, которая должна обрезаться троеточием, если его ширина превышена:Олег печатает...Оченьоченьоченьдлинноеимя печа..."

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
    - chamb

