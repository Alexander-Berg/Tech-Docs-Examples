feature: 'Сниппеты'
type: 'базовая функциональность'

specs:
  Обязательные проверки:
    - do: получить выдачу по запросу 'рецепты'
    - tech: на странице появилась фича сниппеты
  Основная функциональность [manual]:
    - automation: SERP-74668
    - tags: smart_tv
    - do: получить выдачу по запросу 'рецепты'
    - assert: примерный вид сниппета с сайтлинками [https://jing.yandex-team.ru/files/kukuruku/granny_testcase_organic_sitelinks.png]
    - do: кликнуть на ссылку в заголовке сниппета
    - assert: ссылка открывается в новой вкладке и ведет на нужный сайт
    - do: вернуться обратно во вкладку поисковой выдачи
    - assert: ссылка в заголовке изменила цвет
    - tech: проверить счётчик ссылки в тайтле
    - do: кликнуть на ссылку в гринурле
    - assert: ссылка открывается в новой вкладке и ведет на нужный сайт
    - tech: проверить счётчик в гринурле
    - do: вернуться обратно во вкладку поисковой выдачи
    - do: кликнуть на ссылку в первом сайтлинке сниппета
    - assert: ссылка открывается в новой вкладке и ведет на нужный сайт
    - tech: проверить счётчик в ссылке первого сайтлинка
  Проверка появляющегося меню [manual]:
    - automation: SERP-74668
    - tags: smart_tv
    - do: получить выдачу по запросу 'рецепты'
    - assert: в результатах поиска появился сниппет с сайтлинками [https://jing.yandex-team.ru/files/v-avdeev/retsepty__Yandeks_nashlos_374_mln_otvetov_2017-12-21_12-40-05.png]
    - do: навести курсор мыши на сниппет
    - assert: справа от гринурла появились ссылки 'копия' и 'ещё' [https://jing.yandex-team.ru/files/v-avdeev/retsepty__Yandeks_nashlos_374_mln_otvetov_2017-12-21_12-40-36.png]
    - tech: проверить счётчик в ссылке 'копия'
    - do: кликнуть по ссылке 'копия'
    - assert: открылась страница сохранённой копии сайта
    - do: вернуться обратно на поисковую выдачу
    - assert: ссылка 'копия' изменила цвет
    - do: навести курсор мыши на сниппет
    - do: кликнуть по ссылке 'ещё'
    - assert: открылась страница поисковой выдачи, в результатах разные страницы одного сайта
    - tech: проверить счётчик в ссылке 'ещё'
  Проверка длинного тайтла [manual]:
    - automation: SERP-74668
    - do: Получить выдачу по запросу 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa.ru'
    - assert: в поисковой выдаче присутствует искомый текст в заголовке и он правильно сокращен (по размеру страницы)
    - screenshot: на экране результаты поиска длинного текста, они правильно сокращены [TODO https://st.yandex-team.ru/SERP-52058]
    - tags: no_assessors
  Проверка длинного гринурла [manual]:
    - automation: SERP-74668
    - do: Получить выдачу по запросу 'test pdf'
    - assert: в поисковой выдаче есть сайт у которого гринурл сокращен c применением многоточия, например 's2.q4cdn.com›030538176/files…downloads/test.pdf'
    - screenshot: на экране результаты поиска pdf-файла, гринурлы корректно сокращены (подставлением точек в центре адреса сайта) [TODO https://st.yandex-team.ru/SERP-52058]
    - tags: no_assessors

files:
  - features/desktop/snippets/snippets-a372785.hermione.js

priority: high

v-team: Beauty

tags:
  - searchresults
  - smoke
  - smoke_extended
  - touch
  - snippets

tlds: none
