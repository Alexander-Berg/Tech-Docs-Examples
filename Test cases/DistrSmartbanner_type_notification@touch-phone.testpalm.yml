feature: Смартбаннер React
type: notification

params:
  exp_flags:
    - smartbanner_atom=1

specs:
  Внешний вид смартбаннера:
    - params:
        foreverdata: '3282029074'
    - do: получить выдачу по запросу 'foreverdata'
    - assert: загрузилась выдача поиска
    - tech: сработал серверный счётчик /$page/distr-smartbanner с атрибутами bannerid product layout
    - do: проскроллить страницу вниз на один экран
    - assert: появился смартбаннер-нотификация с предложением установить поисковую систему по умолчанию
    - screenshot: Пример внешнего вида смартбаннера [smartbanner-notification]
    - do: кликнуть в смартбаннер
    - assert: произошёл переход на страницу установки поисковой системы по умолчанию
    - tech: сработал счётчик /$page/distr-smartbanner/ok[@layout="notification"]

  Кнопка "Закрыть":
    - params:
        foreverdata: '3282029074'
    - do: получить выдачу по запросу 'foreverdata'
    - assert: загрузилась выдача поиска
    - do: проскроллить страницу вниз на один экран
    - assert: появился смартбаннер-нотификация с предложением установить поисковую систему по умолчанию
    - do: кликнуть в крестик в правом верхнем углу смартбаннера
    - assert: смартбаннер закрылся
    - tech: сработал счётчик /$page/distr-smartbanner/close[@layout="notification"]

files:
  - src/features/DistrSmartbannerReact/DistrSmartbannerReact.test/distr-smartbanner_type_notification/DistrSmartbanner_type_notification@touch-phone.hermione.js

tags:
  - skip_e2e_check
  - distribution
  - smartbanner

browsers:
  notFor:
    - searchapp-phone

v-team: Distribution

tlds: [ru, by]
