feature: Гистограмма

specs:
  aliases:
    - &ScreenshotSides
      - do: проверить наличие блока гистограммы
      - assert: блок гистограммы должен быть на странице
      - screenshot: Внешний вид [left]
      - do: прокрутить гистограмму влево до упора
      - screenshot: Внешний вид [right]

  По умолчанию:
    beforeEach:
      - do: получить выдачу по запросу 'foreverdata' и кликнуть в заголовок первого сниппета (название заголовка Тестовая страница для Histogram — турбо)
      - assert: открывается турбо-страница в той же вкладке (в поисковом приложении Яндекс турбо-страница открывается в новой вкладке)

    Основные проверки:
      - params:
          foreverdata: '283255963'
      - *ScreenshotSides

    Горизонтальная ориентация:
      - params:
          foreverdata: '283255963'
      - do: сменить ориентацию на альбомную
      - *ScreenshotSides

    Одинаковые значения:
      - params:
          foreverdata: '4135312542'
      - do: проверить наличие блока гистограммы
      - assert: блок гистограммы должен быть на странице
      - screenshot: Внешний вид [plain]

    Подзаголовки:
      - params:
          foreverdata: '1076227566'
      - do: проверить наличие блока гистограммы
      - assert: блок гистограммы должен быть на странице
      - screenshot: Внешний вид [plain]

    Ссылки:
      - params:
          foreverdata: '1076227566'
      - do: проверить наличие блока гистограммы
      - assert: блок гистограммы должен быть на странице
      - do: нажать на заголовок "#Сегодня"
      - assert: открылась ссылка "https://www.gismeteo.ru/weather-simferopol-4995/" в новой вкладке
      - do: нажать на подзаголовок "#Пятница"
      - assert: открылась ссылка "https://www.gismeteo.ru/weather-simferopol-4995/" в новой вкладке
      - do: нажать на заголовок "#Завтра"
      - assert: открылась ссылка "https://www.gismeteo.ru/weather-simferopol-4995/tomorrow/" в новой вкладке
      - do: проверить цвета заголовков гистограммы
      - assert: заголовки сохранили свои цвета

  Ступенчатая:
    beforeEach:
      - do: получить выдачу по запросу 'foreverdata' и кликнуть в заголовок первого сниппета (название заголовка Тестовая страница для Histogram — турбо)
      - assert: открывается турбо-страница в той же вкладке (в поисковом приложении Яндекс турбо-страница открывается в новой вкладке)

    Основные проверки:
      - params:
          foreverdata: '3318509911'
      - *ScreenshotSides

    Горизонтальная ориентация:
      - params:
          foreverdata: '3318509911'
      - do: сменить ориентацию на альбомную
      - *ScreenshotSides

    Одинаковые значения:
      - params:
          foreverdata: '244694050'
      - do: проверить наличие блока гистограммы
      - assert: блок гистограммы должен быть на странице
      - screenshot: Внешний вид [plain]

    Подзаголовки:
      - params:
          foreverdata: '699840957'
      - do: проверить наличие блока гистограммы
      - assert: блок гистограммы должен быть на странице
      - screenshot: Внешний вид [plain]

  Ступенчатая двойная:
    Основные проверки:
      - do: получить выдачу по запросу 'foreverdata' и кликнуть в заголовок первого сниппета (название заголовка Тестовая страница для Histogram — турбо)
      - assert: открывается турбо-страница в той же вкладке (в поисковом приложении Яндекс турбо-страница открывается в новой вкладке)
      - params:
          foreverdata: '1625553636'
      - *ScreenshotSides

    Горизонтальная ориентация:
      - do: получить выдачу по запросу 'foreverdata' и кликнуть в заголовок первого сниппета (название заголовка Тестовая страница для Histogram — турбо)
      - assert: открывается турбо-страница в той же вкладке (в поисковом приложении Яндекс турбо-страница открывается в новой вкладке)
      - params:
          foreverdata: '1625553636'
      - do: сменить ориентацию на альбомную
      - *ScreenshotSides

    Одинаковые значения:
      - do: получить выдачу по запросу 'foreverdata' и кликнуть в заголовок первого сниппета (название заголовка Тестовая страница для Histogram — турбо)
      - assert: открывается турбо-страница в той же вкладке (в поисковом приложении Яндекс турбо-страница открывается в новой вкладке)
      - params:
          foreverdata: '2748617677'
      - do: проверить наличие блока гистограммы
      - assert: блок гистограммы должен быть на странице
      - screenshot: Внешний вид [plain]

    Максимальная и минимальная температуры равны:
      - do: открыть ссылку https://yandex.ru/turbo?stub=histogram/stepwise-double-equal-top-bottom.json
      - *ScreenshotSides

    Подзаголовки:
      - do: получить выдачу по запросу 'foreverdata' и кликнуть в заголовок первого сниппета (название заголовка Тестовая страница для Histogram — турбо)
      - assert: открывается турбо-страница в той же вкладке (в поисковом приложении Яндекс турбо-страница открывается в новой вкладке)
      - params:
          foreverdata: '2793096461'
      - do: проверить наличие блока гистограммы
      - assert: блок гистограммы должен быть на странице
      - screenshot: Внешний вид [plain]

files:
  - features/blocks/histogram/histogram.hermione.js

v-team: Turbo

manager: tanzwuta

qa-engineer: olga0321, dakhetov

tlds: none
