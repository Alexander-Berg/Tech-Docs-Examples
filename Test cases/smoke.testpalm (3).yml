feature: AppSmoke
type: асессоры

specs:
  Проверка пейджера [manual]:
    - automation: FEI-7142
    - do: получить выдачу по запросу 'котики'
    - do: пролистать до низа выдачи до кнопок пейджера 1,2 и т.д.
    - screenshot: внешний вид кнопок [pager/first-page-20-desktop >> plain]
    - do: кликнуть в кнопку пейджера с цифрой 2
    - assert: |
        выдача перегрузилась
        вместо первой загрузилась вторая страница с результатами, внизу кнопка 2 стала некликабельной
    - do: пролистать до конца выдачи и кликнуть в кнопку 1
    - assert: |
        выдача перегрузилась
        вместо второй загрузилась первая страница с результатами, внизу кнопка 1 стала некликабельной
  Проверка органической выдачи [manual]:
    - automation: FEI-7142
    - do: получить выдачу по запросу 'котики'
    - do: кликнуть в тайтл любого сниппета
    - assert: произошел переход на сторонний сайт
    - do: кликнуть по гринурлу в сниппете
    - assert: произошел переход на сторонний сайт
    - do: ТОЛЬКО для андроида - нажать на стрелку Назад на телефоне (НЕ в браузере), для иос - нажать внизу экрана на стрелку Назад во внутреннем браузере
    - assert: произошел возврат на выдачу в поисковом приложении
  Проверка колдунщика картинок [manual]:
    - automation: FEI-7142
    - browsers:
        notFor: 
          - android-pp-4.99-touch
    - do: перейти по ссылке, закрыть полученную вкладку
    - do: получить выдачу по запросу 'котики' с Главной старницы приложения
    - screenshot: появился колдунщик картинок [adapters/adapter-images/default-77-desktop >> plain]
    - do: найти колдун картинок и кликнуть по тайтлу в колдунщике
    - assert: |
        осуществился переход на вкладку Картинки в приложении
        показана выдача Картинок по запросу 'котики'
    - do: вернуться на выдачу поиска, кликнув на таб Сайты (или Поиск) под желтой шапкой, и пролистать до колдуна картинок
    - do: скроллить вправо картинки до упора, пока не появится четвертая картинка, а потом влево
    - assert: |
        картинки скроллятся
        все 4 картинки загрузились полностью
  Просмотр картинок в колдунщике картинок [manual]:
    - automation: FEI-7142
    - browsers:
        notFor: 
          - android-pp-4.99-touch
    - do: получить выдачу по запросу 'котики'
    - screenshot: появился колдунщик картинок [adapters/adapter-images/default-77-desktop >> plain]
    - do: найти колдун картинок и кликнуть во вторую картинку
    - assert: |
        осуществился переход на вкладку Картинки в приложении
        показана выдача Картинок по запросу 'котики'
        в приложении на андроиде выше 6.50 и в иосе автоматически загрузилась выбранная картинка. В версии 4.99 на андроиде картинка не загружается - это ожидаемо.
  Проверка колдунщика видео [manual]:
    - automation: FEI-7142
    - do: получить выдачу по запросу 'щенята смешное'
    - screenshot: появился колдунщик видео [adapters/adapter-video/default-91-desktop >> plain]
    - do: найти колдун видео и кликнуть по тайтлу в колдунщике
    - assert: |
        осуществился переход на вкладку Видео в приложении
        показана выдача Видео по тому же запросу
    - do: вернуться на выдачу поиска, кликнув на таб Сайты (или Поиск) под желтой шапкой, и пролистать до колдуна видео
    - do: кликнуть по гринурлу в колдунщике
    - assert: осуществился переход на вкладку Видео в приложении. Показана выдача Видео по тому же запросу
    - do: вернуться на выдачу поиска и пролистать до колдуна видео
    - do: скроллить вправо видео до упора, пока не появится четвертое видео, и влево
    - assert: |
        видео скроллятся
        все 4 видео загрузились полностью
    - do: вернуться на выдачу поиска
    - do: кликнуть на второе видео в колдуне Видео
    - assert: |
        осуществился переход на вкладку Видео в приложении
        показана выдача Видео по тому же запросу
        в приложении на андроиде выше 6.50 и в иосе автоматически загрузилось выбранное видео. В версии 4.99 на андроиде видео не загружается - это ожидаемо.
  Внешний вид сериального колдунщика [manual]:
    - automation: FEI-7142
    - do: получить выдачу по запросу 'конь боджек видео' или любой другой известный сериал
    - assert: появился сериальный видео колдунщик с тайтлом «..смотреть все серии» [https://jing.yandex-team.ru/files/vtroshina//2017-11-26_21-30-26-soswk.png]
  Проверка колдунщика ОО [manual]:
    - automation: FEI-7142
    - do: получить выдачу по запросу 'мадонна'
    - screenshot: появилась карточка объекта (внешний вид может незначительно отличаться) [adapters/adapter-entity-search/card-145-touch-phone >> plain]
    - do: найти колдун Объектного ответа и кликнуть на заголовок карточки
    - assert: открылся сайт википедии по соответствующему запросу
    - do: клик на картинку в ОО
    - assert: открылась в приложении вкладка Картинки
    - do: вернуться на выдачу поиска
    - do: клик в Гай Ричи в ОО
    - assert: |
        произошел перезапрос по Гаю Ричи в приложении
        проверить что на вкладке Картинки выдача также по новому запросу (в версии 4.99 по старому запросу - это ок)
  Проверка опечаточника [manual]:
    - automation: FEI-7142
    - do: запрос 'лев толсто' или 'малоко'
    - screenshot: появился опечаточник [misspell/misspell-51-touch-phone >> plain]
    - assert: появился опечаточник с кнопкой Отменить и поменялся текст запроса в стрелке на без опечатки (в версии 4.99 запрос в стрелке может не поменяться - считаем, что это ок)
    - do: клик в Отменить
    - assert: перезагрузилась выдача по запросу с опечаткой
    - do: ввести запрос с кавычками '"На поезде в техасский городок едет новый шериф"' (в двойных кавычках)
    - assert: просто посмотреть, что выдача появилась
  Проверка перезапроса из фактового ответа [manual]:
    - automation: FEI-7142
    - do: получить выдачу по запросу 'сколько калорий в фейхуе', либо по похожему запросу
    - assert: на первой позиции есть ответ на белом фоне с информацией о калориях [https://jing.yandex-team.ru/files/shlenskiy/feijoa.png]
    - do: кликнуть на первую хлебную крошку 'Фейхоа'
    - assert: |
        произошел перезапрос в приложении по запросу 'Фейхоа'
        проверить что на вкладке Картинки в приложении выдача также по новому запросу (в версии 4.99 по старому запросу - это ок)

files: []
# - features/touch-phone/pager.autogenerated.hermione.js
# - features/touch-phone/adapters/adapter-images.autogenerated.hermione.js
# - features/touch-phone/adapters/adapter-video.autogenerated.hermione.js
# - features/touch-phone/adapters/adapter-entity-search.autogenerated.hermione.js
# - features/touch-phone/misspell.autogenerated.hermione.js

v-team: Techno

tags:
  - smoke
  - smoke_extended
  - manual
  - appsmoke

tlds: none
