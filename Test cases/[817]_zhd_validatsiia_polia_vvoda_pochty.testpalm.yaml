feature: ЖД
type: Ввод данных
description: |-
  Находимся на странице покупки на вкладке **Данные пассажиров**, для этого:
  * Перейти на тестовый стенд
  * Перейти на вкладку ЖД билеты
  * Выбрать направление и дату поездки
  * Кликнуть _Найти_
  * Выбрать любой из предложенных вариантов и перейти на страницу выбора мест
  * Выбрать любое место
  * Кликнуть _Указать пассажиров_
specs:
  'ЖД: Валидация поля ввода почты':
    - do: >-
        * Корректно заполнить паспортные данные пассажиров

        * Ввести номер телефона

        * В поле _Электронная почта_ ввести почту с неправильный TLD (например
        pochta@yandex.r или qwerty@yandex.coh)

        * Кликнуть _Проверить заказ и купить_
    - assert: |-
        Поле выделено красным
        Внизу отображается ошибка: _Проверьте адрес после знака @_
    - do: >-
        * Ввести в поле почту, поменяв местами **"@"** и **"."** (например
        qwerty.yandex@ru)

        * Кликнуть _Проверить заказ и купить_
    - assert: |-
        * Поле выделено красным
        * Внизу отображается ошибка: _Это не похоже на электронный адрес._
    - do: >-
        * Ввести в поле корректный адрес электронной почты, с точкой в конце
        (например asd@yandex.ru.)

        * Кликнуть _Проверить заказ и купить_
    - assert: >-
        * Поле выделено красным

        * Внизу отображается ошибка: _Проверьте точки. Не должно быть
        повторений, точек перед @ и в конце адреса_
    - do: >-
        * Ввести в поле почту, перед TLD поставить 2 точки (например
        asdf@yandex..ru)

        * Кликнуть _Проверить заказ и купить_
    - assert: >-
        * Поле выделено красным

        * Внизу отображается ошибка: _Проверьте точки. Не должно быть
        повторений, точек перед @ и в конце адреса_
    - do: >-
        * Ввести в поле почту с кириллическими символами (например a -
        кириллицей, остальное латиницей)

        * Кликнуть _Проверить заказ и купить_
    - assert: >-
        * Поле выделено красным

        * Внизу отображается ошибка: _Адрес может состоять только из латинских
        букв, цифр и символов: _ . + - @_
    - do: >-
        * Ввести в поле корректный адрес электронной почты капсом (например
        QWERTY@YANDEX.RU)

        * Кликнуть _Проверить заказ и купить_
    - assert: Открывается страница подтверждения заказа
    - do: >-
        * Вернуться на вкладку _Данные пассажиров_

        * Ввести в поле корректный адрес электронной почты в домене com
        (например fdsa@yandex.com)

        * Кликнуть _Проверить заказ и купить_
    - assert: Открывается страница подтверждения заказа
manual: true
Устройство: Десктоп
Страница: Ввод данных
Сервис: ЖД
Тестирование асессорами: Да
Окружение:
  - Production
  - Testing
Автор: shenfeld
