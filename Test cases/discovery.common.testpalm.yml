feature: Дисквери каналов

specs:

    Пользователь L может открыть  на просмотр канал[manual]:
      #   - tags: [advanced_smoke]
        - automation: MSSNGRFRONT-5719
        - description: Не авторизовны в мессенджере
        - do: Отркыть список чатов
        - assert: Открывается окно списка чатов
        - do: Проскроллить, если необходимо, до блока "Популярные каналы" (Блок «Популярные каналы» не отображается для аккаунтов «КОННЕКТА»)
        - assert: Видим нужный блок с каналами
        - do: Нажать на любой канал
        - assert: |
              Открывается канал, где - есть история сообщений
              Кнопка "Войти, чтобы подписаться”
        - do: Нажать на кнопку “Войти, чтобы подписаться”
        - assert: Поднимается паспорт
        - do: Ввести логин/пароль
        - assert: Экран паспорта закрывается и мы остаемся в канале, но кнопка "Войти, чтобы подписаться" меняется на кнопки "Поделиться каналом" (самолетик) и "Отключить уведомления" (колокольчик)

    Пользователь LU может присоединиться к каналу[manual]:
      #   - tags: [advanced_smoke]
        - automation: MSSNGRFRONT-5719
        - description: Авторизовны в мессенджере аккаунтом без привязанного номера телефона. Блок «Популярные каналы»  не отображается для аккаунтов «КОННЕКТА».
        - do: Отркыть список чатов
        - assert: Открывается окно списка чатов
        - do: Проскроллить, если необходимо, до блока "Популярные каналы" (Блок «Популярные каналы» не отображается для аккаунтов «КОННЕКТА»)
        - assert: Видим нужный блок с каналами
        - do: Нажать на любой канал
        - assert: |
              Открывается канал, где - есть история сообщений
              Кнопка "Подписаться на канал”
        - do: Нажать на кнопку “Подписаться на канал”
        - assert: Надпись "подписаться на канал" заменилась на кнопки "Поделиться каналом" (самолетик) и "Отключить уведомления" (колокольчик)
        - do: Проверить, что канал был добавлен в список чатов
        - assert: В своем списке чатов видим канал, к которому присоединились

    Пользователь U может присоединиться к каналу[manual]:
      #   - tags: [advanced_smoke]
        - automation: MSSNGRFRONT-5719
        - description: Авторизовны в мессенджере аккаунтом с привязанным номером телефона. Блок «Популярные каналы»  не отображается для аккаунтов «КОННЕКТА». Для  проверки можно использовать аккаунт yndx-mssngr-909@yandex.ru (QazMssngr1)
        - do: Отркыть список чатов
        - assert: Открывается окно списка чатов
        - do: Проскроллить, если необходимо, до блока "Популярные каналы"
        - assert: Видим нужный блок с каналами
        - do: Нажать на любой канал
        - assert: |
              Открывается канал, где - есть история сообщений
              Кнопка "Подписаться на канал”
        - do: Нажать на кнопку “Подписаться на канал”
        - assert: Надпись "подписаться на канал" заменилась на кнопки "Поделиться каналом" (самолетик) и "Отключить уведомления" (колокольчик)
        - do: Проверить, что канал был добавлен в список чатов
        - assert: В своем списке чатов видим канал, к которому присоединились

    Дискавери каналы находятся в конце списка чатов, если у пользователя есть иные чаты[manual]:
        - automation: MSSNGRFRONT-5719
        - description: Авторизовны в мессенджере аккаунтом с привязанным номером телефона в списе чатов которого есть несколько чатов. Блок «Популярные каналы»  не отображается для аккаунтов «КОННЕКТА». Для  проверки можно использовать аккаунт yndx-mssngr-909@yandex.ru (QazMssngr1)
        - do: Отркыть список чатов
        - assert: Открывается окно списка чатов
        - do: Проскроллить, если необходимо, до блока "Популярные каналы"
        - assert: Видим нужный блок с каналами
        - do: Убедиться что для канала подтянулись данные
        - assert: |
              Для канала есть аватарка
              Название канала
              Описание канала

    Дискавери каналы отображаются корректно, если у пользователя нет чатов[manual]:
        - automation: MSSNGRFRONT-5719
        - description: Не авторизовны в мессенджере
        - do: Отркыть список чатов
        - assert: Открывается окно списка чатов
        - do: Проверить наличие блока "Популярные каналы"
        - assert: Видим нужный блок с каналами
        - do: Убедиться что для канала подтянулись данные
        - assert: |
              Для канала есть аватарка
              Название канала
              Описание канала

    При обновлении страницы брааузера обновляется список дискавери каналов[manual]:
        - automation: MSSNGRFRONT-5719
        - description: Авторизовны в мессенджере аккаунтом с привязанным номером телефона. Блок «Популярные каналы»  не отображается для аккаунтов «КОННЕКТА». Для  проверки можно использовать аккаунт yndx-mssngr-909@yandex.ru (QazMssngr1)
        - do: Отркыть список чатов
        - assert: Открывается окно списка чатов
        - do: Проскроллить, если необходимо, до блока "Популярные каналы"
        - assert: Видим нужный блок с каналами
        - assert: Запомнили каналы
        - do: Обновить страницу браузера
        - assert: |
              Страница браузера была обновлена
              Загрузился список чатов
        - do: Проскроллить, если необходимо, до блока "Популярные каналы"
        - assert: Видим нужный блок с каналами
        - do: Сравнить текущий список каналов с предудыщим разом
        - assert: Список предлагаемых каналов отличается

    Если пользователь состоит в канале и он есть в дискавери, то канал отображается в списке пользовательских чатов[manual]:
        - automation: MSSNGRFRONT-5719
        - description: Авторизовны в мессенджере аккаунтом с привязанным номером телефона. Блок «Популярные каналы»  не отображается для аккаунтов «КОННЕКТА». Для  проверки можно использовать аккаунт yndx-mssngr-909@yandex.ru (QazMssngr1)
        - do: Отркыть список чатов
        - assert: Открывается окно списка чатов
        - do: Проскроллить, если необходимо, до блока "Популярные каналы"
        - assert: Видим нужный блок с каналами
        - do: Нажать на любой канал
        - assert: |
              Открывается канал, где - есть история сообщений
              Кнопка "Подписаться на канал”
        - do: Нажать на кнопку “Подписаться на канал”
        - assert: Надпись "подписаться на канал" заменилась на кнопки "Поделиться каналом" (самолетик) и "Отключить уведомления" (колокольчик)
        - do: Убедиться что канал из Дискавери, к которому мы присоединились, находится в нашем списке
        - assert: |
              Канал находится в нашем списке
              В блоке “Популярные каналы не подтянулись новые каналы

    Дискавери каналы не отображаются, если пользователь присоединился ко всем каналам из блока[manual]:
        - automation: MSSNGRFRONT-5719
        - description: Авторизовны в мессенджере аккаунтом с привязанным номером телефона. Блок «Популярные каналы»  не отображается для аккаунтов «КОННЕКТА». Для  проверки можно использовать аккаунт yndx-mssngr-909@yandex.ru (QazMssngr1)
        - do: Отркыть список чатов
        - assert: Открывается окно списка чатов
        - do: Проскроллить, если необходимо, до блока "Популярные каналы"
        - assert: Видим нужный блок с каналами
        - do: присоединиться ко всем каналам из блока
        - assert: Присоединены ко всем каналам
        - do: убедиться что не показывается в списке чатов блок "Популярные каналы"
        - assert: Блок не показывается

    Открывается паспорт, если нажть в дискавери по кнопке + пользователем L[manual]:
        - automation: MSSNGRFRONT-5719
        - description: Не авторизовны в мессенджере
        - do: Отркыть список чатов
        - assert: Открывается окно списка чатов
        - do: Проскроллить, если необходимо, до блока "Популярные каналы"
        - assert: Видим нужный блок с каналами
        - do: Нажать на кнопку “+”
        - assert: Поднимается экран паспорта
        - do: Авторизоваться пользователем, введя логин/пароль
        - assert: Происходит авторизация и мы сразу присоединяемся к каналу кнопка “Войти, чтобы подписаться” поменялась на кнопки "Поделиться каналом" (самолетик) и "Отключить уведомления" (колокольчик)

    Пользователь U может присоединиться к каналу через плюси[manual]:
        - automation: MSSNGRFRONT-5719
        - description: Авторизовны в мессенджере аккаунтом с привязанным номером телефона. Блок «Популярные каналы»  не отображается для аккаунтов «КОННЕКТА». Для  проверки можно использовать аккаунт yndx-mssngr-909@yandex.ru (QazMssngr1)
        - do: Отркыть список чатов
        - assert: Открывается окно списка чатов
        - do: Проскроллить, если необходимо, до блока "Популярные каналы"
        - assert: Видим нужный блок с каналами
        - do: Нажать на кнопку “+”
        - assert: |
              Открывается окно канала и мы на него подписаны
              Канал перемещается из блок "Популярные кналы" в наш список чатов

    Пользователь U может отключить блок Популярные каналы[manual]:
        - automation: MSSNGRFRONT-5719
        - description: Авторизовны в мессенджере аккаунтом с привязанным номером телефона. Блок «Популярные каналы»  не отображается для аккаунтов «КОННЕКТА». Для  проверки можно использовать аккаунт yndx-mssngr-909@yandex.ru (QazMssngr1)
        - do: Отркыть список чатов
        - assert: Открывается окно списка чатов
        - do: Проскроллить, если необходимо, до блока "Популярные каналы"
        - assert: Видим нужный блок с каналами
        - do: Нажать на кнопку настроек в виде шесстеренки, которая находиться в шапке списка чатов
        - assert: Открываются настройки профиля
        - do: Проверить наличие Блока "Популярные каналы"
        - assert: |
              Ползунок был переключен
              В списке чатов пропал блок "Популярные каналы"

    Пользователь U может включить блок Популярные каналы, если он ранее был скрыт[manual]:
        - automation: MSSNGRFRONT-5719
        - description: |
              Авторизовны в мессенджере аккаунтом с привязанным номером телефона. Блок «Популярные каналы»  не отображается для аккаунтов «КОННЕКТА». Для  проверки можно использовать аккаунт yndx-mssngr-909@yandex.ru (QazMssngr1)
              В настройках профиля показ блока "Популярные каналы" отключен
        - do: Отркыть список чатов
        - assert: Открывается окно списка чатов
        - do: Проскроллить, если необходимо, в самый низ списка чатов
        - assert: Блок с популярными каналами отсутствует
        - do: Нажать на кнопку настроек в виде шесстеренки, которая находиться в шапке списка чатов
        - assert: Открываются настройки профиля
        - do: Переключить ползунок блока "Популярные каналы" в включенное состояние и вернуться в список чатов
        - assert: |
              Ползунок был переключен
              В списке чатов появился блок "Популярные каналы"

    Пользователь LU может включить блок Популярные каналы, если он ранее был скрыт[manual]:
        - automation: MSSNGRFRONT-5719
        - description: |
              Авторизовны в мессенджере аккаунтом без привязанного номера телефона. Блок «Популярные каналы»  не отображается для аккаунтов «КОННЕКТА».
              В настройках профиля показ блока "Популярные каналы" отключен
        - do: Отркыть список чатов
        - assert: Открывается окно списка чатов
        - do: Проскроллить, если необходимо, в самый низ списка чатов
        - assert: Блок с популярными каналами отсутствует
        - do: Нажать на кнопку настроек в виде шесстеренки, которая находиться в шапке списка чатов
        - assert: Открываются настройки профиля
        - do: Переключить ползунок блока "Популярные каналы" в включенное состояние и вернуться в список чатов
        - assert: |
              Ползунок был переключен
              В списке чатов появился блок "Популярные каналы"

    Пользователь LU может отключить блок Популярные каналы[manual]:
        - automation: MSSNGRFRONT-5719
        - description: Авторизовны в мессенджере аккаунтом без привязанного номера телефона. Блок «Популярные каналы»  не отображается для аккаунтов «КОННЕКТА». 
        - do: Отркыть список чатов
        - assert: Открывается окно списка чатов
        - do: Проскроллить, если необходимо, до блока "Популярные каналы"
        - assert: Видим нужный блок с каналами
        - do: Нажать на кнопку настроек в виде шесстеренки, которая находиться в шапке списка чатов
        - assert: Открываются настройки профиля
        - do: Переключить ползунок блока "Популярные каналы" в выключенное состояние и вернуться в список чатов
        - assert: |
              Ползунок был переключен
              В списке чатов пропал блок "Популярные каналы"

    Пользователь L не может отключить блок Популярные каналы[manual]:
        - automation: MSSNGRFRONT-5719
        - description: Не авторизованы в мессенджере
        - do: Отркыть список чатов
        - assert: |
              Открывается окно списка чатов
              Отображается баннер входа в аккаунт
              Есть блок "Популярные каналы". Блок «Популярные каналы»  не отображается для аккаунтов «КОННЕКТА». 
        - do: Нажать на кнопку настроек в виде шесстеренки, которая находиться в шапке списка чатов
        - assert: Открываются настройки профиля
        - do: Проверить наличие Блока "Популярные каналы"
        - assert: Данная настройка отсутствует

    После обновления старницы не слетает настройка блок Популярные каналы[manual]:
        - automation: MSSNGRFRONT-5719
        - description: Авторизовны в мессенджере аккаунтом с привязанным номером телефона. Блок «Популярные каналы»  не отображается для аккаунтов «КОННЕКТА». Для  проверки можно использовать аккаунт yndx-mssngr-909@yandex.ru (QazMssngr1)
        - do: Отркыть список чатов
        - assert: Открывается окно списка чатов
        - do: Проскроллить, если необходимо, до блока "Популярные каналы"
        - assert: Видим нужный блок с каналами
        - do: Нажать на кнопку настроек в виде шесстеренки, которая находиться в шапке списка чатов
        - assert: Открываются настройки профиля
        - do: Проверить наличие Блока "Популярные каналы"
        - assert: |
              Ползунок был переключен
              В списке чатов пропал блок "Популярные каналы"
        - do: Обновить страницу браузера
        - assert: |
              Страница браузера обновлена
              В списке чатов загрузились все чаты аккаунта
              Блок "Популярные каналы" отсутствует
        - do: Нажать на кнопку настроек в виде шесстеренки, которая находиться в шапке списка чатов
        - assert: Открываются настройки профиля
        - do: Переключить ползунок блока "Популярные каналы" в включенное состояние и вернуться в список чатов
        - assert: |
              Ползунок был переключен
              В списке чатов появился блок "Популярные каналы"
        - do: Обновить страницу браузера
        - assert: |
              Страница браузера обновлена
              В списке чатов загрузились все чаты аккаунта
              Блок "Популярные каналы" отображается корректно

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
    - chamb
