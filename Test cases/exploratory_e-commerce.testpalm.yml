feature: Исследовательские кейсы e-commerce

params:
  exp_flags:
    - turboforms_endpoint=https://test-turbo-forms.common.yandex.ru/
    - analytics-disabled=1

browsers:
  - ios-safari-12-touch
  - ios-safari-11-touch
  - ios-safari-10-touch
  - ios-safari-9-touch

specs:
  Своя корзина [manual]:
    - automation: TURBOUI-2438
    - do: получить выдачу по запросу 'site:snowqueen.ru купить куртку'
    - assert: |
        на выдаче должны появиться сниппеты турбо магазина snowqueen.ru
        если сниппетов нет, задайте запрос с другими товарами из магазина
        например 'site:snowqueen.ru шуба', пока не появится турбо сниппет
    - do: кликните в тайтл сниппета
    - assert: |
        открылся турбо магазин
        по запросу выше, может не быть листинга с товарами
        либо вы можете попасть на последнюю категонию
        в таком случае надо кликнуть по логотипу и попасть на листинг с категориями
    - do: перейти в 2-3 любые категории
    - assert: |
        при переходе в категорию меняются остальные категории и товары
        товары в листинге соответсвуют выбранной категории
    - do: вернуться на категории выше по ссылке '< категория' над категориями
    - assert: |
        при переходе в категорию меняются остальные категории и товары
        товары в листинге соответсвуют выбранной категории
    - do: отсортировать список товаров
    - assert: список товаров изменился и соответсвует выбранному типу сортировки
    - do: отфильтровать список товаров по любым из фильтров и цене
    - assert: список товаров изменился и соответсвует выбранномым фильтрам и цене
    - do: проскролить листинг с товарами до новой подзагрузки товаров
    - assert: загрузились новые товары
    - do: перейти в любой товар
    - assert: открылся выбранный товар
    - do: вернуться назад в листинг с товарами
    - assert: выдача подскролиалсь с выбранному ранее товару
    - do: проскролить листинг с товарами до следующей подзагрузки товаров
    - assert: загрузились новые товары
    - do: перейти в любой товар
    - assert: открылся выбранный товар
    - do: нажать на 'добавить в корзину'
    - assert: |
        осуществился переход в корзину полного сайта
        нашли ли вы какие-либо баги в процессе выполнения пользовательского сценария?

  Турбо корзина - успешная покупка [manual]:
    - automation: TURBOUI-2438
    - do: получить выдачу по запросу 'site:super01.ru игрушки'
    - assert: |
        на выдаче должны появиться сниппеты турбо магазина super01.ru
        если сниппетов нет, задайте запрос с другими товарами из магазина
        например 'site:super01.ru костюмы', пока не появится турбо сниппет
    - do: кликните в тайтл сниппета
    - assert: |
        открылся турбо магазин
        по запросу выше, может не быть листинга с товарами
        в таком случае надо кликнуть по логотипу и попасть на листинг с категориями
    - do: перейти в 2-3 товара и добавить их в корзину по кнопке 'Добавить в корзину'
    - assert: |
        при добавлении товара кнопка 'Добавить в корзину' поменялась на 'Перейти в корзину'
        рядом с иконкой корзины в верхнем правом углу появилось количество добавленных товаров
    - do: перейти в корзину через кнопку в верхнем правом углу
    - assert: открылась корзина с выбранными товарами
    - do: попробовать увеличить, уменьшить количество товаров на кнопки '+' и '-'
    - assert: количетсво товаров изменяется при клике на кнопки '+' и '-'
    - do: удалить все товары
    - assert: появилась ссылка 'Перейти в каталог' пропала кнопка 'Оформить заказ'
    - do: перейти в каталог, добавить любой товар и перейти в корзину через кнопку 'Оформить заказ'
    - assert: открылась корзина с выбранным товаром
    - do: нажать на 'Оформить заказ'
    - assert: появилась форма оформления заказа
    - do: очистить все поля если они предзаполнены и нажать на кнопку 'Отправить'
    - assert: рамки всех полей стали красными, заказ не отправился
    - do: заполнить поля валидными данными
    - assert: |
        например ФИО - 'test'
        Телефон - '+7 123 456-78-90'
        Email - 'test@yandex.ru'
        Адрес доставки - test
    - do: отправить заказ
    - assert: |
        появилось окно успешного заказа
        нашли ли вы какие-либо баги в процессе выполнения пользовательского сценария?

  Турбо корзина - ошибка при покупке [manual]:
    - automation: TURBOUI-2438
    - do: получить выдачу по запросу 'site:super01.ru игрушки'
    - assert: |
        на выдаче должны появиться сниппеты турбо магазина super01.ru
        если сниппетов нет, задайте запрос с другими товарами из магазина
        например 'site:super01.ru костюмы', пока не появится турбо сниппет
    - do: кликните в тайтл сниппета
    - assert: |
        открылся турбо магазин
        по запросу выше, может не быть листинга с товарами
        в таком случае надо кликнуть по логотипу и попасть на листинг с категориями
    - do: перейти в любой товар и добавить его в корзину по кнопке 'Добавить в корзину'
    - assert: |
        при добавлении товара кнопка 'Добавить в корзину' поменялась на 'Перейти в корзину'
        рядом с иконкой корзины в верхнем правом углу появилось количество добавленных товаров
    - do: перейти в корзину
    - assert: открылась корзина с выбранными товарами
    - do: нажать на 'Оформить заказ'
    - assert: появилась форма оформления заказа
    - do: заполнить поля валидными данными
    - assert: |
        например ФИО - 'test'
        Телефон - '+7 123 456-78-90'
        Email - 'test@yandex.ru'
        Адрес доставки - test
    - do: отключить интернет и отправить заказ
    - assert: появилось окно ошибки и кнопкой 'повторить'
    - do: нажать на кнопку 'повторить'
    - assert: |
        окно с ошибкой скрылось, открыта форма оформления заказа
        нашли ли вы какие-либо баги в процессе выполнения пользовательского сценария?

  Купить в один клик - успешная покупка [manual]:
    - automation: TURBOUI-2438
    - do: получить выдачу по запросу 'site:mosmexa.ru шубы'
    - assert: |
        на выдаче должны появиться сниппеты турбо магазина mosmexa.ru
        если сниппетов нет, задайте запрос с другими товарами из магазина
        например 'site:mosmexa.ru куртка', пока не появится турбо сниппет
    - do: кликните в тайтл сниппета
    - assert: |
        открылся турбо магазин
        по запросу выше, может не быть листинга с товарами
        в таком случае надо кликнуть по логотипу и попасть на листинг с категориями
    - do: перейти в любой товар и кликнуть по кнопке 'Купить в 1 клик'
    - assert: появилась форма оформления заказа
    - do: заполнить поля валидными данными
    - assert: |
        например ФИО - 'test'
        Телефон - '+7 123 456-78-90'
        Email - 'test@yandex.ru'
        Адрес доставки - test
    - do: отправить заказ
    - assert: |
        появилось окно успешного заказа
        нашли ли вы какие-либо баги в процессе выполнения пользовательского сценария?

  Купить в один клик - ошибка при покупке [manual]:
    - automation: TURBOUI-2438
    - do: получить выдачу по запросу 'site:mosmexa.ru шубы'
    - assert: |
        на выдаче должны появиться сниппеты турбо магазина mosmexa.ru
        если сниппетов нет, задайте запрос с другими товарами из магазина
        например 'site:mosmexa.ru куртка', пока не появится турбо сниппет
    - do: кликните в тайтл сниппета
    - assert: |
        открылся турбо магазин
        по запросу выше, может не быть листинга с товарами
        в таком случае надо кликнуть по логотипу и попасть на листинг с категориями
    - do: перейти в любой товар и кликнуть по кнопке 'Купить в 1 клик'
    - assert: появилась форма оформления заказа
    - do: заполнить поля валидными данными
    - assert: |
        например ФИО - 'test'
        Телефон - '+7 123 456-78-90'
        Email - 'test@yandex.ru'
        Адрес доставки - test
    - do: отключить интернет и отправить заказ
    - assert: появилось окно ошибки и кнопкой 'повторить'
    - do: нажать на кнопку 'повторить'
    - assert: |
        окно с ошибкой скрылось, открыта форма оформления заказа
        нашли ли вы какие-либо баги в процессе выполнения пользовательского сценария?

  Поиск товаров [manual]:
    - automation: TURBOUI-2438
    - do: получить выдачу по запросу 'site:mosmexa.ru шубы'
    - assert: |
        на выдаче должны появиться сниппеты турбо магазина mosmexa.ru
        если сниппетов нет, задайте запрос с другими товарами из магазина
        например 'site:mosmexa.ru куртка', пока не появится турбо сниппет
    - do: кликните в тайтл сниппета
    - assert: |
        открылся турбо магазин
        по запросу выше, может не быть листинга с товарами
        в таком случае надо кликнуть по логотипу и попасть на листинг с категориями
    - do: ввести в поисковую строку любой запрос
    - assert: |
        запрос ввелся в поисковую строку,
        появился крестик в конце поисковой строки
    - do: удалить запрос на кнопку крестик
    - assert: |
        поисковая строка очистилась
        крестик в конце строки пропал
    - do: ввести любой запрос и нажать на кнопку поиска
    - assert: |
        осуществился переход в каталог полного магазина с вашим запросом
        нашли ли вы какие-либо баги в процессе выполнения пользовательского сценария?

tags:
  - exploration
  - skip_manual_check
  - e-commerce

v-team: Turbo

manager: tanzwuta

qa-engineer: spv

tlds: none
