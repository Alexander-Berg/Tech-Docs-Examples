feature: Авиабилеты
type: Покупка
description: ''
specs:
    'Проверка выбора тарифов на странице варианта в десктопе':
        - do: |-
              Зайти на главную,
              На вкладке авиа ввести в поля
              * откуда - Екатеринбург
              * куда - Москва
              * туда - 5 число следующего месяца
              * обратно не заполняем
              Кликнуть "Найти"
        - assert: Произошел переход на страницу выдачи
        - do: |
              Убедиться, что выбрана сортировка Сначала рекомендуемые, по возрастанию
              Применить фильтр Авиакомпания = S7, чекбокс Комбинации авиакомпаний снять
        - assert: На выдаче остались варианты от авиакомпании S7
        - do: Кликнуть по первому сниппету (не по кнопке с ценой)
        - assert: Осуществился переход на страницу выбранного варианта
        - do: Проверить наличие багажной информации и информации о возврате
        - assert: Багажная информация и информация о возврате содержатся в сниппете в качестве значения выпадающего списка тарифов и блока тарифов в карточке рейса
        - do: Кликнуть по значению выпадающего списка
        - assert: |
              Появляется окно с выбором тарифа
              Текущий выбранный тариф выделен жёлтой рамкой
              Значения выбранного тарифа соответствуют тому, что было указано для свёрнутого выпадающего списка
              В каждом пункте выбора тарифа указаны:
              * Цена предложения с указанным тарифом
              * Значение ручной клади
              * Значение багажа
              * Значение возвратности
              Пример: https://jing.yandex-team.ru/files/gouken67/Выбор%20тарифа%20десктоп.png
        - do: |
              Выбрать соседний пункт в окне тарифов
              Запомнить данные выбранного пункта
        - assert: |
              Окно тарифов закрывается
              Значение самой дешёвой цены изменяется на то, которое было указано в выбранном пункте тарифа
              Корректно изменяются значения багажа и возвратности
              Изменяется тарифная информация в карточке рейса
        - do: Сравнить данные тарифа из выбора тарифов с тарифной информацией в карточке рейса (https://jing.yandex-team.ru/files/gouken67/Тарифная%20информация%20в%20карточке%20рейса.png)
        - assert: Данные совпадают
        - do: Кликнуть по жёлтой кнопке Купить
        - assert: |
              Происходит редирект к партнёру
              Стоимость у партнёра совпадает с тем, что было указано на выдаче (за вычетом страхования и СМС-информирования - эти доп. услуги добавляет сам партнёр. Не всегда применимо)

files:
    - tests/desktop/avia/order/order-all-tariffs-desktop.hermione.ts

Устройство:
    - Десктоп
Страница: Страница заказа
Сервис: Авиа
Тестирование асессорами: Да
Окружение:
    - Testing
    - Production
Автор: gouken67
Tag:
    - Smoke
