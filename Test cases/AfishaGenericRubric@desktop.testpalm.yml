feature: Афиша
type: Рубричный
counter: /$page/$main/$result[@wizard_name="afisha-generic-rubric"]/afisha-generic-rubric/title

import-labels:
  - src/features/Companies/Companies.features/AfishaGenericRubric/AfishaGenericRubric.test/AfishaGenericRubric@common.testpalm.yml

params:
  foreverdata: '1165583593'

specs:
  beforeEach:
    - do: получить выдачу по запросу 'foreverdata'
    - assert: появился рубричный колдунщик афиши
    - screenshot: внешний вид [afisha-generic-rubric-{{SET_NAME}} >> afisha]
  Скролл списка:
    - do: кликнуть на стрелку вправо
    - assert: список проскроллился вправо
    - assert: появились стрелка влево
    - tech: сработал счетчик  /$page/$main/$result[@wizard_name="afisha-generic-rubric"]/afisha-generic-rubric/scroller/scroll_right
    - do: кликнуть по стреле вправо еще несколько раз (чтобы достичь конца списка)
    - assert: сприсок проскроллился до конца
    - assert: видна ссылка 'Весь список'
    - screenshot: внешний вид ссылки в конце списка [more]
    - do: кликнуть по ссылке 'Весь список'
    - assert: ссылка открылась в новой вкладке
    - tech: сработал счетчик /$page/$main/$result[@wizard_name="afisha-generic-rubric"]/afisha-generic-rubric/scroller/more
  Гринурл:
    - do: кликнуть по ссылке гринурла
    - assert: ссылка открылась в новой вкладке
    - tech: сработал счетчик /$page/$main/$result[@wizard_name="afisha-generic-rubric"]/afisha-generic-rubric/path/urlnav

v-team: VanillaGeo
files:
  - src/features/Companies/Companies.features/AfishaGenericRubric/AfishaGenericRubric.test/AfishaGenericRubric@desktop.hermione.js

tlds: all
