feature: Hotels / Колдунщик одной организации
type: Стандартный вид

specs:
  beforeEach:
    - do: получить выдачу по запросу 'radisson collection' _ALTERNATIVE_SEARCH_QUERIES_
    - assert: на выдаче есть карточка отеля
    - assert: в карточке есть врезка 'Цены на номера'

  Внешний вид офферов на главном табе:
    - screenshot: внешний вид врезки 'Цены на номера' [cols-12]
    - do: выставить ширину окну браузера 1230px
    - screenshot: внешний вид врезки 'Цены на номера' [cols-10]
    - do: выставить ширину окну браузера 1130px
    - screenshot: внешний вид врезки 'Цены на номера' [cols-8]
    - do: выставить ширину окну браузера 1030px
    - screenshot: внешний вид врезки 'Цены на номера' [cols-6]

  Ссылка оффера ведет на портал Путешествий:
    - do: кликнуть по первому офферу
    - tech: сработал счётчик '/$page/$parallel/$result/tabs/about/hotel_prices/hotels-form/list/hotel_offers/result'
    - assert: открылась страница партнёра с офферами отеля

  Партнеры не дублируются после перезапроса:
    - browsers: chrome-desktop
    - do: кликнуть в таб "Номера"
    - assert: загрузились офферы
    - do: кликнуть в таб "Про отель"
    - assert: в блоке Цены на номера у всех офферов разные партнеры

  В табе Про отель в попапе есть офферы на длительную поездку:
    - browsers: chrome-desktop
    - do: кликнуть в дату выезда
    - assert: открылся календарь
    - do: |
        выбрать даты в следующем месяце с певрого числа
        с первого дня второй недели
        до последнего дня третьей недели
    - do: кликнуть в кнопку выбора гостей
    - assert: открылось меню выбора количества гостей
    - do: кликнуть в кнопку "Показать"
    - assert: |
        открылся попап с открытым табом "Номера"
        в табе "Номера" видны офферы
    - do: кликнуть в таб "Про отель"
    - assert: |
        попап переключился на таб "Про отель"
        в табе "Про отель" видны офферы

files:
  - src/features/Companies/Companies.features/OrgHotelOffers/OrgHotelOffers.test/OrgHotelOffers@desktop.hermione.js

v-team: KotTeam

counter: /$page/$parallel/$result/tabs/about/hotel_prices/hotels-form

tags:
  - skip_e2e_check
  - 1org
  - offers

tlds: all
