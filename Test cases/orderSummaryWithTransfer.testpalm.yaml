feature: Поезда
type: Подтверждение
description: |
    Бронируем места в один поезд без схемы, во второй со схемой.

    Пример ссылки на выбор мест для пересадок: https://travel-test.yandex.ru/trains/order/?adults=1&forward=P1_049А_c2_c213_2021-07-10T13.32%2CP1_070Ч_c213_c54_2021-07-11T13.50&fromId=c2&fromName=Санкт-Петербург&number=049А&provider=P1&time=13.32&toId=c54&toName=Екатеринбург&when=2021-07-10

specs:
    ЖД+ЖД Корзинка в десктопе:
        - do: Перейти на страницу выбора мест в первый поезд, для сложного заказа с пересадкой
        - do: Выбрать 1 взрослого пассажира, 1 ребенка с местом, 1 ребенка без места
        - assert: справа отображается корзинка с кнопкой Далее, заголовком "Стоимость билетов" и направлением для первого рейса
        - do: Выбрать тип вагона Плацкарт
        - do: Выбрать места
        - assert: в корзине появился цена за билеты
        - assert: появился чекбокс "Добавить постельное белье", чекбокс установлен
        - assert: стоимость Итого  равна сумме за все билеты в первом вагоне.
        - do: Нажать "Далее"
        - assert: произошел переход на страницу выбора мест во второй поезд
        - assert: в корзинке появился блок с направлением второго рейса
        - do: Выбрать любые места в плацкарте
        - assert: в корзинке появились данные о выбранных местах и стоимости
        - assert: стоимость для ребенка без места - 0 р.
        - assert: появился чекбокс "Постельное белье" для второго рейса, установлен
        - assert: стоимость Итого равна сумме билетов в первом и втором поезде.
        - do: Снять чекбокс "Постельное белье" для второго рейса
        - assert: чекбокс снялся
        - do: Нажать Указать пассажиров
        - do: Ввести любые данные
        - do: Нажать Проверить заказ и купить
        - assert: открылась страница подтверждения заказа
        - assert: в корзине есть два блока - с билетами на первый рейс и на второй
        - assert: для каждого блока есть заголовок с направлением рейса
        - assert: в блоке с билетами во второй рейс нет информации о белье, в блоке с первым рейсом есть текст "Бельё включено в стоимость"
        - assert: появилась сумма Итого, она совпадает с суммой за все билеты на оба рейса
        - do: Установить чекбокс страховки
        - assert: сумма Итого увеличилась на сумму страховки

files:
    - tests/desktop/trains/order/confirmation/orderSummaryWithTransfer/orderSummaryWithTransfer.hermione.ts

# meta
Сервис: ЖД
Страница: Подтверждение
Функциональность: ЖД+ЖД Пересадки
Устройство:
    - Десктоп
Окружение:
    - Production
    - Testing
Тестирование асессорами: Нет
