feature: Контекстное меню опросов

specs:

    Можно вызвать контекстное меню[manual]:
        - automation:
        - description: |
              Пользователь А yndx-mssngr-942/QazMssngr1
              Пользователь Б yndx-mssngr-944/QazMssngr1
              Между ними есть групповой чат "контекстное меню опросов"
              В нем есть опрос, если не нашли такой, то создать самим: курсор навести на скрепку в поле ввода -> Создать опрос -> Заполнить поля валидными данными -> клик по кнопке Создать опрос
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Вызвать контекстное меню для сообщения из description
        - assert: Появляется контекстное меню
    

    Можно вызвать мультивыбор[manual]:
        - automation:
        - description: |
              Пользователь А yndx-mssngr-942/QazMssngr1
              Пользователь Б yndx-mssngr-944/QazMssngr1
              Между ними есть групповой чат "контекстное меню опросов"
              В нем есть опрос, если не нашли такой, то создать самим: курсор навести на скрепку в поле ввода -> Создать опрос -> Заполнить поля валидными данными -> клик по кнопке Создать опрос
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Вызвать контекстное меню для сообщения из description
        - assert: Появляется контекстное меню
        - do: Убедиться что есть пункта Выбрать
        - assert: есть пункт Выбрать
        - do: Выбрать пункт  выбрать
        - assert: Открыввается мультивыбор и можно скопировать и удалить опрос 

    Нельзя выделить сообщение в мультивыборе, если его вызвали изначально для другого сообщения[manual]:
        - automation:
        - description: |
              Пользователь А yndx-mssngr-942/QazMssngr1
              Пользователь Б yndx-mssngr-944/QazMssngr1
              Между ними есть групповой чат "контекстное меню опросов"
              В нем есть опрос, если не нашли такой, то создать самим: курсор навести на скрепку в поле ввода -> Создать опрос -> Заполнить поля валидными данными -> клик по кнопке Создать опрос
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Вызвать контекстное меню для текстового сообщения (можно самому его отправить, если не нашли в чате) и выбрать Выбрать
        - assert: Вызвался мультивыбор
        - do: Тапнуть напротив опроса
        - assert: Опрос выделяется 
    

    Можно выставить реакцию на опрос[manual]:
        - automation:
        - description: |
              Пользователь А yndx-mssngr-942/QazMssngr1
              Пользователь Б yndx-mssngr-944/QazMssngr1
              Между ними есть групповой чат "контекстное меню опросов"
              В нем есть опрос, если не нашли такой, то создать самим: курсор навести на скрепку в поле ввода -> Создать опрос -> Заполнить поля валидными данными -> клик по кнопке Создать опрос
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Вызвать контекстное меню для сообщения из **description**
        - assert: Появляется контекстное меню
        - do: Выставить реакцию для опроса
        - assert: Реакция выставляется для опроса
    

    Можно скопироват ссылку на опрос, если чат публичный[manual]:
        - automation:
        - description: |
              Пользователь А yndx-mssngr-942/QazMssngr1
              Пользователь Б yndx-mssngr-944/QazMssngr1
              Между ними есть групповой чат "контекстное меню опросов"
              В нем есть опрос, если не нашли такой, то создать самим: курсор навести на скрепку в поле ввода -> Создать опрос -> Заполнить поля валидными данными -> клик по кнопке Создать опрос
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Вызвать контекстное меню для сообщения из description
        - assert: Появляется контекстное меню
        - do: Тапнуть на пункт меню "Ссылка на сообщение"
        - assert: Ссылка скопирована в буфер
        - do: Отправить ссылку пользователю Б
        - assert: Ссылка оправлена
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат с пользователем А и перейти по ссылке
        - assert: Открывается чат из description на нужном опросе
    

    Можно удалить опрос[manual]:
        - automation:
        - description: |
              Пользователь А yndx-mssngr-942/QazMssngr1
              Пользователь Б yndx-mssngr-944/QazMssngr1
              Между ними есть групповой чат "контекстное меню опросов"
              В нем есть опрос, если не нашли такой, то создать самим: курсор навести на скрепку в поле ввода -> Создать опрос -> Заполнить поля валидными данными -> клик по кнопке Создать опрос
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Тап по кнопке со скрепкой.
        - assert: Навести курсор на кнопку со скрепкой
        - do: Тапнуть на "Создать опрос"
        - assert: Открывается экран "Новый опрос".Фокус сразу установлен в поле Тема
        - do: Ввести N слов в поле тема
        - assert: Слова введены
        - do: создать 2 варианта ответов, вводя в каждый вариант по N слов
        - assert: 2 варианта ответов созданы
        - do: СОздать опрос и убедиться что он корректно отображается
        - assert: Опрос создан и корректно отображается
        - do: Вызвать контекстное меню для только что созданного опроса и выбрать Удалить
        - assert: Опрос удаляется
    

    Можно пожаловаться на опрос[manual]:
        - automation:
        - description: |
              Пользователь А yndx-mssngr-942/QazMssngr1
              Пользователь Б yndx-mssngr-944/QazMssngr1
              Между ними есть групповой чат "контекстное меню опросов"
              В нем есть опрос, если не нашли такой, то создать самим: курсор навести на скрепку в поле ввода -> Создать опрос -> Заполнить поля валидными данными -> клик по кнопке Создать опрос
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Вызвать контекстное меню для сообщения из description
        - assert: Появляется контекстное меню
        - do: Выбрать “Пожаловаться”
        - assert: Появляется контекстное меню выбора жалобы c пунктами “Спам” и “Неуместный материал”
    

    Админ чата может запинить свой опрос[manual]:
        - automation:
        - description: |
              Пользователь А yndx-mssngr-942/QazMssngr1
              Пользователь Б yndx-mssngr-944/QazMssngr1
              Между ними есть групповой чат "контекстное меню опросов"
              В нем есть опрос от пользователя Б, если не нашли такой, то создать самим: курсор навести на скрепку в поле ввода -> Создать опрос -> Заполнить поля валидными данными -> клик по кнопке Создать опрос
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Вызвать контекстное меню для сообщения из description
        - assert: Появляется контекстное меню
        - do: Кликнуть "Закрепить сообщение"
        - assert: В окне чата под шапкой чата появилась плашка закрепленного сообщения.
    
    Админ чата может запинить  собеседника опрос[manual]:
        - automation:
        - description: |
              Пользователь А yndx-mssngr-942/QazMssngr1
              Пользователь Б yndx-mssngr-944/QazMssngr1
              Между ними есть групповой чат "контекстное меню опросов"
              В нем есть опрос, если не нашли такой, то создать самим: курсор навести на скрепку в поле ввода -> Создать опрос -> Заполнить поля валидными данными -> клик по кнопке Создать опрос
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Вызвать контекстное меню для сообщения из description
        - assert: Появляется контекстное меню
        - do: Кликнуть "Закрепить сообщение"
        - assert: В окне чата под шапкой чата появилась плашка закрепленного сообщения.
    
    Не админ чата не может запинить свой опрос[manual]:
        - automation:
        - description: |
              Пользователь А yndx-mssngr-942/QazMssngr1
              Пользователь Б yndx-mssngr-944/QazMssngr1
              Между ними есть групповой чат "контекстное меню опросов"
              В нем есть опрос от пользователя Б, если не нашли такой, то создать самим: курсор навести на скрепку в поле ввода -> Создать опрос -> Заполнить поля валидными данными -> клик по кнопке Создать опрос
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Вызвать контекстное меню для сообщения из description
        - assert: Появляется контекстное меню
        - do: Убедиться что нет возможности закрепить опрос
        - assert: Не админ не  может закрепить опрос
    

    Можно переголосовать [manual]:
        - automation:
        - description: |
              Пользователь А yndx-mssngr-942/QazMssngr1
              Пользователь Б yndx-mssngr-944/QazMssngr1
              Между ними есть групповой чат "контекстное меню опросов"
              В нем есть опрос, если не нашли такой, то создать самим: курсор навести на скрепку в поле ввода -> Создать опрос -> Заполнить поля валидными данными -> клик по кнопке Создать опрос
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Навести курсор на кнопку со скрепкой.
        - assert: Открывается меню
        - do: Тапнуть на "Создать опрос"
        - assert: Открывается экран "Новый опрос".Фокус сразу установлен в поле Тема
        - do: Ввести N слов в поле тема
        - assert: Слова введены
        - do: Создать 2 варианта ответов, вводя в каждый вариант по N слов
        - assert: 2 варианта ответов созданы
        - do: Создать опрос
        - assert: Опрос создан
        - do: Проголосовать за любой вариант
        - assert: Проголосовано за тот вариант который выбрали
        - do: Вызвать контекстное меню для сообщения из description
        - assert: Появляется контекстное меню
        - do: Выбрать "Переголосовать"
        - assert: Результаты выбора скидываются
    

    Можно включить/выключить важность для опроса[manual]:
        - automation:
        - description: |
              Пользователь А yndx-mssngr-942/QazMssngr1
              Пользователь Б yndx-mssngr-944/QazMssngr1
              Между ними есть групповой чат "контекстное меню опросов"
              В нем есть опрос, если не нашли такой, то создать самим: курсор навести на скрепку в поле ввода -> Создать опрос -> Заполнить поля валидными данными -> клик по кнопке Создать опрос
        - do: Авторизоваться пользователем А, введя корректные логин/пароль.
        - assert: Авторизация прошла успешно.
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Навести курсор на кнопку со скрепкой.
        - assert: Открывается меню
        - do: Тапнуть на "Создать опрос"
        - assert: Открывается экран "Новый опрос".Фокус сразу установлен в поле Тема
        - do: Ввести N слов в поле тема
        - assert: Слова введены
        - do: создать 2 варианта ответов, вводя в каждый вариант по N слов
        - assert: 2 варианта ответов созданы
        - do: Включить чекбокс "Отметить как важное"
        - assert: Чекбокс включен
        - do: Создать опрос и убедиться что опрос оформлен как важный
        - assert: Опрос оформлен как важный
        - do: Вызвать контекстное меню для важного опроса и кликнуть по Убрать из важных
        - assert: Важность снимается с опроса
        - do: Вызвать контекстное меню для опроса и Сделать важным
        - assert: Проставляется важность для опроса
    
files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
    - chamb
