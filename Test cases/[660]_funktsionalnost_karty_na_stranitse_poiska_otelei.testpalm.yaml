feature: Отели
type: Выдача
description: ''
specs:
  Функциональность карты на странице поиска отелей:
    - do: >-
        Перейти на страницу поиска отелей с любым кол-вом гостей, городом
        местоположения, датами заезда и выезда.
    - assert: >-
        * Открылась страница поиска отелей

        * Справа на странице по высоте отображена карта с пинами

        * В правом верхнем углу карты есть кнопки зума и определения локации

        * Слева над картой есть кнопка "Развернуть карту"

        * В правом нижнем углу карты включен чекбокс “Искать при изменении
        карты”

        https://jing.yandex-team.ru/files/rifat-k/2019-12-19_16-43-39.png
    - do: Кликнуть на карте по кнопке "+"
    - assert: >-
        * Размеры карты остались теми же

        * Увеличился масштаб ранее отображенной области

        * В правом нижнем углу карты осталась галочка “Искать при изменении
        карты”
    - do: Увеличить до максимума зум на карте через колесико мыши или тачпад
    - assert: |-
        * Размеры карты остались теми же
        * Максимально увеличился масштаб ранее отображенной области
        * Кнопка "+" неактивна
    - do: Кликнуть на карте  по кнопке "-"
    - assert: |-
        * Размеры карты остались теми же
        * Уменьшился масштаб ранее отображенной области
        * Кнопки "+", "-" активны
    - do: Уменьшить до минимума зум на карте через колесико мыши или тачпад
    - assert: >-
        * Размеры карты остались теми же

        * Карта отображена в разрезе городов, один из которых является городом
        местоположения

        * Кнопка “-” неактивна
    - do: >-
        Кликнуть по значку локации на карте (если браузер попросит доступ к
        местоположению, согласиться)
    - assert: >-
        * Масштаб карты увеличился

        * На карте отобразилось верное местоположение (при использовании VPN или
        особенностей подключения к интернету местоположение может не совпадать с
        фактическим)

        * Локация обозначена значком "Я"
    - do: На карте снять галочку "Искать при изменении карты”
    - assert: |-
        - Галочка снялась
        - На карте ничего не изменилось
    - do: Промотать в любую сторону содержимое карты
    - assert: >-
        - Карта не изменилась в размерах

        - Содержимое карты сместилось

        - Новые пины не появились

        - Галочка "Искать при изменении карты” изменилась на кнопку "Искать в
        этом регионе"
    - do: На карте нажать на кнопку "Искать в этом районе"
    - assert: >-
        - Кнопка "Искать в этом районе" сменилась на _отжатую_ галочку “Искать
        при изменении карты”

        - На карте появились синие пины отелей с ценами
    - do: Вновь переместить карту в любую сторону
    - assert: Как и на шаге 8
    - do: >-
        Нажать на кнопку ”Искать в этом регионе", а затем поставить галочку в
        чекбоксе “Искать при изменении карты”
    - assert: |-
        - галочка в чекбоксе нажата
        - на карте прогрузились пины
    - do: Переместить карту в любую сторону
    - assert: >-
        - Содержимое карты изменилось

        - На карте несколько секунд нет пинов

        - На карте могут мерцать синие точки, которые в последствии превращаются
        в пины

        - На карте могут остаться синие точки (это нормально)


        https://jing.yandex-team.ru/files/rifat-k/3VTMA1NIrK.mp4
manual: true
Функциональность: Бронирование
Устройство: Десктоп
Страница: Выдача
Сервис: Отели
Тестирование асессорами: Да
Окружение: Testing
Автор: iliasova
