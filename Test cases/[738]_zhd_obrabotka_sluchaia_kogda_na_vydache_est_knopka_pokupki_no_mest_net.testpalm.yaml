feature: ЖД
type: Выбор мест
description: >-
  Бывает такой случай, что на выдаче есть кнопка покупки, но мест нет. Это
  происходит из-за кеша. Происходит он редко, но его нужно проверять.

  Перейти на главную сервиса

  Перейти на вкладку Ж/Д билеты
specs:
  'ЖД: Обработка случая, когда на выдаче есть кнопка покупки, но мест нет':
    - do: >-
        Открыть какую-нибудь выдачу, для популярного направления, например,
        Москва - Санкт-Петербург на сегодня
    - do: >-
        Найти на выдаче поезд, для которого осталось мало свободных мест (меньше
        5-10)
    - do: >-
        Кликнуть для этого поезда по кнопке покупки (кнопка может называться по
        разному, сейчас называется "Выбрать место")
    - assert: |-
        * Осуществился переход на страницу выбора мест
        * Есть места для выбора
    - do: >-
        Открыть эту же выдачу в соседней вкладке и забронировать все свободные
        места для этого поезда (важно помнить, что бронь действует только 15
        минут)
    - do: >-
        Вернуться на выдачу в первой вкладке и кликнуть по кнопке покупки для
        поезда, у которого бронировали места
    - assert: >-
        * Осуществился переход на страницу выбора мест

        * На странице есть блок и информацией о поезде и сообщение: На заданном
        направлении (или поезде) мест нет
manual: true
Функциональность: Разное по странице выбора мест
Устройство: Десктоп
Страница: Выбор мест
Сервис: ЖД
Тестирование асессорами: Да
Окружение:
  - Production
  - Testing
Автор: shenfeld
