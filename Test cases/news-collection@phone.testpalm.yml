feature: Карточка коллекций

specs:
  Внешний вид:
    - params:
        foreverdata: '87165177'
    - do: получить выдачу по запросу 'foreverdata' и кликнуть в заголовок первого сниппета (название заголовка Тестовая страница для компонента NewsCardSheCollection — Турбо)
    - screenshot: внешний вид соответствует скриншоту [sport]
    - screenshot: внешний вид соответствует скриншоту [scroll]

  обрезает длинный заголовок:
    - params:
        foreverdata: '2757365361'
    - do: получить выдачу по запросу 'foreverdata' и кликнуть в заголовок первого сниппета (название заголовка Тестовая страница для компонента NewsCardSheCollection с длинным заголовком — Турбо)
    - screenshot: заголовок соответствует скриншоту [plain]


  Спорта может отображаться в рубрике Главное [manual]:
    - automation: NERPA-8437
    - do: перейти в рубрику Главное
    - do: проскроллить рубрику
    - assert: |
        в ленте есть карточки Я.Коллекций,
        карточка содержит заголовок, превью фото из коллекции, метку 'Коллекции', иконку лайка и счетчик лайков (счетчик со значением 0 не отображается),
        карточка Я.Коллекций не располагается первой в рубрике,
        скрин https://jing.yandex-team.ru/files/nightsonne/2019-07-31_13-59-03.png
    - do: тапнуть по метке 'Коллекции'
    - assert: метка некликабельна
    - do: просвайпать фото в карточке коллекций влево и вправо
    - assert: |
        фото в карточке листаются влево-вправо,
        в карточке 10 фото, все фото одинакового размера,
        тематика всех фото соответствует заголовку коллекции,
        в конце располагается кнопка перехода в виде стрелки перехода к полной коллекции и надпись 'Еще N фото',
        скрин https://jing.yandex-team.ru/files/nightsonne/2019-07-31_14-00-58.png
# Заметка - спросить про 10 фоток - by design или нет
    - do: тапнуть на кнопку перехода к полной коллекции
    - assert: в отдельной вкладке открывается соответствующая коллекция на сервисе Яндекс.Коллекции
    - do: вернуться к карточке коллекций
    - do: тапнуть на заголовок карточки коллекций
    - assert: в отдельной вкладке открывается соответствующая коллекция на сервисе Яндекс.Коллекции
#    - do: перейти в каждую рубрику
#    - assert: в каждой рубрике могут отображаться коллекции (но отображаются они не всегда - только если пришли данные. Если коллекций нет - это норма)
# Выпилено бэком. Оставлю шаги на времена, когда карточки туда вернут (когда мы сможем фильтровать карточки по содержанию для рубрик, чтоб соответствовать тематике рубрик

  Спорта позволяет открыть фото из коллекции на просмотр [manual]:
    - automation: NERPA-8437
    - do: перейти в рубрику Главное
    - do: проскроллить рубрику
    - assert: в ленте есть карточки Я.Коллекций
    - do: тапнуть на любое фото в карточке коллекций
    - assert: |
        фото открывается на просмотр на черном фоне в том же окне,
        просмотрщик содержит счетчик вверху 'N из 10', стрелку возврата назад и кнопку 'Посмотреть в Коллекциях',
        скрин https://jing.yandex-team.ru/files/nightsonne/2019-07-31_14-04-51.png
    - do: посвайпать фото влево-вправо
    - assert: фото листаются, счетчик корректно меняет значение N
    - do: тапнуть на кнопку 'Посмотреть в Коллекциях'
    - assert: в отдельной вкладке открывается фото на сервисе Яндекс.Коллекции
    - do: вернуться назад
    - assert: происходит возврат к фото в просмотрщике
    - do: тапнуть на стрелку возврата назад в верхнем левом углу
    - assert: происходит возврат к рубрике Главное на карточку коллекций к тому фото, с которого был переход
    - do: (далее шаги для Android) тапнуть на любое фото в карточке коллекций
    - assert: |
        фото открывается на просмотр на черном фоне в том же окне,
        просмотрщик содержит счетчик вверху 'N из 10', стрелку возврата назад и кнопку 'Посмотреть в Коллекциях'
    - do: тапнуть на аппаратную кнопку возврата назад
    - assert: происходит возврат к рубрике Главное на карточку коллекций к тому фото, с которого был переход
    
files:
  - platform/components/NewsCollection/__tests__/news-collection@phone.hermione.js

v-team: Sport

manager: glushneva

qa-engineer: nightsonne

tlds:
  - ru
  - ua
  - by
  - kz
  - uz
  - com
