feature: Отправка картинок с панели

specs:

    Картинка сразу же отравляется при нажатии на нее[manual]:
        - automation:
        - descripttion: У авторизованного пользователя есть приватный / групповой чат
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открылся
        - do: Кликнуть ЛКМ/Тапнуть на иконку "смайлика" в поле ввода
        - assert: |
              Появляется панель, в которой есть три таба "Стикеры", "Эмодзи" и "Картинки"
              Открыта вкладка со стикерами
        - do: Нажать на вкладку "Картинки"
        - assert: |
              Открыта вкладка с картинками
              Под названием вкладок есть поле поиска с плейсхолдером "Поиск по картинкам"
              Под полем поиска есть загрузившиеся картинки
        - do: Тапнуть/Кликнуть ЛКМ на любую картинку из загрузившихся в панели
        - assert: Выбранная картинка сразу же отравляется и появляется в окне чата

    Картинка загрузившееся по реузльтатам поиска сразу же отравляется при нажатии на нее[manual]:
        - tags: [advanced_smoke]
        - automation:
        - descripttion: У авторизованного пользователя есть приватный / групповой чат
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открылся
        - do: Кликнуть ЛКМ/Тапнуть на иконку "смайлика" в поле ввода
        - assert: |
              Появляется панель, в которой есть три таба "Стикеры", "Эмодзи" и "Картинки"
              Открыта вкладка со стикерами
        - do: Нажать на вкладку "Картинки"
        - assert: |
              Открыта вкладка с картинками
              Под названием вкладок есть поле поиска с плейсхолдером "Поиск по картинкам"
              Под полем поиска есть загрузившиеся картинки
        - do: В поле поиска ввести слово "привет"
        - assert: |
              Слово введено в поле ввода
              В панели картинок обновились загрузившиеся картинки
        - do: Тапнуть/Кликнуть ЛКМ на любую картинку из загрузившихся в панели
        - assert: Выбранная картинка сразу же отравляется и появляется в окне чата

    Картинка отправляется как важная при нажатии на нее, если в момент отправки в поле ввода нажали на "звездочку"[manual]:
        - automation:
        - descripttion: У авторизованного пользователя есть приватный / групповой чат
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открылся
        - do: Нажать на "Звездочку" в поле ввода
        - assert: |
              Зведочка в поле ввода была выделена
              Появился тост с текстом "Сообщение будет помечено важным"
        - do: Кликнуть ЛКМ/Тапнуть на иконку "смайлика" в поле ввода
        - assert: |
              Появляется панель, в которой есть три таба "Стикеры", "Эмодзи" и "Картинки"
              Открыта вкладка со стикерами
        - do: Нажать на вкладку "Картинки"
        - assert: |
              Открыта вкладка с картинками
              Под названием вкладок есть поле поиска с плейсхолдером "Поиск по картинкам"
              Под полем поиска есть загрузившиеся картинки
        - do: Тапнуть/Кликнуть ЛКМ на любую картинку из загрузившихся в панели
        - assert: |
              Выбранная картинка сразу же отравляется и появляется в окне чата
              Изображение выдленено и помеченно как важное

    Картинка отправляется с текстом, если в момент отпарвки изобраежния в поле ввода был введен текст[manual]:
        - automation:
        - descripttion: У авторизованного пользователя есть приватный / групповой чат
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открылся
        - do: Ввести в поле ввода любой текст
        - assert: Текст введен и отображается в поле ввода
        - do: Кликнуть ЛКМ/Тапнуть на иконку "смайлика" в поле ввода
        - assert: |
              Появляется панель, в которой есть три таба "Стикеры", "Эмодзи" и "Картинки"
              Открыта вкладка со стикерами
        - do: Нажать на вкладку "Картинки"
        - assert: |
              Открыта вкладка с картинками
              Под названием вкладок есть поле поиска с плейсхолдером "Поиск по картинкам"
              Под полем поиска есть загрузившиеся картинки
        - do: Тапнуть/Кликнуть ЛКМ на любую картинку из загрузившихся в панели
        - assert: |
              Выбранная картинка сразу же отравляется и появляется в окне чата
              Картинка была отправлена с подписью
              В качестве подписи к картинке - стал текст введенный ранее в поле ввода

    Можно ответить на сообщение картинкой, если в момент отпарвки изобраежния над полем ввода была плашка Reply[manual]:
        - automation:
        - descripttion: У авторизованного пользователя есть приватный / групповой чат, в истории которого есть сообщения
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открылся
        - do: Вызвать контекстное меню для любого сообщения и выбрать "Ответить"
        - assert: Над полем ввода появилась плашка Reply
        - do: Кликнуть ЛКМ/Тапнуть на иконку "смайлика" в поле ввода
        - assert: |
              Появляется панель, в которой есть три таба "Стикеры", "Эмодзи" и "Картинки"
              Открыта вкладка со стикерами
        - do: Нажать на вкладку "Картинки"
        - assert: |
              Открыта вкладка с картинками
              Под названием вкладок есть поле поиска с плейсхолдером "Поиск по картинкам"
              Под полем поиска есть загрузившиеся картинки
        - do: Тапнуть/Кликнуть ЛКМ на любую картинку из загрузившихся в панели
        - assert: В чат был отправлен Reply с кртинкой

    Можно добавить подпись к Forward картинкой, если в момент отпарвки изобраежния над полем ввода была плашка Forward[manual]:
        - automation:
        - descripttion: У авторизованного пользователя есть приватный / групповой чат, в истории которого есть сообщения
        - do: Запустить тестовое приложение и открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открылся
        - do: Вызвать контекстное меню для любого сообщения и выбрать "Переслать"
        - assert: Появился список чатов для пересылки сообщения
        - do: Выбрать любой чат
        - assert: |
              Открыто окно выбранного чата
              Над полем ввода появилась плашка Forward
        - do: Кликнуть ЛКМ/Тапнуть на иконку "смайлика" в поле ввода
        - assert: |
              Появляется панель, в которой есть три таба "Стикеры", "Эмодзи" и "Картинки"
              Открыта вкладка со стикерами
        - do: Нажать на вкладку "Картинки"
        - assert: |
              Открыта вкладка с картинками
              Под названием вкладок есть поле поиска с плейсхолдером "Поиск по картинкам"
              Под полем поиска есть загрузившиеся картинки
        - do: Тапнуть/Кликнуть ЛКМ на любую картинку из загрузившихся в панели
        - assert: В чат был отправлен Forward с подписью (в качестве подписи является отправленная картинка)

    Полученное изображение корректно отображается в окне чата[manual]:
        - automation:
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом можно авторизоваться в другом браузере / на девайсе
              Необходимо также иметь два аккаунта - пользователь А (проверяемый) авторизован на первом устройстве, пользователь Б (вспомогательный) - на втором
              Между пользователем А и Пользователем Б есть общий приватный/групповой чат
        - do: Под пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: В другом браузере под пользователем Б в списке чатов открыть чат из предыдущего шага
        - assert: Чат открыт
        - do: Пользователем Б отправить картинку (через панель) в чат из предыдущего пункта
        - assert: У Пользователя А в окне чата отображается отправленная картинка

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
