feature: Рубрикатор

description: Данная функциональность позволяет пользователю осуществлять навигацию между основными разделами сервиса (рубриками).

specs:
  отображается корректно при повороте девайса:
    - do: в портретной ориентации проскроллить рубрикатор вправо до конца
    - assert: рубрики скроллятся вправо
    - do: проскроллить рубрикатор влево до конца
    - assert: рубрики скроллятся влево
    - do: проскроллить рубрикатор вправо, перейти в крайнюю правую рубрику в рубрикаторе
    - do: повернуть девайс в ландшафтную ориентацию
    - assert: |
        верстка корректно перестраивается,
        активная рубрика находится в видимой части экрана
        внешний вид для браузера https://jing.yandex-team.ru/files/terenandrevna/2020-05-19_11.46.06-pBqyY.png
        внешний вид для ПП https://jing.yandex-team.ru/files/nightsonne/photo_2020-06-25_10-37-34.jpg

  залипает при скролле в рубрике:
    - do: открыть страницу рубрики
    - do: поскроллить страницу вниз
    - assert: |
        рубрикатор залипает, остается в области видимости
        внешний вид соответствует скриншоту [rubric-rubricator-sticky]

  залипает при скролле в сюжете:
    - do: открыть страницу сюжета
    - do: поскроллить страницу вниз
    - assert: |
        рубрикатор залипает, остается в области видимости
        внешний вид соответствует скриншоту [story-rubricator-sticky]

  выделяет активную рубрику в сюжете и подрубрике:
    - tags:
        - backend_news
    - do: открыть страницу рубрики "Технологии", перейти в любой сюжет
    - assert: в открывшемся сюжете в рубрикаторе выделена и центрирована рубрика "Технологии" (ВНИМАНИЕ! При проверке на ff (андроид) рубрика может не центрироваться - баг заводить не нужно, достаточно просто проверить тот факт, что рубрика в рубрикаторе выделена)
    - do: перейти в подрубрику "Интернет" по прямой ссылке в той же вкладке https://yandex.ru/news/rubric/internet
    - assert: в открывшейся подрубрике в рубрикаторе выделена и центрирована рубрика "Технологии"
    - do: перейти в любой сюжет в текущей подрубрике
    - assert: в открывшемся сюжете в рубрикаторе выделена и центрирована рубрика "Технологии"

  не залипает при скролле ленты в вертикали ПП:
    - tags:
        - pp_only
    - params:
        vertical: '1'
        appsearch_header: '1'
    - do: открыть персональную ленту Новостей в вертикали ПП 'https://yandex.ru/news/rubric/personal_feed?vertical=1&appsearch_header=1'
    - assert: ссылки на сюжеты открываются в новой вкладке
    - do: отскролить страницу к первой карточке
    - screenshot: видимая область экрана соответствует скриншоту [feed]

  залипает при скролле сюжета в табе ПП Айос:
    - tags:
        - pp_only
    - params:
        appsearch_header: '1'
    - do: открыть сюжет Новостей в табе ПП 'https://yandex.ru/news/story/l--9bf6b5aa104ebe02d24318722dc3cbd2?appsearch_header=1'
    - do: отскролить страницу к сюжету
    - screenshot: видимая область экрана соответствует скриншоту [story-ios]

  не залипает при скролле сюжета в табе ПП Андроид:
    - tags:
        - pp_only
    - params:
        appsearch_header: '1'
    - do: открыть сюжет Новостей в табе ПП 'https://yandex.ru/news/story/l--9bf6b5aa104ebe02d24318722dc3cbd2?appsearch_header=1'
    - do: отскролить страницу к сюжету
    - screenshot: видимая область экрана соответствует скриншоту [story-android]

files:
  - features/news/rubricator/rubricator.phone.hermione.js

tags:
  - neo
  - rubricator

manager: mrwhite

qa-engineer: nightsonne

tlds:
  - ru
  - by
  - kz
  - uz
  - ua
  - com
