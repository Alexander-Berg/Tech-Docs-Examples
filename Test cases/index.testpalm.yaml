feature: Авиабилеты
type: Главная
description: Проверка корретности загрузки главной страницы и ее элементов

specs:
    Отображаются популярные авиа направления:
        - do: Зайти на главную страницу авиабилетов
        - assert: На странице есть блок “Дешёвые авиабилеты на популярные направления”

    Популярные авиа направления соотвествуют геолокации пользователя:
        - do: Зайти на главную страницу авиабилетов с предустановленным местоположением пользователя
        - assert: |
              В блоке “Дешёвые авиабилеты на популярные направления” отображаются популярные направления.
              В заголовке указан "Вылет из ..." с городом с ближайшим аэропортом

    Заполнение и отправка формы поиска авиабилетов с переходом на поисковую выдачу:
        - do: Зайти на главную страницу авиабилетов
        - do: Заполнить поля "Откуда" и "Куда" любым направлением
        - do: Заполнить поле "Туда" завтрашней датой
        - do: Заполнить поле "Обратно" завтрашней датой плюс неделя
        - do: Указать пассажира взрослого, ребенка и младенца в бизнес класс
        - do: Нажать "Найти"
        - assert: Осуществился переход на поисковую выдачу с соответствующим запросом

    По умолчанию выбрана вкладка авиабилетов:
        - do: Перейти на главную портала
        - assert: по умолчанию активирована вкладка авиабилетов

    Поиск рейсов без выбора количества пассажиров:
        - do: в поле откуда ввести Екатеринбург
        - do: куда - Москва
        - do: дата туда - послезавтра
        - do: дату обратно не заполняем
        - do: Нажать “Найти”
        - assert: |
            Произошел переход на https://travel-test.yandex.ru/avia/search/result/...,
            В параметрах урла
            adult_seats=1
            children_seats=0
            infant_seats=0

    Поиск рейсов c выбором количества пассажиров:
        - do: в поле откуда ввести Екатеринбург
        - do: куда - Москва
        - do: дата туда - послезавтра
        - do: дату обратно не заполняем
        - do: Изменить кол-во пассажиров взрослые - 3, дети -1, младенцы - 2
        - do: Нажать “Найти”
        - assert: |
            Произошел переход на https://travel-test.yandex.ru/avia/search/result/...
            В параметрах урла
            adult_seats=3
            children_seats=1
            infant_seats=2

files:
    - tests/common/avia/index/index.hermione.ts

tags: smoke

# meta
Сервис: Авиа
Страница: Главная
Функциональность: Форма поиска
Устройство:
    - Десктоп
    - Тач
Окружение:
    - Testing
Тестирование асессорами: Да
