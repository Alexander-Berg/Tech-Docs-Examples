feature: Спорт

specs:
  Видео - Проверка листалки:
    params:
      foreverdata: '836218423'
    beforeEach:
      - do: получить выдачу по запросу "foreverdata"
      - assert: на выдаче присутствует колдунщик футбольного матча
      - assert: в колдунщике присутствует 2 ряда видеороликов
    Первый ряд:
      - tags:
        - pp_new_core
      - do: свайпнуть первый ряд видео справа налево
      - assert: тумбы проскроллились
      - tech: сработал счетчик '/tab_video/p0/showcase/scroll'
      - do: свайпнуть первый ряд видео слева направо
      - assert: тумбы проскроллились
      - tech: сработал счетчик '/tab_video/p0/showcase/scroll'
      - assertMetrics: '*'
    Второй ряд:
      - do: свайпнуть второй ряд видео справа налево
      - assert: тумбы проскроллились
      - tech: сработал счетчик '/tab_video/p1/showcase/scroll'
      - do: свайпнуть второй ряд видео слева направо
      - assert: тумбы проскроллились
      - tech: сработал счетчик '/tab_video/p1/showcase/scroll'
      - assertMetrics: '*'
  Кликабельная ссылка на стадион:
    - params:
        foreverdata: '1499478235'
    - do: получить выдачу по запросу "foreverdata"
    - do: нажать на название стадиона
    - assert: открылась выдача по соответствующему запросу
    - tech: сработал счетчик '/$page/$main/$result/stadiums'
  Подробности матча:
    Расширенные - ссылки на игроков:
      - params:
          foreverdata: '1015234137'
      - do: получить выдачу по запросу "foreverdata"
      - assert: на выдаче присутствует колдунщик футбольного матча
      - do: нажать на таб "Ход матча"
      - assert: контент таба переключился
      - do: нажать на первую ссылку икрока
      - assert: открылась выдача по соответствующему запросу
      - tech: сработал счетчик '/$page/$main/$result/tabs/tab_match/events/body/p0/player'
  Расстановка - ссылка игрока:
    - tags:
        - pp_new_core
    - params:
        foreverdata: '3004760910'
    - do: получить выдачу по запросу "foreverdata"
    - assert: на выдаче присутствует колдунщик футбольного матча
    - do: нажать на таб "Состав"
    - assert: контент таба переключился
    - do: нажать на первого икрока
    - assert: открылась выдача по соответствующему запросу
    - tech: сработал счетчик '/$page/$main/$result/tabs/lineups/player'
  Внешний вид ссылки на внешний источник - по данным ФИФА:
    - params:
        foreverdata: '371924882'
    - do: получить выдачу по запросу 'foreverdata'
    - assert: колдунщик присутствует на выдаче
    - assert: справа снизу под колдунщиком видна ссылка "По данным ФИФА"
    - screenshot: 'внешний вид [with-source-link]'
    - do: нажать на ссылку
    - assert: открылась новая страница с соответствующим сайтом
    - tech: 'сработал счетчик "/$page/$main/$result[@wizard_name=\"sport/livescore\" and @subtype=\"football_match\"]/source"'
    - assertMetrics: '*'
  Настраиваемый внешний вид иконок команд:
    - params:
        foreverdata: '1634234375'
    - do: получить выдачу по запросу 'foreverdata'
    - assert: на выдаче присутствует колдунщик матча
    - screenshot: 'примерный внешний вид [with-customized-icons]'
    - assertMetrics: '-'
  Произвольная строка под основным счетом с отображением тултипа:
    - params:
        foreverdata: '4050000554'
    - do: получить выдачу по запросу 'foreverdata'
    - assert: на выдаче присутствует колдунщик матча
    - screenshot: внешний вид матча [plain]
    - do: нажать на строку под основным счетом "по сетам"
    - assert: отобразился тултип с детальным счетом
    - screenshot: внешний вид матча с тултипом [with-detailed-score-tooltip]
  Проверка табов:
    params:
      foreverdata: '2214313433'
    Внешний вид табов:
      - tags: [no_assessors]
      - do: получить выдачу по запросу 'foreverdata'
      - assert: на выдаче табы соответствуют образцу
      - screenshot: внешний вид [tabs]
  Внешний вид с кликабельными названиями команд:
    - tags:
        - pp_new_core
    - params:
        foreverdata: '1562755333'
    - do: получить выдачу по запросу 'foreverdata'
    - assert: колдунщик присутствует на выдаче
    - screenshot: внешний вид [with-title-links]
    - do: нажать на фамилию спортсмена в заголовке матча
    - assert: произошел поиск по фамилии спортсмена в той же вкладке (поиск также может происходить по имени и фамилии спортсмена)
    - teсh: сработал счетчик '/$page/$main/$result/titleLink'

v-team: Sport

tags:
  - reviewed
  - sport
  # e2e написан на common уровне features/common/sport/livescore/sport-livescore.hermione.e2e.js
  - skip_e2e_check

priority: high

files:
  - features/touch-phone/sport/livescore/sport-livescore.hermione.js

counter: '/$page/$main/$result[@wizard_name="sport/livescore"]'

tlds:
  - ru
  - by
  - ua
  - kz
  - uz
