feature: Связанные

params:
  foreverdata: '2310953522'

specs:
  beforeEach:
    - do: при дальнейшей проверке указанных ожидаемых результатов обращайте внимание на любые некорректные на ваш взгляд поведения, основываясь на свой опыт использования web-приложений (например, сохранение позиции при переходах туда-обратно кнопками на устройстве, пустые экраны при переходах, кривая верстка, скачкИ элементов, плавность скролла, неработающая функциональность и т.п.)
    - do: получить выдачу по запросу 'foreverdata' и кликнуть в заголовок первого сниппета (название заголовка Тестовая новостная страница — турбо)
    - assert: открывается турбо-страница в той же вкладке (в поисковом приложении Яндекс турбо-страница открывается в новой вкладке)
    - screenshot: внешний вид [plain]

  Обязательные проверки:
    - automation: TURBO-694
    - do: прокрутить до конца страницы до блока связанных новостей "Вам может быть интересно"
    - assert: блок связанных новостей с заголовком "Вам может быть интересно" присутсвует на странице

  Проверка ссылок в первой связанной новости:
    - tech: проверить серверный счетчик на ссылку в тайтле первой новости (/turbo/related/title)
    - tech: проверить серверный счетчик на ссылку в тумбе первой новости (/turbo/related/thumb)
    - tech: проверить клиентский счетчик на ссылку в тайтле первой новости (/turbo/related/title)
    - tech: проверить клиентский счетчик на ссылку в тумбе первой новости (/turbo/related/thumb)
    - do: прокрутить до конца страницы до блока связанных новостей с заголовком "Вам может быть интересно"
    - do: тапнуть по ссылке заголовка статьи
    - assert: связанная новость открылась в новой вкладке на сайте источника
    - do: вернуться обратно на вкладку c проверяемой странице turbo?stub=related/default.json
    - do: тапнуть на картинку в связанной новости
    - assert: связанная новость открылась в новой вкладке на сайте источника

files:
  - features/blocks/related/related.hermione.js

v-team: Turbo

manager: tanzwuta

qa-engineer: olga0321, klimovaksyu

tlds: none
