feature: Контейнер в Диалогах

import-steps:
    - tests/hermione/suites/desktop/shared-steps/backoffice.testpalm.steps.yml
    - tests/hermione/suites/desktop/shared-steps/new-dialogue.testpalm.steps.yml
    - tests/hermione/suites/desktop/shared-steps/open-backoffice.testpalm.steps.yml

tlds: ru

specs:
    beforeEach:
        - do: перейти по ссылке https://yandex.ru/chat?build=chamb&guid=7162de39-4140-455f-9c2a-5966b6d4b4b8 в режиме инкогнито
        - assert: открылся диалог с организацией
        - do: написать и отправить произвольное сообщение организации
        - do: написать и отправить большое (от 20 строк) сообщение организации
        - attach: Авторизация и открытие бэкоффиса
        - do: нажать на полученный диалог
        - do: нажать "Принять" в блоке справа
        - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/tony-prots/2019-05-21_17-09-45.png]
        - assert: в разделе "Диалоги", куда произошел переход, показывается контейнер чата

    Отображение сообщений и контекстное меню:
        - automation: YDO-6833
        - tags: smoke
        - assert: отображаются оба сообщения
        - do: кликнуть правой кнопкой мыши на полученное сообщение
        - assert: отобразилось контекстное меню полученного сообщения
        - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/ismateush/uhura_2020-07-22T20:27:25.735424.jpg]
        - do: проверить работу каждого пункта контекстного меню
        - do: отправить любое текстовое сообщение в чат
        - do: кликнуть правой кнопкой мыши на отправленние сообщение
        - assert: отобразилось контекстное меню отправленного сообщения
        - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/ismateush/uhura_2020-07-22T20:28:12.255174.jpg]
        - do: проверить работу каждого пункта контекстного меню

    Отображение времени сообщения в контейнере:
        - automation: YDO-6833
        - assert: у сообщений в контейнере подписано время отправки

    Отображение фото и имени Клиента в контейнере:
        - automation: YDO-6833
        - assert: у сообщений отображается имя отправителя (Клиент) и фото (буква К)

    Скролл в контейнере:
        - automation: YDO-6833
        - attach: Скроллы в контейнере

    При появлении истории список сообщений проскролен вниз:
        - automation: YDO-6833
        - attach: Автоскролл

files: []

v-team: Uslugi

tags:
    - no_assessors
    - skip_manual_check
    - floyd
