feature: Специальные события
type: Футбол

specs:
  Базовая функциональность:
    params:
      foreverdata: '1894907954'
    beforeEach:
      - do: получить выдачу по запросу 'foreverdata'
      - assert: на выдаче присутствует спортивный колдунщик чемпионата европы по футболу
      - screenshot: внешний вид [sport-{{PLATFORM}}-main >> special-event_football-main]
    Внешний вид:
      - tags: smoke
      - label: sport-{{PLATFORM}}-main
      - screenshot: внешний вид [special-event_football-main]
    Скролл - таблицы:
      - do: кликнуть в листалку 'Вправо' таблиц (если кнопок скролла нет, увеличить масштаб страницы до появления кнопок)
      - assert: таблицы проскроллились справа налево
      - assert: листалка 'Вправо' исчезла
      - assert: появилась листалка 'Влево'
      - tech: сработал счетчик /$page/$top/$result/scroller/scroll_right[@behaviour@type="dynamic"]
      - do: кликнуть в листалку 'Влево'
      - assert: таблицы проскроллились слева направо
      - assert: листалка 'Влево' исчезла
      - assert: появилась листалка 'Вправо'
      - tech: сработал счетчик /$page/$top/$result/scroller/scroll_left[@behaviour@type="dynamic"]
    Скролл - другие турниры:
      - do: кликнуть в листалку 'Вправо' списка других турниров (если кнопок скролла нет, увеличить масштаб страницы до появления кнопок)
      - assert: галерея проскроллилась справа налево
      - assert: листалка 'Вправо' исчезла
      - assert: появилась листалка 'Влево'
      - tech: сработал счетчик /$page/$top/$result/special-event-showcase/showcase/scroll_right[@behaviour@type="dynamic"]
      - do: кликнуть в листалку 'Влево'
      - assert: галерея проскроллилась слева направо
      - assert: листалка 'Влево' исчезла
      - assert: появилась листалка 'Вправо'
      - tech: сработал счетчик /$page/$top/$result/special-event-showcase/showcase/scroll_left[@behaviour@type="dynamic"]
    Переходы по тайтлам:
      Расписание матчей:
        - do: кликнуть в тайтл 'Расписание матчей'
        - assert: в той же вкладке открылась выдача по запросу 'Евро-2020 Расписание матчей'
        - tech: сработал счетчик /$page/$top/$result/scroller/"timetable/title"
      Турнирная таблица:
        - do: кликнуть в тайтл 'Турнирная таблица'
        - assert: в той же вкладке открылась выдача по запросу 'Евро-2020 Турнирная таблица'
        - tech: сработал счетчик /$page/$top/$result/scroller/"standings/title"
      Статистика:
        - do: кликнуть в тайтл 'Статистика игроков'
        - assert: открылась выдача по запросу 'Евро-2020 Статистика игроков'
        - tech: сработал счетчик /$page/$top/$result/scroller/"standings/title"
    Другие турниры - тумба:
      - do: кликнуть в тумбу с логотипом любого турнира в галерее 'Другие турниры'
      - assert: в той же вкладке открылась выдача по соответствующему запросу
      - tech: сработал счетчик /$page/$top/$result/special-event-showcase/showcase/item/link
    Расписание матчей:
      Финал:
        Лого левой команды:
          - do: нажать на логотип (флаг) левой команды в таблице 'Расписание матчей'
          - assert: получена выдача по запросу 'Евро-2020 – Италия'
          - tech: сработал счетчик /$page/$top/$result/scroller/sport-table/body/team/p0
        Лого правой команды:
          - do: нажать на логотип (флаг) правой команды в таблице 'Расписание матчей'
          - assert: получена выдача по запросу 'Евро-2020 – Англия'
          - tech: сработал счетчик /$page/$top/$result/scroller/sport-table/body/team/p1
        Название матча:
          - do: нажать на тайтл матча ('Италия - Англия') в таблице 'Расписание матчей'
          - assert: в новой вкладке открылся сервис Яндекс.Спорт
          - tech: сработал счетчик /$page/$top/$result/scroller/sport-table/body/timetable
        Ссылка на турнир:
          - do: нажать на тайтл турнира ('Европа-2020') под ссылкой с тайтлом матча ('Италия - Англия') в таблице 'Расписание матчей'
          - assert: открылась выдача по соответствующему запросу
          - tech: сработал счетчик /$page/$top/$result/scroller/sport-table/body/tournament
      Полуфинал:
        - do: нажать на таб 'Полуфинал' в таблице 'Расписание матчей'
        - assert: содержимое таблицы изменилось
        - assert: таблица содержит информацию о двух матчах
        - assert: таб 'Полуфинал' в таблице 'Расписание матчей' активен
        - tech: сработал счетчик /$page/$top/$result/scroller/sport-table/item
        - screenshot: внешний вид [semifinal]
      1/4 финала:
        - do: нажать на таб '1/4' в таблице 'Расписание матчей'
        - assert: содержимое таблицы изменилось
        - assert: в таблице присутствует информация о матчах 1/4 финала
        - assert: таблица содержит информацию о четырех матчах
        - assert: таб 1/4' в таблице 'Расписание матчей' активен
        - tech: сработал счетчик /$page/$top/$result/scroller/sport-table/item
        - screenshot: внешний вид [1-4-step]
      1/8 финала:
        - do: кликнуть в таб '1/8' в таблице 'Расписание матчей'
        - assert: содержимое таблицы изменилось
        - assert: в таблице присутствует информация о матчах 1/8 финала
        - assert: таблица содержит информацию о четырех матчах на одной странице
        - assert: таб '1/8' в таблице 'Расписание матчей' активен
        - assert: в нижнем правом углу таблицы появилась листалка ">"
        - tech: сработал счетчик /$page/$top/$result/scroller/sport-table/item
        - screenshot: внешний вид [1-8-step]
        - do: кликнуть в листалку ">"
        - assert: содержимое таблицы обновилось
        - assert: таблица содержит информацию о других четырех матчах
        - assert: листалка ">" исчезла
        - assert: появилась листалка "<"
        - tech: сработал счетчик /$page/$top/$result/scroller/sport-table/pager/next
        - screenshot: внешний вид [1-8-step-p2]
        - do: кликнуть в листалку "<"
        - assert: содержимое таблицы обновилось
        - assert: таблица содержит информацию о первых четырех матчаха
        - assert: листалка "<" исчезла
        - assert: в нижнем правом углу таблицы появилась листалка ">"
      Групповой этап:
        - do: кликнуть в таб 'Групповой этап' в таблице 'Расписание матчей'
        - assert: содержимое таблицы изменилось
        - assert: в таблице присутствует информация о матчах группового этапа
        - assert: таблица содержит информацию о четырех матчах на одной странице
        - assert: таб 'Групповой этап' в таблице 'Расписание матчей' активен
        - assert: в нижнем правом углу таблицы появилась листалка ">"
        - tech: сработал счетчик /$page/$top/$result/scroller/sport-table/item
        - screenshot: внешний вид [group-stage]
        - do: кликнуть на любой матч в таблице
        - assert: открылась выдача по запросу
        - tech: сработал счетчик /$page/$top/$result/scroller/sport-table/body/timetable
specs-integration:
  Наличие непустого колдунщика на выдаче:
    - do: получить выдачу по запросу "Евро 2020" (альтернативные запросы - "лига чемпионов", "рфпл", "фнл")
    - assert: на выдаче присутствует футбольный колдунщик
    - assert: в заголовке присутствует иконка мячика и название события
    - assert: под заголовком присутствуют таблицы "Расписание матчей", "Турнирная таблица", ...

tlds:
  - ru
  - by
  - uz
  - kz
  - uz

tags:
  - sport

files:
  - features/adapter-special-event/adapter-special-event_type_sport/football/adapter-special-event_football@desktop.hermione.js
  - features/adapter-special-event/adapter-special-event_type_sport/football/adapter-special-event_football@desktop.hermione.e2e.js

v-team: Sport

counter: /$page/$top/$result[@wizard_name="special/event" and @subtype="sport/football"]
