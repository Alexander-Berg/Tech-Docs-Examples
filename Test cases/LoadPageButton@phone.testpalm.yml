feature: LoadPageButton

params:
  exp_flags:
    - analytics-disabled=1

browsers:
  - ios-safari-12-touch
  - ios-safari-11-touch
  - ios-safari-10-touch
  - ios-safari-9-touch

specs:
  Внешний вид блока:
    - do: открыть ссылку https://yandex.ru/turbo?stub=loadpagebutton/default.json
    - screenshot: внешний вид [plain]
  Кнопка должна нормально вписаться в сетку:
    - params:
        exp_flags:
          - ecommerce-design=1
          - ecom-listing-button=1
    - do: открыть ссылку https://yandex.ru/turbo?text=logomebel.ru%2Fyandexturbocatalog%2F&page=0
    - do: проскроллить страницу вниз до кнопки "Показать ещё"
    - screenshot: внешний вид [plain]
  Кнопка для загрузки появляется только для следующей страницы:
    - params:
        exp_flags:
          - ecommerce-design=1
          - ecom-listing-button=1
    - do: открыть ссылку https://yandex.ru/turbo?text=logomebel.ru%2Fyandexturbocatalog%2F&page=1
    - do: проскроллить вверх к началу списка товаров
    - assert: кнопки "Показать ещё" сверху нет
    - do: проскроллить вниз к концу списка товаров
    - assert: кнопка "Показать ещё" внизу есть

files:
  - platform/components/LoadPageButton/__tests__/LoadPageButton@phone.hermione.js

tags: 
  - e-commerce
  - no_assessors #раскатили новый дизайн на 100%

v-team: Turbo

manager: tanzwuta

tlds: none
