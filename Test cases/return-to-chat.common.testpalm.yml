feature: Возвращение в чат

specs:

    Собеседник  может вернуться в чат по инвайт линке, если он вышел из чата сам[manual]:
        - tags: [advanced_smoke]
        - automation: MSSNGRFRONT-5929
        - description: |
              У авторизованного пользователя в списке чатов есть групповой чат, в котором он не является администратором
              Есть групповой чат, в котором состоит пользователь А
              В настройках чата включена публичная ссылка
              Между пользователем А и Б есть общий приватный чат
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Нажать на шапку чата
        - assert: |
              Открылось окно информации о чате
              Есть кнопка "Скопировать ссылку"
        - do: Нажать по кнопке "Скопировать ссылку"
        - assert: Появилось сообщение "Ссылка скопирована"
        - do: Выйти из чата через меню (3 точки в шапке чата)
        - assert: Пользователь А покинул чат
        - do: Открыть приватный чат с пользователем Б
        - assert: Чат открыт
        - do: Отправить в чат ранее скопированную ссылку
        - assert: Сообщение со ссылкой успешно отправлено в чат
        - do: Нажать по инвайт ссылке в сообщении
        - assert: |
              Произошел переход в групповой чат
              Доступна кнопка "Присоединиться"
        - do: Нажать по кнопке "Присоединиться"
        - assert: Появилась панель ввода, доступна отправка сообщений

    Собеседник не может вернуться в чат по инвайт линке, если его удалил администратор чата[manual]:
        - tags: [advanced_smoke, b2b]
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться в этом же браузере
              Есть групповой чат, в котором пользователь А - администратор, а пользователь Б обычный участник
              В настройках чата включена публичная ссылка
              Между пользователем А и Б есть общий приватный чат
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Нажать на шапку чата
        - assert: Администрирование чата открыто
        - do: Нажать по кнопке "Скопировать ссылку"
        - assert: Появилось сообщение "Ссылка скопирована"
        - do: Нажать на блок "Участники"
        - assert: Блок участники открыт
        - do: Удалить пользователя Б из чата нажатием по иконке с тремя точками напротив имени пользователя Б и выбрав пункт Удалить из чата
        - assert: |
              Пользователь Б был удален из чата
              В блоке "Участников" пользователь Б отсутствует
        - do: Открыть приватный чат с пользователем Б
        - assert: Чат открыт
        - do: Отправить в чат ранее скопированную ссылку
        - assert: Сообщение со ссылкой успешно отправлено в чат
        - do: Пользователем Б открыть список чатов
        - assert: Открывается список чатов
        - do: Пользователем Б открыть приватный чат с пользователем А
        - assert: Открылось окно чата, в нем отображается сообщение с инвайт ссылкой от пользователя А
        - do: Нажать по инвайт ссылке в сообщении
        - assert: |
              Произошел переход в групповой чат
              Доступна кнопка “Присоединиться”
        - do: Нажать по кнопке "Присоединиться"
        - assert: |
              Пользователь не присоединился к чату
              На экране появилась надпись "Не удалось присоединиться к чату"

    Администратор может повторно добавить собеседника, если удалил его до этого[manual]:
        - tags: [advanced_smoke]
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться в этом же браузере
              Есть групповой чат, в котором пользователь А - администратор, а пользователь Б обычный участник
              Пользователь Б есть в списке контактов у пользователя А
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Нажать на шапку чата
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: Блок участники открыт
        - do: Удалить пользователя Б из чата нажатием по кнопке с тремя точками напротив имени нужного участника и выбрав пункт Удалить из чата
        - assert: Пользователь Б не отображается в блоке "Участники"
        - do:  Нажать на кнопку "Добавить участников"
        - assert: Открывается окно со списком контактов пользователя
        - do: В списке контактов найти пользователя Б, нажать на него и после нажать кнопку "Добавить"
        - assert: Пользователь Б был добавлен в чат
        - do: Под пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем Б открыть групповой чат, в который он был добавлен ранее пользователем А
        - assert: Чат открыт

    Собеседник не может повторно присоединиться к чату, если его удалил администратор и есть актуальная инвайт ссылка[manual]:
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться в этом же браузере
              Есть групповой чат, в котором пользователь А - администратор, а пользователь Б обычный участник, присоединившийся к групповому чату по ссылке
              Между пользователями А и Б есть приватный чат, в котором имеется действующая инвайт-ссылка на групповой чат из предыдущего пункта
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Нажать на шапку чата
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: Блок участники открыт
        - do: Удалить пользователя Б из чата нажатием по кнопке с тремя точками напротив имени нужного участника и выбрав пункт Удалить из чата
        - assert: Пользователь Б не отображается в блоке "Участники"
        - do: Пользователем Б открыть список чатов
        - assert: Открывается список чатов
        - do: Пользователем Б открыть приватный чат с пользователем А
        - assert: Открылось окно чата, в нем отображается сообщение с инвайт ссылкой от пользователя А
        - do: Нажать по инвайт ссылке в сообщении
        - assert: |
              Произошел переход в групповой чат
              Доступна кнопка “Присоединиться”
        - do: Нажать по кнопке "Присоединиться"
        - assert: |
              Пользователь не присоединился к чату
              На экране появилась надпись "Не удалось присоединиться к чату"

    Администратор может повторно добавить собеседника, если собеседник вышел сам[manual]:
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться в этом же браузере
              Есть групповой чат, в котором пользователь А - администратор, а пользователь Б обычный участник
              Пользователь Б есть в списке контактов у пользователя А
        - do: Пользователем Б открыть список чатов
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Выйти из чата через меню (3 точки в шапке чата)
        - assert: Пользователь Б покинул чат
        - do: Под пользователем А открыть групповой чат, из которого удалился пользователь Б
        - assert: Групповой чат открыт
        - do: Открыть администрирование чата тапом по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: Блок участники открыт
        - do:  Нажать на кнопку "Добавить участников"
        - assert: Открывается окно со списком контактов пользователя
        - do: В списке контактов найти пользователя Б, нажать на него и после нажать кнопку "Добавить"
        - assert: Пользователь Б был добавлен в чат
        - do: Пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем Б открыть групповой чат, в который он был добавлен ранее
        - assert: Открыто окно чата

    Участник чата может повторно добавить собеседника,  если он вышел сам[manual]:
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться в этом же браузере
              Есть групповой чат, в котором пользователь А и пользователь Б обычные участники (не администраторы)
              Пользователь Б есть в списке контактов у пользователя А
        - do: Пользователем Б открыть список чатов
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Выйти из чата через меню (3 точки в шапке чата)
        - assert: Пользователь Б покинул чат
        - do: Под пользователем А открыть групповой чат, из которого удалился пользователь Б
        - assert: Групповой чат открыт
        - do: Открыть администрирование чата тапом по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: Блок участники открыт
        - do:  Нажать на кнопку "Добавить участников"
        - assert: Открывается окно со списком контактов пользователя
        - do: В списке контактов найти пользователя Б, нажать на него и после нажать кнопку "Добавить"
        - assert: Пользователь Б был добавлен в чат
        - do: Пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем Б открыть групповой чат, в который он был добавлен ранее
        - assert: Открыто окно чата

    Администратор может повторно добавить собеседника, если удалил его до этого, новые сообщения подтянутся[manual]:
        - tags: [b2b]
        - automation: MSSNGRFRONT-5929
        - description: |
              Для прохождения кейса необходимо 2 аккаунта, 2-ым вспомогательным аккаунтом нужно авторизоваться в этом же браузере
              Есть групповой чат, в котором пользователь А - администратор, а пользователь Б обычный участник
              Пользователь Б есть в списке контактов у пользователя А
        - do: Пользователем Б открыть список чатов
        - assert: Открывается список чатов
        - do: Открыть любой чат, который соответствует описанию указанному в description
        - assert: Чат открыт
        - do: Выйти из чата через меню (3 точки в шапке чата)
        - assert: Пользователь Б покинул чат
        - do: Под пользователем А открыть групповой чат, из которого удалился пользователь Б
        - assert: Групповой чат открыт
        - do: Отправить в чат несколько сообщений
        - assert: Все сообщения были отправлены в чат
        - do: Открыть администрирование чата тапом по иконке с тремя точками в шапке чата и выбрав пункт "Информация о чате"
        - assert: Администрирование чата открыто
        - do: Нажать на блок "Участники"
        - assert: Блок участники открыт
        - do:  Нажать на кнопку "Добавить участников"
        - assert: Открывается окно со списком контактов пользователя
        - do: В списке контактов найти пользователя Б, нажать на него и после нажать кнопку "Добавить"
        - assert:  Пользователь Б был добавлен в чат
        - do: Пользователем Б открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Пользователем Б открыть групповой чат, в который он был добавлен ранее
        - assert: |
              Открыто окно чат
              Все новые сообщения подтянулись и отображаются в окне чата

    Собеседник  может вернуться в чат по инвайт линке, если он вышел из чата сам, новые сообщения подтягиваются[manual]:
        - tags: [b2b]
        - automation: MSSNGRFRONT-5929
        - description: |
              Есть групповой чат, в котором состоит пользователь А и Пользователь Б
              В настройках чата включена публичная ссылка
              Между пользователем А и Б есть общий приватный чат
        - do: Пользователем А открыть список чатов
        - assert: Открывается окно списка чатов
        - do: Открыть любой чат, который соответствует описанию, указанному в description
        - assert: Чат открыт
        - do: Нажать на шапку чата
        - assert: |
              Открылось окно информации о чате
              Есть кнопка "Скопировать ссылку"
        - do: Нажать по кнопке "Скопировать ссылку"
        - assert: Появилось сообщение "Ссылка скопирована"
        - do: Выйти из чата через меню (3 точки в шапке чата)
        - assert: Пользователь А покинул чат
        - do: Пользователем Б отправить в групповой чат сообщение
        - assert: Сообщение было успешно отправлено
        - do: Пользователем А открыть приватный чат с пользователем Б
        - assert: Чат открыт
        - do: Отправить в чат ранее скопированную ссылку
        - assert: Сообщение со ссылкой успешно отправлено в чат
        - do: Нажать по инвайт ссылке в сообщении
        - assert: |
              Произошел переход в групповой чат
              Доступна кнопка "Присоединиться"
        - do: Нажать по кнопке "Присоединиться"
        - assert: |
              Появилась панель ввода, доступна отправка сообщений
              Новое сообщение, отправленное после удаления пользователя Б, отображается

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
