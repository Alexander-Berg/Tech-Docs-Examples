feature: Table

specs:
  aliases:
    - &TestTable
      - do: получить выдачу по запросу 'foreverdata' и кликнуть в заголовок первого сниппета (название заголовка Тестовая страница для узкой таблицы - турбо)
      - assert: в Яндекс браузере открывается турбо-страница в той же вкладке (в остальных браузерах открывается в новой вкладке)
    - &TestTableScrollable
      - do: получить выдачу по запросу 'foreverdata' и кликнуть в заголовок первого сниппета (название заголовка Тестовая страница для широкой таблицы - турбо)
      - assert: в Яндекс браузере открывается турбо-страница в той же вкладке (в остальных браузерах открывается в новой вкладке)

  Отсутствие скролла в таблице:
    - browsers:
        notFor:
          - chrome-desktop
          - yandex-browser-desktop
          - firefox
          - edge-desktop
    - params:
        foreverdata: '244708688'
    - *TestTable
    - do: попробовать проскроллить таблицу вправо
    - assert: таблица не прокручивается вправо
    - do: попробовать проскроллить таблицу влево
    - assert: таблица не прокручивается влево

  Скролл в таблице:
    - browsers:
        notFor:
          - chrome-desktop
          - yandex-browser-desktop
          - firefox
          - edge-desktop
    - params:
        foreverdata: '809871108'
    - *TestTableScrollable
    - do: прокрутить таблицу влево до упора
    - assert: таблица прокрутилась
    - do: прокрутить таблицу вправо до упора
    - assert: таблица прокрутилась

  Ссылка в таблице:
    - do: перейти по ссылке https://yandex.ru/turbo?text=bin:turbo-2120
    - assert: открывается турбо-страница с таблицей
    - do: тапнуть на ссылку в таблице
    - tech: проверка серверного счетчика (/turbo/link)
    - tech: проверка клиентского счетчика (/turbo/link)
    - assert: в новой вкладке открылась ссылка

  Внешний вид:
    Выравнивание:
      - do: открыть страницу https://yandex.ru/turbo?stub=table/align.json
      - screenshot: внешний вид блока соответствует скриншоту [plain]

    Плохие данные:
      - do: открыть страницу https://yandex.ru/turbo?stub=table/bad-data.json
      - screenshot: внешний вид блока соответствует скриншоту [plain]

    Обрезанный текст:
      - do: открыть страницу https://yandex.ru/turbo?stub=table/full-with-cut-text.json
      - screenshot: внешний вид блока соответствует скриншоту [plain]

    С несколькими строками:
      - do: открыть страницу https://yandex.ru/turbo?stub=table/table-multiple-rows.json
      - screenshot: внешний вид блока соответствует скриншоту [plain]

    Вертикальная граница:
      - do: открыть страницу https://yandex.ru/turbo?stub=table/vertical-border.json
      - screenshot: внешний вид блока соответствует скриншоту [plain]

    С границами для строк:
      - do: открыть страницу https://yandex.ru/turbo?stub=table/table-style-divided.json
      - screenshot: внешний вид блока соответствует скриншоту [plain]

    Невидимая:
      - do: открыть страницу https://yandex.ru/turbo?stub=table/table-style-invisible.json
      - screenshot: внешний вид блока соответствует скриншоту [plain]

    Высота строк вложенных элементов:
      - do: открыть страницу https://yandex.ru/turbo?stub=table/line-height.json
      - screenshot: внешний вид блока соответствует скриншоту [plain]

    Выходящая за viewport:
      - do: открыть страницу https://yandex.ru/turbo?stub=table/not-fit-in-viewport.json
      - screenshot: внешний вид блока соответствует скриншоту [plain]
      - do: проскроллить таблицу вправо
      - screenshot: внешний вид блока соответствует скриншоту [scrolled]

    Выходящая за viewport (desktop):
      - do: открыть страницу https://yandex.ru/turbo?stub=table/not-fit-in-viewport.json
      - screenshot: внешний вид блока соответствует скриншоту [plain]
      - do: проскроллить таблицу вправо
      - screenshot: внешний вид блока соответствует скриншоту [scrolled]

    С медиа контентом:
      - do: открыть страницу https://yandex.ru/turbo?stub=table/with-media-content.json
      - screenshot: внешний вид блока соответствует скриншоту [plain]
      - assert: содержимое плеера и картинки может отличаться
      - assert: в зависимости от ширины экрана справа может быть видна еще одна колона таблицы

files:
  - features/common/blocks/table/table.hermione.js

v-team: Turbo

manager: tanzwuta

qa-engineer: olga0321, dakhetov

tlds: none
