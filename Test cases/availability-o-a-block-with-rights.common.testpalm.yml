feature: Доступность блока с правами

specs:

    Блок с пермишенами доступен только администратору группового чата[manual]:
        - tags: [advanced_smoke]
        - automation:
        - description: |
              Пользователь А yndx-mssngr-866/QazMssngr1
              Пользователь Б yndx-mssngr-867/QazMssngr1
              Между ними есть групповой чат **проверяем наличие пермишенов**
        - do: Авторизоваться пользователем А, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на шапку чата
        - assert: Открылась карточка чата
        - do: Нажать на кнопку "Настройки чата"
        - assert: |
              Открывается экран Настройки чата
              Есть блок Права участников
        - do: Авторизоваться пользователем Б, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на шапку чата
        - assert: Открылась карточка чата
        - do: Убедиться что нет пункта "Настройки чата" на странице Информации о чате
        - assert: Пункта нет 

    Блок с пермишенами не доступен администратору в канале[manual]:
        - automation:
        - description: |
              Пользователь А yndx-mssngr-866/QazMssngr1
              Пользователь Б yndx-mssngr-867/QazMssngr1
              Между ними есть  **канал и пермишены**
        - do: Авторизоваться пользователем А, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть канал из description
        - assert: Открывается чат из description
        - do: Нажать на шапку канала
        - assert: Открылась карточка канала
        - do: Нажать на кнопку "Настройки канала" на странице Информации о канале
        - assert: |
              Открывается экран Настройки канала
              Нет блока "Права участников"

    Блока с пермишенами нет в приватном чате[manual]:
        - automation:
        - description: |
              Пользователь А yndx-mssngr-866/QazMssngr1
              Пользователь Б yndx-mssngr-867/QazMssngr1
              Между ними есть приватный чат
        - do: Авторизоваться пользователем А, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на шапку чата
        - assert: Открыта карточка контакта
        - do: Убедиться что нет блока "Права участников"
        - assert: Блок "Права участников" отсутствует

    Изначальный список пермишенов в блоке верный [manual]:
        - tags: [advanced_smoke, b2b]
        - automation:
        - description: |
              Пользователь А yndx-mssngr-866/QazMssngr1
              Пользователь Б yndx-mssngr-867/QazMssngr1
              Между ними есть групповой чат **проверяем наличие пермишенов**
        - do: Авторизоваться пользователем А, введя корректные логин/пароль
        - assert: Авторизация прошла успешно
        - do: Открыть чат из description
        - assert: Открывается чат из description
        - do: Нажать на шапку чата
        - assert: Открылась карточка чата
        - do: Нажать на кнопку "Настройки чата"
        - assert: |
              Открывается экран Настройки чата
              Есть блок Права участников
        - do: Проверить корректность выставленных прав в чате
        - assert: |
              Отправка сообщений - включен
              Редактирование и удаление сообщений - включен
              Отправка важных сообщений - включен
              Закрепление сообщение - отключен
              Добавление новых участников - включен
              Изменение информации о чате - отключен

files: []

v-team: Chat

tlds: ru

tags:
    - yamb
    - y-team
    - chamb

