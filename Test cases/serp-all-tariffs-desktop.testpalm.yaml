feature: Авиабилеты
type: Выдача
description: ''
specs:
    'Проверка выбора тарифов на выдаче в десктопе':
        - do: |-
              Зайти на главную,
              На вкладке авиа ввести в поля
              * откуда - Екатеринбург
              * куда - Москва
              * туда - 5 число следующего месяца
              * обратно не заполняем
              Кликнуть "Найти"
        - assert: Произошел переход на страницу выдачи
              Применить фильтр Авиакомпания = Победа, чекбокс Комбинации авиакомпаний снять
        - assert: На выдаче остались варианты от авиакомпании Победа
        - do: Проверить наличие информации о ручной клади и багажной информации
        - assert: |
            Багажная информация и информация о ручной клади содержатся в правой части сниппета.

            Информация о ручной клади
            Для вариантов без ручной клади иконка с сумкой чёрная, для вариантов с ручной кладью - зелёная с указанием веса.
            Если неизвестен допустимый вес для ручной клади или допустимые габариты клади меньше стандартных (например,
            авиакомпании Победа и ЮТэйр), рядом с иконкой будут указаны габариты.

            Информация о багаже
            Для безбагажных вариантов иконка с чемоданом чёрная, для вариантов с багажом - зелёная с указанием веса.
            В десктопе на сниппете указано количество багажных мест.

        - do: Кликнуть по значению Багажной информации
        - assert: |
              Появляется окно с выбором тарифа
              Присутствует информация о перелёте
              В каждом пункте выбора тарифа указаны:
              * Цена предложения с указанным тарифом
              * Значение ручной клади
              * Значение багажа
              * Значение возвратности
              * Ссылка на предложения партнёров (если есть)
              Пример: https://jing.yandex-team.ru/files/kuklina/2022-05-25_15-32-44.png
        - do: Кликнуть по ссылке "Ещё Х предложений" для любого варианта
        - assert: |
              Открывается окно со списком вариантов от партнёров
              Количество партнёров совпадает с тем, что было указано в ссылке (без учёта основного предложения)
              https://jing.yandex-team.ru/files/gouken67/Окно%20с%20предложениями%20от%20партнёров.png
        - do: | 
              Закрыть окно с партнёрами
              Кликнуть в жёлтую кнопку для второго пункта тарифов
        - assert: |
              Происходит редирект к партнёру
              Стоимость у партнёра совпадает с тем, что было указано в выбранном варианте (за вычетом страхования и СМС-информирования - эти доп. услуги добавляет сам партнёр), если цена в другой валюте - не сравниваем

files:
    - tests/desktop/avia/serp/serp-all-tariffs-desktop.hermione.ts

Функциональность: Содержание выдачи
Устройство:
    - Десктоп
Страница: Выдача
Сервис: Авиа
Тестирование асессорами: Да
Окружение:
    - Testing
    - Production
Автор: gouken67
Tag:
    - Smoke
