feature: API мобильного приложения

specs:
  Счётчик первого показа страницы:
    Срабатывает при отсутствии API:
      - do: открыть выдачу по запросу "test"
      - tech: в логи должен быть записан счётчик tech.request_entry_completed), где vars.-nativeVisibility равно no
    Срабатывает при перезапросе:
      - do: открыть выдачу по запросу "rjnbrb"
      - do: нажать кнопку "Отмена" в опечаточнике
      - tech: в логи должен быть записан счётчик tech.request_entry_completed), где vars.-nativeVisibility равно yes
    Срабатывает при смене видимости страницы:
      - do: открыть выдачу по запросу "test"
      - tech: выполнить в консоли код `window.YandexApplicationsAPIBackend.pageVisibilityChange()`
      - tech: в логи должен быть записан счётчик tech.request_entry_completed), где vars.-nativeVisibility равно yes
    Срабатывает если страница видна сразу после загрузки:
      - do: открыть выдачу по запросу "test"
      - tech: в логи должен быть записан счётчик tech.request_entry_completed), где vars.-nativeVisibility равно yes

files:
  - features/touch-phone/request-entry-counter/request-entry-counter.hermione.js

counter: /tech/request_entry_completed

browsers:
  - searchapp-phone

v-team: Architecture

tags:
  - searchapp
  - api
  - counters
  - reviewed
  - no_assessors
  - skip_e2e_check

tlds: none
