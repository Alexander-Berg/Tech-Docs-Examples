feature: Авторизация и разлогин

import-steps:
    - tests/hermione/suites/messenger/shared-steps/open-messenger.testpalm.steps.yml

specs:

  Авторизация в yamb[manual]:
    - automation: MSSNGRFRONT-3151
    - do: разлогиниться на https://passport.yandex.ru/profile
    - attach: Открытие мессенджера
    - assert: открылся мессенджер с пустым списком чатов
    - do: нажать на шестеренку настроек чата справа от поиска над списком чатов
    - assert: открылось модальное окно настроек профиля
    - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/ismateush/uhura_2019-07-23T18:09:31.jpg]
    - do: авторизоваться в соседней вкладке на https://passport.yandex.ru/profile
    - do: вернуться на вкладку с мессенджером и перезагрузить страницу
    - assert: |
        авторизация выполнена успешно
        открылся мессенджер со списком чатов (если они у пользователя были)
    - do: нажать на шестеренку настроек чата справа от поиска над списком чатов
    - assert: открылось модальное окно настроек профиля c информацией о пользователе
    - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/ismateush/uhura_2019-07-23T18:14:28.jpg]

  Разлогин в yamb[manual]:
    - automation: MSSNGRFRONT-3151
    - attach: Авторизация и открытие чата yamb
    - do: нажать на шестеренку настроек чата справа от поиска над списком чатов
    - assert: открылось модальное окно настроек профиля
    - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/ismateush/uhura_2019-07-23T18:14:28.jpg]
    - do: нажать на троеточие в правом верхнем углу
    - do: в выпадающем меню нажать выйти
    - assert: |
        произошел разлогин
        осуществился переход на морду (для web-версии)

files: []

v-team: Chat

tags:
  - release
  - yamb
  - no_assessors

tlds: ru
