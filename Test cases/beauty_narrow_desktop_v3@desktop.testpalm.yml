feature: Внешний вид на узких десктопах
experiment: Внешний вид на узких десктопах

params:
  exp_flags: beauty_narrow_desktop_v3=1

specs:
  Внешний вид основного контента на ширине 600px:
    - do: получить выдачу по запросу 'мадонна'
    - do: установить ширину окна браузера 600px
    - assert: левый отступ основного контента уменьшился
    - assert: правая колонка результатов поиска скрылась (в правой колонке может быть только надпись "Нашлось 667 результатов")
  Внешний вид основного контента на ширине 768px:
    - do: получить выдачу по запросу 'мадонна'
    - do: установить ширину окна браузера 768px
    - assert: левый отступ основного контента уменьшился
    - assert: правая колонка результатов поиска скрылась (в правой колонке может быть только надпись "Нашлось 667 результатов")
  Внешний вид основного контента на ширине 1024px:
    - do: получить выдачу по запросу 'мадонна'
    - do: установить ширину окна браузера 1024px
    - assert: левый отступ основного контента уменьшился
    - assert: правая колонка результатов поиска не скрыта (в правой колонке может быть только надпись "Нашлось 667 результатов")
  Внешний вид основного контента на ширине 1300px:
    - do: получить выдачу по запросу 'мадонна'
    - do: установить ширину окна браузера 1300px
    - assert: левый отступ основного контента уменьшился
  Внешний вид шапки на ширине 600px:
    - do: получить выдачу по запросу 'котики'
    - do: установить ширину окна браузера 600px
    - screenshot: внешний вид шапки должен соответствовать скриншоту [header-narrow]
  Внешний вид шапки на ширине 768px:
    - do: получить выдачу по запросу 'котики'
    - do: установить ширину окна браузера 768px
    - screenshot: внешний вид шапки должен соответствовать скриншоту [header-narrow]
  Внешний вид шапки на ширине 1024px:
    - do: получить выдачу по запросу 'котики'
    - do: установить ширину окна браузера 1024px
    - screenshot: внешний вид шапки должен соответствовать скриншоту [header-narrow]
  Внешний вид шапки на ширине 1300px:
    - do: получить выдачу по запросу 'котики'
    - do: установить ширину окна браузера 1300px
    - screenshot: внешний вид шапки должен соответствовать скриншоту [header-narrow]
  Внешний вид праздничного лого на ширине 600px:
    - do: получить выдачу по запросу 'котики'
    - do: установить ширину окна браузера 600px
    - screenshot: внешний вид шапки должен соответствовать скриншоту [header-logo]
  Внешний вид праздничного лого на ширине 768px:
    - do: получить выдачу по запросу 'котики'
    - do: установить ширину окна браузера 768px
    - screenshot: внешний вид шапки должен соответствовать скриншоту [header-logo]
  Внешний вид праздничного лого на ширине 1024px:
    - do: получить выдачу по запросу 'котики'
    - do: установить ширину окна браузера 1024px
    - screenshot: внешний вид шапки должен соответствовать скриншоту [header-logo]
  Внешний вид праздничного лого на ширине 1300px:
    - do: получить выдачу по запросу 'котики'
    - do: установить ширину окна браузера 1300px
    - screenshot: внешний вид шапки должен соответствовать скриншоту [header-logo]
  Внешний вид карусели фильмов 900px:
    - do: получить выдачу по запросу 'фильмы'
    - assert: на первой позиции выдачи появилась карусель фильмов
    - do: установить ширину окна браузера 900px
    - do: проскролить содержимое страницы вправо до края
    - assert: карусель фильмов вплотную прилегает к правому краю окна браузера
  Кнопка навигации внутри карусели не уезжает за пределы экрана:
    - do: получить выдачу по запросу 'фильмы'
    - assert: на первой позиции выдачи появилась карусель фильмов
    - do: установить ширину окна браузера 900px
    - do: проскролить карусель фильмов влево
    - assert: в левом краю карусели появилась кнопка навигации со стрелкой
  Проверка отсутствия горизонтального скролла на ширине 600px:
    - do: получить выдачу по запросу 'котики'
    - do: установить ширину окна браузера 600px
    - assert: выдача не скроллится по горизонтали (весь контент помещается в экран по горизонтали)
  Проверка отсутствия горизонтального скролла на ширине 768px:
    - do: получить выдачу по запросу 'котики'
    - do: установить ширину окна браузера 768px
    - assert: выдача не скроллится по горизонтали (весь контент помещается в экран по горизонтали)
  Проверка отсутствия горизонтального скролла на ширине 1024px:
    - do: получить выдачу по запросу 'котики'
    - do: установить ширину окна браузера 1024px
    - assert: выдача не скроллится по горизонтали (весь контент помещается в экран по горизонтали)
  Проверка отсутствия горизонтального скролла на ширине 1300px:
    - do: получить выдачу по запросу 'котики'
    - do: установить ширину окна браузера 1300px
    - assert: выдача не скроллится по горизонтали (весь контент помещается в экран по горизонтали)
  special-event:
    В форме карточки:
      - params:
          foreverdata: '1215974772'
      - do: получить выдачу по запросу 'foreverdata'
      - assert: на первой позиции выдачи появился блок со специальным событием НХЛ
      - do: установить ширину окна браузера 900px
      - assert: контент блока special-event слева не скрывается за viewport
      - screenshot: внешний вид [special-event_wrap-content-yes]
      - do: проскролить любую карусель внутри блока special-event
      - assert: |
          контент карусели не выходит за границы блока,
          в левом краю карусели появилась кнопка навигации со стрелкой влево
      - screenshot: внешний вид [arrow-left]
    В форме карточки с маленькой иконкой:
      - do: получить выдачу по запросу 'чемпионат мира по футболу 2018'
      - assert: на первой позиции выдачи появился блок со специальным событием ЧМФ
      - do: установить ширину окна браузера 900px
      - assert: контент блока special-event слева не скрывается за viewport
      - screenshot: внешний вид [special-event_wrap-content-yes_icon-xs]
      - do: проскролить любую карусель внутри блока special-event
      - assert: |
          контент карусели не выходит за границы блока,
          в левом краю карусели появилась кнопка навигации со стрелкой влево
      - screenshot: внешний вид [arrow-left]
  Скрытие микрофона на ширине до 722px:
    - tags:
        - no_assessors
    - do: |
        получить presearch выдачи по запросу 'test'
        уменьшить ширину экрана до 700px
    - assert: кнопка микрофона не видна
  Гео карусель:
    - params:
        exp_flags: beauty_narrow_desktop_v3=1
    - do: получить выдачу по запросу "кафе"
    - assert: на странице присутствует карусель организаций
    - do: установить ширину окна браузера 1024px
    - screenshot: внешний вид [main-top-narrow]
  Факт:
    - params:
        exp_flags: beauty_narrow_desktop_v3=1
    - do: получить выдачу по запросу "сколько ног у паука"
    - assert: на странице присутствует быстрый ответ
    - do: установить ширину окна браузера 1024px
    - screenshot: внешний вид [fact]

files:
  - features/beauty_narrow_desktop_v3/beauty_narrow_desktop_v3@desktop.hermione.js

v-team: Beauty

tlds: all
