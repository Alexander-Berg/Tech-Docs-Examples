feature: Страница команды сервиса Я.Спорт

description: Страница команды позволяет просматривать информацию о прошедших и предстоящих матчах и турнирах команды.

specs-integration:
  открывается из матч-центра:
    - tags:
      - backend_sport  
    - do: открыть рубрику "Главное"
    - assert: отображается главная страница сервиса "Спорт"
    - do: кликнуть на наименование любого матча в матч-центре
    - assert: по клику происходит переход на страницу матча
    - do: кликнуть на название любой команды в открывшемся матче
    - assert: |
          при ховере наименование команды прокрасилось в красный,
          по клику открылась страница команды

specs:
  aliases:
    &goTo   
      - do: открыть страницу футбольной команды https://yandex.ru/sport/team/79727
      - assert: |
            отображается виджет календаря, который содержит - дату матча, выпадушку со всеми турнирами, наименования команд матча, счет, видео (если есть), логотип команд матча,
            каждый матч содержит команду, на странице которой мы находимся ("Лестер Сити"),
            внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-09-07_20-10-51.png

  открывается со страницы матча:
    - do: открыть страницу матча https://yandex.ru/sport/event/m528698
    - do: кликнуть на название любой команды в открывшемся матче
    - assert: |
          при ховере наименование команды прокрасилось в красный,
          по клику открылась страница команды

  содержит основные элементы для страницы футбольной команды:
    - tags:
      - backend_sport  
    - do: открыть страницу футбольной команды https://yandex.ru/sport/team/79727
    - assert: |
          страница содержит основные элементы - выпадушка наименований турниров, сезоны, календарь и турнирная таблица,
          внешний вид - https://jing.yandex-team.ru/files/weberxks/Screen%20Shot%202022-06-24%20at%2014.01.11.png

  содержит кнопку "Показать еще" на странице футбольной команды:
    - tags:
      - backend_sport
    - *goTo
    - do: промотать ниже виджета календаря
    - assert: под календарем отображается лента новостей
    - do: проскролить наверх страницы к виджету календаря и нажать кнопку "Показать еще" (если нет кнопки "Показать еще" - нужно выбрать в виджете календаря месяц ранее) - https://jing.yandex-team.ru/files/weberxks/Screen%20Shot%202022-06-24%20at%2014.41.57.png
    - assert: |
          по ховеру на кнопку цвет текста стал черным,
          по клику подгрузился список матчей,
          в списке матчей могут быть как завершенные, так и будущие (для будущих указано время начала, счет матча отсутствует - https://jing.yandex-team.ru/files/weberxks/Screen%20Shot%202022-06-24%20at%2014.44.41.png)

  содержит календарь на странице футбольной команды:
    - tags:
      - backend_sport  
    - *goTo      
    - do: во вкладке календаря выбрать любую другую дату https://jing.yandex-team.ru/files/weberxks/Screen%20Shot%202022-06-24%20at%2014.17.39.png
    - assert: |
          в выпадушке отображается та дата, которую вы выбрали,
          в виджете подгрузился список матчей начиная от выбранного месяца/года
    - do: нажать кнопку "Показать еще" несколько раз
    - assert: после клика подгружается пачка матчей
    - do: в списке чемпионатов выбрать "Чемпионат Англии" - https://jing.yandex-team.ru/files/weberxks/Screen%20Shot%202022-06-24%20at%2014.21.59.png
    - assert: |
          в списке матчей отображаются только матчи выбранного чемпионата,
          ранее выбранная дата в календаре не сбросилась,
          внешний вид - https://jing.yandex-team.ru/files/weberxks/Screen%20Shot%202022-06-24%20at%2014.25.34.png,
          обратите внимание! матчей может и не быть, это ок, заводить баги на такое не нужно! главное, чтобы в таком случае верстка заглушки об отсутствии матчей была ок - https://jing.yandex-team.ru/files/kossakovskaya/2021-09-07_18-38-20.png
    - do: нажать на кнопку "Показать еще" (пропустить шаг, если в предыдущем шаге не нашлось матчей)
    - assert: |
          подгрузились остальные матчи данного чемпионата,
          внешний вид https://jing.yandex-team.ru/files/weberxks/Screen%20Shot%202022-06-24%20at%2014.32.06.png

  отображает пустой виджет календаря при отсутствии матчей на странице футбольной команды:
    - tags:
      - backend_sport  
    - do: открыть страницу футбольной команды https://yandex.ru/sport/team/85895
    - assert: |
            отображается виджет календаря, который содержит - дату матча, выпадушку со всеми турнирами, наименования команд матча, счет, видео (если есть), логотип команд матча,
            каждый матч содержит команду, на странице которой мы находимся ("Чонбук Хёндэ Моторс"),
            внешний вид - https://jing.yandex-team.ru/files/weberxks/Screen%20Shot%202022-06-27%20at%2011.48.53.png  
    - do: в выпадушке месяц/год выбрать "Ноябрь, 2022"
    - assert: |
          отобразилась заглушка о том, что событий не найдено,
          внешний вид - https://jing.yandex-team.ru/files/weberxks/Screen%20Shot%202022-06-27%20at%2011.50.14.png
    - do: выбрать другую дату, например, "Август, 2022"
    - assert: |
          матчи прогрузились корректно,
          при клике на "Показать еще" матчи подгружаются

  содержит основные элементы турнирной таблицы футбольной команды:
    - tags:
      - backend_sport    
    - *goTo     
    - do: кликнуть по вкладке "Турнирная таблица"
    - assert: |
          отобразилась турнирная страница, которая содержит элементы - место, логотип и наименование команды, кол-во игр, сколько из них выиграно, ничья и проиграно, столбец разницы голов и очки,
          внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-04-27_15-55-24.png ,
          Обратите внимание! если вместо данных у вас отображается заглушка о том, что "Таблица турнира не найдена" - выбирете любой турнир из выпадушки, в котором придут данные,
          обратите внимание - 2! для турнира "Суперкубок Англии" нет таблицы, так как это матч по сути. поэтому, если вы выберете его и у вас ничего не отобразится - это ок, заводить на такое баг не нужно!
    - do: пролистать до конца таблицы
    - assert: отобразилась лента новостей
    - do: промотать к началу турнирной таблицы и кликнуть по наименованию любой команды
    - assert: открылась страница выбранной команды

  отображает данные турнирной таблицы футбольной команды в зависимости от выбранного периода:
    - tags:
      - backend_sport    
    - *goTo  
    - do: кликнуть по вкладке "Турнирная таблица"
    - assert: |
          отобразилась турнирная страница, которая содержит элементы - место, логотип и наименование команды, кол-во игр, сколько из них выиграно, ничья и проиграно, столбец разницы голов и очки,
          внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-04-27_15-55-24.png ,
          Обратите внимание! если вместо данных у вас отображается заглушка о том, что "Таблица турнира не найдена" - выбирете любой турнир из выпадушки, в котором придут данные,
          обратите внимание - 2! для турнира "Кубок Англии" нет таблицы, так как это матч по сути. поэтому, если вы выберете его и у вас ничего не отобразится - это ок, заводить на такое баг не нужно!
    - do: выбрать любой другой сезон в выпадушке сезонов - https://jing.yandex-team.ru/files/kossakovskaya/2021-04-27_15-59-01.png
    - assert: |
          в выпадушке отобразился выбранный сезон,
          список команд в турнирной таблице изменился
    - do: в выпадушке сезонов выбрать 2020-21, в выпадушке турниров выбрать "Лига Европы"
    - assert: |
          в выпадушках отображаются выбранные значения,
          турнирная таблица содержит значения по группам (A-L),
          внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-04-27_16-02-09.png
    - do: в выпадушке турниров выбрать "Кубок Англии"
    - assert: |
          отобразилось уведомление о том, что таблица турнира не найдена,
          внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-04-27_16-03-52.png,
          под виджетом отображается лента новостей

  содержит основные элементы для страницы хоккейной команды:
    - tags:
      - backend_sport  
    - do: открыть страницу хоккейной команды https://yandex.ru/sport/team/80824
    - assert: |
          отображается виджет календаря, который содержит - дату матча, выпадушку со всеми турнирами, наименования команд матча, счет, видео (если есть), логотип команд матча,
          каждый матч содержит команду, на странице которой мы находимся ("Нешвилл Предаторз"),
          внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-04-27_16-06-29.png,
          обратите внимание! Если матчей не найдено - выставьте в выпадушке другой месяц

  отображает основные элементы турнирной таблицы хоккейной команды:
    - tags:
      - backend_sport  
    - do: открыть страницу хоккейной команды https://yandex.ru/sport/team/80824
    - do: кликнуть по вкладке "Турнирная таблица"
    - assert: |
          отобразилась турнирная страница, которая содержит элементы - место, логотип и наименование команды, количественные значения столбцов, тумблеры дивизионов,
          под виджетом таблицы отображается карусель последних видео,
          внешний вид - https://jing.yandex-team.ru/files/weberxks/Screen%20Shot%202022-06-24%20at%2015.34.59.png ,
          ВНИМАНИЕ! Если не сезон и нет матчей - карусели видео и очков тоже не будет, внешний вид - https://jing.yandex-team.ru/files/nightsonne/2021-09-16_23-21-29.png,
    - do: пролистать ниже блока видео
    - assert: отобразилась лента новостей
    - do: прокликать тумблеры дивизионов - "Восток", "Запад", "Атлантический", "Центральный", "Метрополитан", "Тихоокеанский",
          Обратите Внимание! виды девизионов зависят от выбранного сезона, в данном шаге выбран сезон 2021-22года,
          в других сезонах девизионы могут отличаться, это Ок! Заводить баг на это не нужно
    - assert: данные таблицы меняются при смене дивизиона
    - do: кликнуть по наименованию любой команды
    - assert: открылась страница выбранной команды

  отображает данные турнирной таблицы хоккейной команды в зависимости от выбранного периода:
    - tags:
      - backend_sport  
    - do: открыть страницу хоккейной команды https://yandex.ru/sport/team/80824
    - assert: |
          отображается виджет календаря, который содержит - дату матча, выпадушку со всеми турнирами, наименования команд матча, счет, видео (если есть), логотип команд матча,
          каждый матч содержит команду, на странице которой мы находимся ("Нешвилл Предаторз"),
          внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-04-27_16-06-29.png,
          обратите внимание! Если матчей не найдено - выставьте в выпадушке другой месяц
    - do: кликнуть по вкладке "Турнирная таблица"
    - assert: |
          отобразилась турнирная страница, которая содержит элементы - место, логотип и наименование команды, количественные значения столбцов, тумблеры дивизионов,
          под виджетом таблицы отображается карусель последних видео,
          внешний вид - https://jing.yandex-team.ru/files/weberxks/Screen%20Shot%202022-06-24%20at%2015.34.59.png
    - do: выбрать любой другой сезон в выпадушке сезонов - https://jing.yandex-team.ru/files/weberxks/Screen%20Shot%202022-06-24%20at%2015.39.50.png
    - assert: |
          в выпадушке отобразился выбранный сезон,
          список команд в турнирной таблице изменился,
          список девизионов также может смениться - https://jing.yandex-team.ru/files/kossakovskaya/2021-04-27_16-16-00.png
    - do: в выпадушке турниров выбрать "НХЛ"
    - assert: |
          в выпадушках отображаются выбранные значения,
          содержимое турнирной таблицы не изменилось,
    - do: навести курсор на буквенные наименования столбцов турнирной таблицы
    - assert: |
          отобразился тултип с расшифровкой буквенных сокращений - https://jing.yandex-team.ru/files/kossakovskaya/2021-04-27_16-18-54.png,
          тултип отображается корректно, при скролле скрывается

  открывает видео из турнирной таблицы хоккейной команды:
    - tags:
      - backend_sport  
    - do: открыть страницу хоккейной команды https://yandex.ru/sport/team/80802
    - assert: |
          отображается виджет календаря, который содержит - дату матча, выпадушку со всеми турнирами, наименования команд матча, счет, видео (если есть), логотип команд матча,
          каждый матч содержит команду, на странице которой мы находимся ("Авангард"),
          внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-09-07_18-43-13.png
    - do: кликнуть по вкладке "Турнирная таблица"
    - assert: |
          отобразилась турнирная страница, которая содержит элементы - место, логотип и наименование команды, количественные значения столбцов, тумблеры дивизионов,
          под виджетом таблицы отображается карусель последних видео,
          внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-09-07_18-44-01.png
    - do: промотать к карусели видео "Последние видео"
    - do: проскролить карусель вправо-влево
    - assert: |
          карусель скроллится корректно, без рывков,
          подгружаются превью видео и наименование
    - do: кликнуть по любому видео из карусели
    - assert: в новой вкладке открылось видео в стороннем сервисе

  корректно отображает выпадушку календаря при небольшом количестве матчей в календаре:
    - do: открыть https://yandex.ru/sport/team/79253
    - do: нажать на выпадушку "Календарь" и выбрать июнь 2022 г
    - do: нажать на выпадушку "Календарь"
    - assert: выпадушка отображается корректно, сюжеты не перекрывают список дат


files:
  - features/sport/team/team.desktop.hermione.e2e.js
  - features/sport/team/team.desktop.hermione.js

tags:
  - sport-neo
  - team

manager: mrwhite

qa-engineer: kossakovskaya

tlds:
  - ru
  - by
  - kz
  - uz
  - ua
  - com
