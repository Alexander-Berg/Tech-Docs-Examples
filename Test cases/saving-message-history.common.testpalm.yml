feature: История сообщений

import-steps:
    - tests/hermione/suites/messenger/shared-steps/open-messenger.testpalm.steps.yml

tlds: ru

specs:

    После переоткрытия мессенджера история сообщений сохраняется:
        - attach: Открытие личного чата между двумя пользователями
        - do: отправить произвольное количество (более 5-ти) сообщений в чат с обеих сторон
        - do: закрыть вкладки чатов в браузере
        - attach: Авторизация и открытие чата yamb
        - do: открыть чат с пользователем stas.mihailov666
        - assert: |
              в чате сохранилась вся переписка с обеих сторон

    После перезахода в аккаунт история сообщений сохраняется[manual]:
        - automation: MSSNGRFRONT-2939
        - attach: Открытие чата с эхо-ботом
        - do: отправить произвольное количество (более 5-ти) сообщений в чат
        - do: дождаться сообщений от бота
        - do: перейти в список чатов
        - do: нажать на кнопку в виде трех точек справа от поля поиска
        - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/joshuan/Messenger_2018-12-29_13-47-57.png]
        - do: в открывшемся меню нажать на "Выйти"
        - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/joshuan/Messenger_2019-02-08_01-57-16.png]
        - do: в открывшемся окне авторизации ввести логин и пароль аккаунта
        - screenshot: пример внешнего вида [https://jing.yandex-team.ru/files/joshuan/Avtorizatsiya_2018-12-29_14-00-42.png]
        - do: в окне авторизации нажать на кнопку "Войти"
        - do: в списке чатов слева нажать на чат с ботом
        - assert: |
            открылся чат с ботом
            сохранилась вся переписка с ботом

files:
    - tests/hermione/suites/messenger/message-history/message-history/saving-message-history.common.hermione.ts

v-team: Chat

tags:
    - yamb #TODO: заменить ссылки
    - y-team #TODO: заменить ссылки
    - no_assessors
