feature: Претендент
type: Закрытие

specs:
    beforeEach:
        - do: открыть страницу претендента /applications/<id_претендента>/
        - screenshot: на странице присутствует кнопка '...' [actions_menu]
        - do: нажать на кнопку '...'
        - assert: |
            открылась выпадушка
            в выпадушке есть 'Закрыть'
        - screenshot: пример внешнего вида [actions]
        - do: нажать на 'Закрыть'
        - screenshot: появилась форма 'Закрытие претендента' [close_form]
    Проверка обязательных полей:
        - do: нажать на кнопку 'Закрыть'
        - screenshot: выдало ошибку [close_form_errors]
    Закрытие претендента:
        - do: в поле 'Резолюция' выбрать один из вариантов
        - screenshot: пример внешнего вида заполненной формы [close_form_filled]
        - do: нажать 'Закрыть'
        - assert: |
            форма 'Закрыть претендента' пропала
            статус претендента сменился на 'Закрыт'
            в поле 'Резолюция' указан выбранный вариант
        - screenshot: пример внешнего вида претендента [closed_application_header]
        - screenshot: пример внешнего вида экшнов [closed_application_actions]
        - do: открыть страницу кандидата, который рассматривался на вакансию /candidates/<id_кандидата>/applications/
        - assert: |
            претендент, которого закрыли, отсутствует в списке претендентов
            претендент, которого закрыли, отсутствует в списке претендентов на табе 'Вакансии'

files:
  - tests/hermione/suites/desktop/applicants/applicant_close/applicant_close.hermione.js

tags:
  - reviewed

priority: blocker

browsers:
  - yandex-browser-desktop
  - firefox-desktop
  - safari-desktop
