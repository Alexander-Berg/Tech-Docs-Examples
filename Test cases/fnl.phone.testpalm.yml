feature: Лайв-трансляции на таче

description: Лайв-трансляции это страница с прямыми трансляциями матчей на Кинопоиске.

specs:
#  содержит основные элементы [manual]:
#    - do: перейти в матч-центр на сервисе Яндекс.Спорт
#    - do: во вкладке "Футбол" в датапикере выбрать 8 августа 2021
#    - do: кликнуть на ФНЛ
#    - assert: |
#        открывается страница турнира ФНЛ на вкладке "Календарь",
#        в селекторах выбран текущий месяц и все команды,
#        отображается список игр с иконками трансляций,
#        у каждой команды отображается иконка и наименование
#    - do: поскроллить страницу до конца таблицы
#    - assert: в конце таблицы отображается кнопка "Показать еще"
#    - do: кликнуть на "Показать еще"
#    - assert: догружаются будущие игры ФНЛ
#    - do: поскроллить вначало страницы
#    - do: кликнуть на вкладку "Общее"
#    - assert: |
#        отображается список команд,
#        у каждой команды есть иконка и наименование,
#        таблица содержит количество игр, выйгрыш, ничья, проигрыш, разница голов, очки,

  содержат баннер на главной [manual]:
    - do: авторизоваться под аккаунтом у которого есть подписка Яндекс.Плюс (можно взять тут https://wiki.yandex-team.ru/eva/testing/projects/nerpa/#loginyiparolidljatestovyxpolzovatelejjspodpiskojjpljusa)
    - do: открыть главную спорта https://yandex.ru/sport
    - assert: |
        под матч-тизером отображается баннер "Смотрите спорт в прямом эфире по подписке Яндекс Плюс",
        внешний вид https://jing.yandex-team.ru/files/vasekerka/2022-01-27_13-47-50.png
    - do: кликнуть на баннер
    - assert:  |
        в текущей вкладке открывается страница https://yandex.ru/sport/live/?utm_source=white_sport&utm_medium=selfpromo&utm_campaign=MSCAMP-287|sport,
        Обратите внимание! Не нужно проверять внешний вид страницы https://yandex.ru/sport/live ! Это сторонний сервис, в данном кейсе нам важен сам факт перехода!
    - do: обязательно разлогиньтесь из аккаунта плюса!

  содержат рубрику "Трансляции" в рубрикаторе [manual]:
    - do: авторизоваться под аккаунтом у которого есть подписка Яндекс.Плюс (можно взять тут https://wiki.yandex-team.ru/eva/testing/projects/nerpa/#loginyiparolidljatestovyxpolzovatelejjspodpiskojjpljusa)
    - do: открыть главную спорта https://yandex.ru/sport
    - assert: |
        в рубрикаторе отображается рубрика "Трансляции" с иконкой плюса,
        внешний вид https://jing.yandex-team.ru/files/kossakovskaya/2021-10-20_15-55-12.png
    - do: кликнуть на рубрику
    - assert: |
        в текущей вкладке открывается страница https://yandex.ru/sport/live,
        Обратите внимание! Не нужно проверять внешний вид страницы https://yandex.ru/sport/live ! Это сторонний сервис, в данном кейсе нам важен сам факт перехода!
    - do: обязательно разлогиньтесь из аккаунта плюса!


#  содержит баннер в рубрике Футбол [manual]:
#    - do: открыть рубрику "Футбол" на сервисе Яндекс.Спорт
#    - assert: |
#        под рубрикатором баннер "Смотрите ФНЛ на Яндекс.Спорт",
#        внешний вид https://jing.yandex-team.ru/files/an-smirn0v/shot_210803_165529.png
#    - do: тапнуть на баннер
#    - assert:  |
#        открывается страница турнира ФНЛ на вкладке "Календарь",
#        в селекторах выбран текущий месяц и все команды,
#        отображается список игр

  содержат переход на страницу трансляций из медиаблока на странице матча [manual]:
    - browsers:
        notFor:
          - ios-safari-9-touch
          - ios-safari-10-touch
          - android-browser-5.1-touch
    - do: перейти на страницу матча по прямой ссылке https://yandex.ru/sport/event/m649775
    - assert: |
        отображается страница матча "Енисей - Рубин",
        на странице отображается медиаблок "Видео о матче",
        в медиаблоке отображается два видео,
        внешний вид - https://jing.yandex-team.ru/files/an-smirn0v/Снимок%20экрана%202021-12-02%20в%2016.30.04.png
    - do: нажать на первое видео (кнопка с надписью "Весь матч")
    - assert: |
        в текущей вкладке открывается страница https://yandex.ru/sport/live/event/m649775 (ссылка содержит параметры, в которых нужно проверить наличие - from=sport и from_block=sport-phone-event-media-block),
        наименование матча на странице лайв-трансляций совпадает с тем, который был на сервисе Яндекс.Спорта - https://jing.yandex-team.ru/files/kossakovskaya/2021-10-20_15-58-00.png,
        обратите внимание! Не нужно проверять внешний вид страницы https://yandex.ru/sport/live ! Это сторонний сервис, в данном кейсе нам важен сам факт перехода и соответствие данных!

#  содержит медиаблок на странице матча [manual]:
#    - browsers:
#        notFor:
#          - ios-safari-9-touch
#          - ios-safari-10-touch
#          - android-browser-5.1-touch
#    - do: перейти на страницу матча по прямой ссылке https://yandex.ru/sport/event/m529492
#    - assert: |
#        отображается страница матча "Енисей - Кубань",
#        на странице отображается медиаблок (карусель с видео), у каждого видео есть кнопка плей,
#        внимание! у кнопки плей может быть название - баг заводить не нужно! пример такой кнопки - https://jing.yandex-team.ru/files/vasekerka/2021-10-14_20-41-58.png,
#        под медиаблоком отображается ход матча, список карточек Новости футбола, виджеты "Другие матчи", "Турнирная таблица"
#        внешний вид - https://jing.yandex-team.ru/files/vasekerka/2021-10-14_20-39-29.png
#    - do: тапнуть на любое видео
#    - assert: |
#        открывается просмотрщик видео,
#        видео воспроизводится автоматически

  содержат переход на страницу трансляций из медиаблока на странице матча в Чемпионате Бразилии под плюсовым аккаунтом [manual]:
    - browsers:
        notFor:
          - ios-safari-9-touch
          - ios-safari-10-touch
          - android-browser-5.1-touch
    - do: авторизоваться под аккаунтом у которого есть подписка Яндекс.Плюс (можно взять тут https://wiki.yandex-team.ru/eva/testing/projects/nerpa/#loginyiparolidljatestovyxpolzovatelejjspodpiskojjpljusa)
    - do: перейти на страницу матча по прямой ссылке https://yandex.ru/sport/event/m534634
    - assert: |
        отображается страница матча "Шапекоэнсе - Сантос",
        иконки и наименование команд, счет,
        на странице отображается медиаблок с кнопкой плей и надписью "Смотреть с Плюсом",
        под медиаблоком отображается ход матча, состав, список карточек Новости футбола, виджеты "Другие матчи", "Турнирная таблица",
        внешний вид - https://jing.yandex-team.ru/files/an-smirn0v/Снимок%20экрана%202021-12-02%20в%2016.29.27.png
        ВНИМАНИЕ! Если вы проходите кейс не из РФ - вместо видео может отображаться заглушка "Нет доступных лицензий", и это не баг (в этом случае пропустите кейс)
    - do: нажать на кнопку плей
    - assert: |
        в текущей вкладке открывается страница https://yandex.ru/sport/live/event/m534634 (ссылка содержит параметры, в которых нужно проверить наличие - from=sport и from_block=sport-phone-event-media-block),
        наименование матча на странице лайв-трансляций совпадает с тем, который был на сервисе Яндекс.Спорта - https://jing.yandex-team.ru/files/kossakovskaya/2021-10-20_16-00-41.png ,
        обратите внимание! Не нужно проверять внешний вид страницы https://yandex.ru/sport/live ! Это сторонний сервис, в данном кейсе нам важен сам факт перехода и соответствие данных!
    - do: ОБЯЗАТЕЛЬНО РАЗЛОГИНИТЬСЯ из тестового аккаунта с подпиской Яндекс.Плюс

  содержат переход на страницу трансляций из медиаблока на странице матча в Чемпионате Бразилии под обычным аккаунтом без плюса [manual]:
    - browsers:
        notFor:
          - ios-safari-9-touch
          - ios-safari-10-touch
          - android-browser-5.1-touch
    - do: авторизоваться под аккаунтом у которого нет подписки Яндекс.Плюс
    - do: перейти на страницу матча по прямой ссылке https://yandex.ru/sport/event/m534634
    - assert: |
        отображается страница матча "Шапекоэнсе - Сантос",
        иконки и наименование команд, счет,
        на странице отображается медиаблок с кнопкой плей и надписью "Смотреть с Плюсом",
        под медиаблоком отображается ход матча, состав, список карточек Новости футбола, виджеты "Другие матчи", "Турнирная таблица",
        внешний вид - https://jing.yandex-team.ru/files/an-smirn0v/Снимок%20экрана%202021-12-02%20в%2016.26.59.png
        ВНИМАНИЕ! Если вы проходите кейс не из РФ - вместо видео может отображаться заглушка "Нет доступных лицензий", и это не баг (в этом случае пропустите кейс)
    - do: нажать на кнопку плей
    - assert: |
        в текущей вкладке открывается страница https://yandex.ru/sport/live/ (ссылка может содержать и иные параметры, главное, чтобы совпадало начало)
        обратите внимание! Не нужно проверять внешний вид страницы https://yandex.ru/sport/live ! Это сторонний сервис, в данном кейсе нам важен сам факт перехода!

# кейс закомменчен, тк сейчас нет трансляций фнл, а следующие будут только в марте 2022
#  содержат переход на страницу предстоящих трансляций из карусели с видео на странице календаря ФНЛ [manual]:
#    - do: открыть турнир ФНЛ https://yandex.ru/sport/competition/28641
#    - assert: открывается страница турнира ФНЛ на вкладке "Календарь"
#    - do: поскролить страницу
#    - assert: |
#        под календарем отображается карусель с видео "Последние видео"
#        внешний вид https://jing.yandex-team.ru/files/kossakovskaya/2021-10-20_16-03-39.png
#    - do: поскролить карусель
#    - assert: карусель скроллится
#    - do: тапнуть на любое видео в карусели, заглушка которого похожа на заглушку на скрине выше (не содержит указания длительности видео и/или надпись ФНЛ - https://jing.yandex-team.ru/files/kossakovskaya/2021-10-20_15-18-24.png)
#    - assert: |
#        в новой вкладке открывается страница https://yandex.ru/sport/live/event (урл содержит дополнительные пути и параметры, нам главное проверить соответствие начала урла)
#        урл содержит параметры - from=sport&from_block=sport_main,
#        наименование матча на странице соответсвует тому, на который вы нажали на сервсие Яндекс.Спорт (https://jing.yandex-team.ru/files/kossakovskaya/2021-10-20_15-21-45.png)
#        обратите внимание! Не нужно проверять внешний вид страницы https://yandex.ru/sport/live ! Это сторонний сервис, в данном кейсе нам важен сам факт перехода и соответствие данных!

  может содержать переход на страницу лайв-трансляций хоккейного матча НХЛ для аккаунта с подпиской Плюс [manual]:
    - do: авторизоваться под аккаунтом у которого есть подписка Яндекс.Плюс (можно взять тут https://wiki.yandex-team.ru/eva/testing/projects/nerpa/#loginyiparolidljatestovyxpolzovatelejjspodpiskojjpljusa)
    - do: перейти на хоккейный матч https://yandex.ru/sport/event/m540077
    - assert: |
        открыт матч, который содержит медиаблок - "Видео о матче",
        внешний вид - https://jing.yandex-team.ru/files/kossakovskaya/2021-10-20_16-36-20.png ,
        ВНИМАНИЕ! Если вы проходите кейс не из РФ - вместо видео может отображаться заглушка "Нет доступных лицензий", и это не баг (в этом случае пропустите кейс)
    - do: перейти на страницу записи хоккейного матча кликом на видео с иконкой "Смотреть с Плюсом"
    - assert: |
        в текущей вкладке открывается страница https://yandex.ru/sport/live/event/m540077 (ссылка содержит параметры, в которых нужно проверить наличие - from=sport и sport-phone-event-media-block),
        наименование матча на странице лайв-трансляций совпадает с тем, который был на сервисе Яндекс.Спорта - https://jing.yandex-team.ru/files/kossakovskaya/2021-10-20_16-37-58.png ,
        обратите внимание! Не нужно проверять внешний вид страницы https://yandex.ru/sport/live ! Это сторонний сервис, в данном кейсе нам важен сам факт перехода и соответствие данных!
    - do: ОБЯЗАТЕЛЬНО РАЗЛОГИНИТЬСЯ из тестового аккаунта с подпиской Яндекс.Плюс

  может содержать переход со страницы хоккейного матча НХЛ на страницу покупки Плюс для аккаунта без подписки Плюса [manual]:
    - do: авторизоваться под аккаунтом у которого нет подписки Яндекс.Плюс
    - do: перейти на хоккейный матч https://yandex.ru/sport/event/m540077
    - assert: |
        открыт матч, который содержит медиаблок - "Видео о матче",
        внешний вид - https://jing.yandex-team.ru/files/nightsonne/2022-03-28_17-27-39.png,
        ВНИМАНИЕ! Если вы проходите кейс не из РФ - вместо видео может отображаться заглушка "Нет доступных лицензий", и это не баг (в этом случае пропустите кейс)
    - do: перейти на страницу записи хоккейного матча кликом на видео с иконкой "Смотреть с Плюсом"
    - assert: |
        в текущей вкладке открывается страница https://yandex.ru/sport/live/ (ссылка может содержать и иные параметры, главное, чтобы совпадало начало)
        обратите внимание! Не нужно проверять внешний вид страницы https://yandex.ru/sport/live ! Это сторонний сервис, в данном кейсе нам важен сам факт перехода и соответствие данных!

  позволяют просматривать прямые трансляции матчей ФНЛ на сервисе КП [manual]:
    - tags:
      - no_assessors
    - do: открыть матч-центр на вкладке "Футбол" за сегодняшнюю дату
    - do: найти текущий матч ФНЛ и перейти в него (если таких нет - скипнуть кейс)
    - assert: |
        открывается текущий матч ФНЛ,
        в блоке "Видео о матче" отображается видео матча с подписью "Прямая трансляция"
    - do: кликнуть по кнопке "Смотреть трансляцию"
    - assert: в текущей вкладке происходит переход на https://yandex.ru/sport/live

  позволяют просматривать прямые трансляции матчей Чемпионата Бразилии на сервисе КП [manual]:
    - tags:
      - no_assessors
    - do: открыть матч-центр на вкладке "Футбол" за сегодняшнюю дату
    - do: найти текущий матч Чемпионата Бразилии и перейти в него (если таких нет - скипнуть кейс)
    - assert: |
        открывается текущий матч Чемпионата Бразилии,
        в блоке "Видео о матче" отображается видео матча с подписью "Прямая трансляция"
    - do: кликнуть по кнопке "Смотреть трансляцию"
    - assert: в текущей вкладке происходит переход на https://yandex.ru/sport/live

  позволяют просматривать прямые трансляции матчей Чемпионата Франции на сервисе КП [manual]:
    - tags:
      - no_assessors
    - do: открыть матч-центр на вкладке "Футбол" за сегодняшнюю дату
    - do: найти текущий матч Чемпионата Франции и перейти в него (если таких нет - скипнуть кейс)
    - assert: |
        открывается текущий матч Чемпионата Франции,
        в блоке "Видео о матче" отображается видео матча с подписью "Прямая трансляция"
    - do: кликнуть по кнопке "Смотреть трансляцию"
    - assert: в текущей вкладке происходит переход на https://yandex.ru/sport/live

  позволяют просматривать прямые трансляции матчей НХЛ на сервисе КП [manual]:
    - tags:
      - no_assessors
    - do: открыть матч-центр на вкладке "Хоккей" за сегодняшнюю дату
    - do: найти текущий матч НХЛ и перейти в него (если таких нет - скипнуть кейс)
    - assert: |
        открывается текущий матч НХЛ,
        в блоке "Видео о матче" отображается видео матча с подписью "Прямая трансляция"
    - do: кликнуть по кнопке "Смотреть трансляцию"
    - assert: в текущей вкладке происходит переход на https://yandex.ru/sport/live

#  содержит карусель с видео на странице календаря Чемпионат Бразилии [manual]:
#    - do: открыть календарь "Чемпионат Бразилии" https://yandex.ru/sport/competition/39222
#    - do: поскролить страницу
#    - assert: |
#        под календарем отображается карусель с видео "Последние видео"
#        внешний вид https://jing.yandex-team.ru/files/an-smirn0v/shot_210819_122849.png
#    - do: поскролить карусель
#    - assert: карусель скроллится
#    - do: тапнуть на любое видео в карусели
#    - assert: открывается страница матча с медиаблоком
#    - do: поскроллить страницу матча


files: []

manager: mrwhite

qa-engineer: an-smirn0v

tlds:
  - ru
  - by
  - kz
  - uz
  - ua
  - com
