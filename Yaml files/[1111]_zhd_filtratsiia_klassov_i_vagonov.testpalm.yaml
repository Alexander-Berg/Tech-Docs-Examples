feature: ЖД
type: Выбор мест
description: |
    Типы и вагоны должны убираться после выбора билетов, если в них недостаточно свободных мест.
    Для асессоров: если тестируете тач, для простоты можно искать подходящие поезда в десктопе, после чего переходить по ссылке в таче.
    Для прохождения кейса требуется найти тип поездов:
    В одном из ТИПОВ (Плацкарт, купе, итд) все вагоны с не более чем 3 свободными местами - в типе должно быть несколько вагонов с разными классами

    Скрин: https://jing.yandex-team.ru/files/shenfeld/2020-01-14_15.11.10-p005k.png

    Можно искать на выдачах Москва - Санкт-Петербург, Москва - Екатеринбург или любых других.
    Если не получается найти, можно взять поезд с наименьшим количеством свободных
    мест и в соседних вкладках забронировать лишние места в вагонах.
specs:
  'ЖД: Фильтрация вагонов при малом кол-ве свободых мест':
    - do: Перейти на страницу выбора мест для поезда из подготовки 1
    - assert: На странице отображается тип, в вагонах которого осталось мало мест
    - do: Выбрать количество пассажиров больше, чем осталось в вагонах этого типа
    - assert: |
        * Этот тип вагона пропал
        * Остальные типы остались без изменений
    - do: |
        Уменьшить количество пассажиров так, чтобы мест в вагонах типа, который
        пропал, хватало
    - assert: Тип снова отображается
    - do: Перейти на страницу выбора мест для поезда из подготовки 2
    - assert: На странице отображается класс, в вагонах которого осталось мало мест
    - do: |
        Выбрать количество пассажиров больше, чем осталось в вагонах этого
        класса
    - assert: |
        * Этот класс пропал
        * Остальные классы стались без изменений
    - do: >-
        Уменьшить количество пассажиров так, чтобы мест в вагонах класса,
        который пропал, хватало
    - assert: Класс снова отображается
    - do: Перейти на страницу выбора мест для поезда из подготовки 3
    - assert: На странице отображается вагон, где осталось мало мест
    - do: Выбрать количество пассажиров больше, чем осталось в этом вагоне
    - assert: |
        * Этот вагон пропал
        * Остальные вагоны остались без изменений
    - do: |
        Уменьшить количество пассажиров так, чтобы мест в вагонах класса,
        который пропал, хватало
    - assert: Вагон снова отображается

manual: true
Функциональность: Разное по странице выбора мест
Устройство:
  - Тач
  - Десктоп
Страница: Выбор мест
Сервис: ЖД
Тестирование асессорами: Да
Окружение:
  - Production
  - Testing
Автор: shenfeld
