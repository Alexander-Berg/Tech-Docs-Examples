feature: Авиа
type: Выдача
description: ''
specs:
  'Проверка фильтра пересадок "Города пересадок"':
    - do: 'открыть главную страницу путешествий, вкладка Авиабилеты'
    - do: |-
        Заполнить форму поиска билетов
        Откуда: Екатеринбург
        Куда: Токио
        Туда: 5 число следующего месяца, дату обратно не ставить
        Пассажиры: 1 взрослых
        Класс: Эконом
    - do: Нажать кнопку “Найти”
    - do: >-
        Assert: Открылась страница выдачи. В фильтре пересадок ничего не
        выбрано.
    - do: |
        (Шаг для тачей) Открыть блок с фильтрами, нажав на кнопку с ползунками
        https://jing.yandex-team.ru/files/gouken67/Ползунок%20фильтров%20на%20тачах.png
    - do: Кликнуть по фильтру Пересадки
    - do: >-
        Assert: Открылся блок фильтра пересадок. Под ползунком с длительностью пересадки располагается блок Города пересадок.
        Галочки не на одном из пунктов не стоит.
    - do: |
        Выставить чекбокс Все города
        Вернуться на выдачу
    - assert: |
        Все остальные чекбокссы под выбранным ставятся в этот же момент.
        (Для десктопа) Цвет кнопки фильтра Пересадки становится тёмно-серым.
        Количество вариантов на выдаче не изменилось
    - do: |
        Снова открыть фильтр Пересадки
        (Шаги для десктопа) Навести курсор на код AUH для города Абу-Даби
        Кликнуть по появившейся надписи Только (если Абу-Даби нет, поискать на другую дату, либо пропустить шаги)
        (Шаги для тача) Снять чекбокс Все города
        Установить чекбокс для Абу-Даби (если Абу-Даби нет, поискать на другую дату, либо пропустить шаги)
    - do: Вернуться на выдачу
    - assert: Вместо выдачи появился фильтрояк "Нет подходящих вариантов" и синий бабл "Пересадки" с крестиком
    - do: Кликнуть по крестику синего бабла "Пересадки" (если Абу-Даби не было, пропустить шаг)
    - assert: Снова вернулись на выдачу, ни один фильтр не выбран
    - do: |
        Открыть форму поиска
        Заполнить форму следующими данными:
        Откуда: Екатеринбург
        Куда: Сочи
        Туда: 5 число следующего месяца
        Обратно: 10 число следующего месяца
        Пассажиры: 1 взрослых
        Класс: Эконом
    - do: Нажать кнопку “Найти”
    - assert: Открылась страница выдачи Екатеринбург - Сочи.
    - do: |
        (Шаг для тачей) Открыть блок с фильтрами, нажав на кнопку с ползунками
        https://jing.yandex-team.ru/files/gouken67/Ползунок%20фильтров%20на%20тачах.png
    - do: Кликнуть по фильтру Пересадки
    - do: >-
        Assert: Показался блок фильтра пересадок. Под ползунком с длительностью пересадки располагается блок Города пересадок.
        Есть переключатель направления Туда, Обратно. Выбрано Туда.
        Галочки не на одном из пунктов не стоит.
    - do: |
        Выставить город пересадки Туда = Москва
        Переключиться на направление Обратно
        Выставить город пересадки Обратно = Москва
        Вернуться на выдачу
    - assert: На выдаче остались только прямые рейсы и рейсы с пересадками в Москве (SVO, DME, VKO, ZIA - могут быть не все сразу)
manual: true
Функциональность: Фильтры и сортировки
Устройство:
    - Десктоп
    - Тач
Страница: Выдача
tlds: ru
Сервис: Авиа
Тестирование асессорами: Да
Окружение: Testing
Tag: Regress
