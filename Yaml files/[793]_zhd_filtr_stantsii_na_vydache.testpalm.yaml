feature: ЖД
type: Выдача
description: |-
  Кейс проверяет работу фильтра Станции на выдаче:
  ![](https://jing.yandex-team.ru/files/shenfeld/2020-12-03_16.01.09-fz67c.png)
  Перейти на главную сервиса
  Перейти на вкладку Ж/Д билеты
specs:
  'ЖД: Фильтр "Станции" на выдаче':
    - do: Открыть выдачу Москва - Санкт-Петербург на завтра
    - assert: '* В блоке с фильтрами есть фильтр Станции'
    - do: Кликнуть по фильтру Станции
    - assert: >-
        * Есть два блока "Отправление"/"Прибытие"

        * В фильтре присутствуют станции, от которых отправляются поезда

        * Справа от названия станции указана минимальная цена на соответствующие
        билеты

        * Чекбоксы не проставлены

        * В фильтре присутствуют все станции, которые есть на выдаче
    - do: Выбрать фильтр "Курский вокзал"
    - assert: >-
        * В чекбоксе проставилась галочка

        * Чекбокс закрасился желтым

        * Появилась кнопка “Сбросить фильтры”

        * На выдаче остались поезда, отправляющиеся с Курского вокзала

        * Изменился урл страницы: добавилось stationFrom=2000001

        * Может измениться вид других фильтров, находящихся в правой колонке:
        если на выдаче отсутствуют поезда, подходящие под фильтр - строка с ним
        дизейблится; меняется количество поездов в фильтре “Цены”, меняются
        минимальные цены в остальных фильтрах
    - do: Выбрать фильтр "Московский вокзал"
    - assert: >-
        * В чекбоксе проставилась галочка

        * Чекбокс закрасился желтым

        * На выдаче остались поезда, отправляющиеся с Курского вокзала и
        прибывающие на Московский вокзал

        * Изменился урл страницы: добавилось stationTo=9602494

        * Может измениться вид других фильтров, находящихся в правой колонке:
        если на выдаче отсутствуют поезда, подходящие под фильтр - строка с ним
        дизейблится; меняется количество поездов в фильтре “Цены”, меняются
        минимальные цены в остальных фильтрах
    - do: Снять выбор "Курский вокзал"
    - assert: >-
        * Галочка в чекбоксе снялась

        * В выдаче присутствуют поезда, прибывающие на Московский вокзал и
        отправляющиеся с Ленинградского и Курского вокзалов

        * В урле отсутствует stationFrom=
    - do: Снять выбор "Московский вокзал"
    - assert: |-
        * Галочка в чекбоксе снялась
        * Исчезла кнопка “Сбросить фильтры”
        * Выдача вернулась в первоначальное состояние
        * Урл страницы вернулся в первоначальное состояние
manual: true
Функциональность: Фильтры и сортировки
Устройство: Десктоп
Страница: Выдача
Сервис: ЖД
Тестирование асессорами: Да
Окружение:
  - Production
  - Testing
Автор: shenfeld
