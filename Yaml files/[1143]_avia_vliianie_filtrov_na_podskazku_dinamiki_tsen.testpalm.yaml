feature: Авиа
type: Выдача
description: >-
  Для удобства разделим все фильтры на 2 группы.

  Группа 1 будет содержать все фильтры, которые влияют на подсказку Динамики
  цен. Это фильтры:

  - Фильтр багажа

  - Пересадки (в т.ч. фильтр Без пересадок)

  - Время вылета/прилёта


  Группа 2 состоит из фильтров, при применении которых подсказка Динамики цен
  принимает нейтральный вид ("Сравните стоимость билетов на разные даты"). Это
  фильтры:

  - Аэропорты

  - Авиакомпании
specs:
  'Авиа: Влияние фильтров на подсказку Динамики цен':
    - do: 'Открыть главную страницу путешествий, вкладка Авиабилеты'
    - do: |-
        Заполнить форму поиска билетов
        Откуда: Екатеринбург
        Куда: Санкт-Петербург
        Туда: 5 число следующего месяца, дату обратно не ставить.
        Пассажиры: 1 взрослых
        Класс: Эконом

        Нажать кнопку “Найти”
    - assert: Открылась страница выдачи
    - do: Нажать на кнопку “Динамика цен”
    - assert: |-
        Общий фон страницы затемнился.
        По центру страницы появился блок динамики цены.
    - do: |-
        Дождаться, пока на Динамике цен прогрузятся цены на все 7 дней.
        Закрыть окно Динамики.
    - do: >-
        Применить поочерёдно фильтр багажа, фильтр Без пересадок, любой другой
        фильтр из Пересадок, Время вылета/прилёта.
    - assert: >-
        Происходит одно из двух:

        - Подсказка Динамики цен меняется всякий раз, когда происходит
        применение фильтра, либо его снятие: https://jing.yandex-team.ru/files/gouken67/983_1.png
        Аналогично меняется заголовок в блоке Динамики цен: https://jing.yandex-team.ru/files/gouken67/1009_1.png

        - Подсказка Динамики цен остаётся одинаковой при применении фильтров.


        В обоих случаях подсказка никогда не принимает нейтральный вид (см.
        описание).

    - do: |-
        Сбросить все фильтры.
        Применить поочерёдно фильтр Аэропорты, фильтр Авиакомпании.
    - assert: >-
        Подсказка принимает нейтральный вид, когда применяется один из этих
        фильтров. В блоке Динамики цен записано "Цены на соседние даты".
    - do: >-
        Применить произвольную комбинацию фильтров из группы 1 и фильтров из
        группы 2.
    - assert: Подсказка принимает нейтральный вид.
    - do: Сбросить все фильтры.
    - assert: 'Подсказка принимает вид, который был до применения любого из фильтров.'
manual: true
Функциональность: Динамика
Устройство: Десктоп
Страница: Выдача
Сервис: Авиа
Тестирование асессорами: Да
Окружение:
  - Production
  - Testing
Автор: gouken67
