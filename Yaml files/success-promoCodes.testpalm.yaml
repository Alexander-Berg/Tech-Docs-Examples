feature: Отели
type: Бронирование отелей

specs:
    Успешное использование промокода:
        - condition: Быть залогиненым.
        - do: Перейти на страницу бронирования для любого отеля, на любые даты
        - assert: Открылась страница бронирования.
        - assert: В корзинке есть галка "У меня есть промокод", по умолчанию выключена. Поле инпут для промокода и кнопка "Применить" не показывается.
        - do: Включить галку "У меня есть промокод"
        - assert: Появилось Поле инпут для промокода и кнопка "Применить"
        - do: Запомнить итоговую сумму заказа
        - do: В инпут написать промокод "AUTOTEST_PROMOCODE_200", нажать применить
        - assert: Инпут, кнопка и галка задизейблились
        - assert: В блоке с промокодом появилась сумма скидки "− 200 ₽"
        - assert: Появилась ссылка "Отменить"
        - assert: Сумма заказа стала на 200р меньше, чем была до применения промокода
        - do: Заполнить информацию о гостях и контактную информацию любыми валидными данными.
        - do: Нажать Оплатить (если будет шаг оплаты, ввести данные тестовой карты и оплатить)
        - assert: Открылась страница успешной брони happy page
        - do: Нажать на кнопку "Подробнее о заказе"
        - assert: Открылась страница заказа в личном кабинете
        - assert: Сумма заказа соответствует сумме со скидкой по промокоду
        - do: Нажать на стрелку рядом с ценой заказа
        - assert: Открылся список деталей формирования цены
        - assert: В списке есть информация о примененном промокоде "Скидка по промокоду AUTOTEST_PROMOCODE_200 − 200 ₽"

files:
    - tests/common/hotels/book/promoCodes/success-promoCodes.hermione.ts

Сервис: Отели
Страница: Бронирование
Автор: tcheremnykh
Устройство:
    - Тач
    - Десктоп
Функциональность: Промокод
Окружение:
    - Testing
Тестирование асессорами: Нет
