feature: Авиа
type: Выдача
description: ''
specs:
  'Авиа: [Touch] Работа с меню фильтров':
    - do: 'Открыть главную страницу путешествий, вкладка Авиабилеты'
    - do: |-
        Заполнить форму поиска билетов
        Откуда: Екатеринбург
        Куда: Санкт-Петербург
        Туда: 5 число следующего месяца, дату обратно не ставить.
        Пассажиры: 1 взрослых
        Класс: Эконом
    - do: Нажать кнопку “Найти”
    - assert: Открылась страница выдачи
    - do: Нажать на кнопку с ползунками
    - assert: >-
        Открывается шторка с фильтрами. На кнопке "Показать" указано текущее
        число вариантов на выдаче.
    - do: Выставить произвольный порядок фильтров.
    - assert: По мере выставления фильтров число на кнопке Показать уменьшается.
    - do: 'Закрыть одну из групп, в которой были выбраны значения фильтров.'
    - assert: >-
        Группа фильтров теперь имеет числовое значение примененных в ней
        фильтров

        screen: https://jing.yandex-team.ru/files/molox/77777.png
    - do: Комбинацией фильтров набрать минимальное, но не равное 0 количество вариантов (число на кнопке Показать)
    - do: Нажать на кнопку Показать.
    - assert: >-
        Возвращаемся на выдачу. На выдаче ровно столько же вариантов, сколько
        было указано на кнопке Показать.

        На кнопке с ползунками указано корректное число применённых фильтров -
        сколько групп фильтров было задействовано, такое число и будет записано
        (фильтр Без пересадок входит в группу Пересадки).
    - do: |-
        Вернуться в шторку меню с фильтрами.
        Изменить порядок фильтров.
        Нажать на затемненную область позади шторки.
        Шторка должна скрыться.
    - assert: >-
        Возвращаемся на выдачу. На выдаче ровно столько же вариантов, сколько
        было указано на кнопке Показать.

        На кнопке с ползунками указано корректное число применённых фильтров.
    - do: |-
        Вернуться в шторку с фильтрами.
        Нажать на кнопку Сбросить.
    - assert: >-
        Все фильтры сняты. Группы фильтров больше не окрашены в жёлтый цвет.
        Число вариантов на кнопке Показать стало тем же, каким оно было до
        применения фильтров.

        Кнопка "Сбросить" не активна и окрашена серым
    - do: Нажать на кнопку Показать.
    - assert: >-
        Шторка скрылась

        Возвращаемся на выдачу. На выдаче ровно столько же вариантов, сколько
        было указано на кнопке Показать.

        На кнопке с ползунками нет чисел.
    - do: Кликнуть по кнопке меню фильтров
    - assert: Открылась шторка с меню фильтров. Ни один фильтр не выбран.
    - do: |-
        Выбрать произвольный фильтр
        screen: https://jing.yandex-team.ru/files/molox/99999.png
    - assert: Появился крестик для сброса фильтра
    - do: |-
        Очистить выбранный фильтр кнопкой в виде крестика
        screen: https://jing.yandex-team.ru/files/molox/крест.png
    - assert: Фильтр сбросился. Кол-во вариантов увеличилось
    - do: Закрыть меню фильтров
    - assert: >-
        Шторка скрылась

        Возвращаемся на выдачу. На выдаче ровно столько же вариантов, сколько
        было указано на кнопке Показать.

        На кнопке с ползунками нет чисел.
manual: true
Функциональность: Фильтры и сортировки
Устройство: Тач
Страница: Выдача
Сервис: Авиа
Тестирование асессорами: Да
Окружение:
  - Production
  - Testing
Tag: Smoke
Автор: gouken67
