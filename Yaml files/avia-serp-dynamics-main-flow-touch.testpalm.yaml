feature: Авиа
type: Выдача
description: ''
specs:
  'Основной кейс для работы с Динамикой цен (Тач)':
    - do: 'Открыть главную страницу Путешествий, вкладка Авиабилеты'
    - do: |-
        Заполнить форму поиска билетов
        Откуда: Москва
        Куда: Кейптаун
        Туда: 5 число следующего месяца
        Обратно: любое другое число следующего месяца
        Пассажиры: 1 взрослый
        Класс: Эконом
    - do: Нажать кнопку "Найти"
    - assert: >-
        Открылась страница выдачи.

        На выдаче присутствует блок Динамики цен с кнопками:

        https://jing.yandex-team.ru/files/gouken67/1442_1_touch.png

        В блоке 3 кнопки с ценами и одна кнопка Смотреть. Кнопки с ценами содержат цены и даты для текущего дня и +-1 ближайших дня.
    - do: |-
        Дождаться, когда догрузятся цены на всех кнопках
        Тапнуть по одной из кнопок
    - assert: |-
        Осуществляется переход на выдачу Москва - Кейптаун для выбранного дня.
        Самая дешёвая цена на выдаче совпадает с тем, что было указано на кнопке в блоке Динамики цен.
    - do: |-
        Тапнуть по Смотреть весь календарь.
        В открывшейся шторке тапнуть по кнопке Открыть полный календарь.
    - assert: |-
        Осуществляется переход на полный календарь Динамики цен.
        Календарь проскроллен до сегодняшней даты

        https://jing.yandex-team.ru/files/gouken67/dynamics-main-flow-touch-1.png
    - do: Доскроллить календарь до выбранного промежутка
    - assert: |-
        Выбранный промежуток выбелен жёлтым цветом
        Цены за промежутки за 6 ближайших дней либо уже известны, либо ещё ищутся (крутится жёлтый спиннер)
    - do: Тапнуть по строке с примерной/неизвестной ценой
    - assert: В строке появляется жёлтый спиннер. Через какое-то время появляется цена, характерная для выбранного периода времени Туда-Обратно.
    - do: Кликнуть по клетке с ценой
    - assert: |-
        Осуществляется переход на выдачу Москва - Кейптаун для выбранного дня.
        Самая дешёвая цена на выдаче совпадает с тем, что было указано на кнопке в блоке Динамики цен.
manual: true
Функциональность: Динамика
Устройство:
    - Тач
Страница: Выдача
Сервис: Авиа
Тестирование асессорами: Нет
Окружение:
    - Testing
    - Production
Автор: gouken67
