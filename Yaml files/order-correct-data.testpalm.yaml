feature: Авиабилеты
type: Покупка

specs:
    Соответствие данных на покупке Москва — Симферополь:
        - do: открыть главную страницу путешествий, вкладка Авиабилеты
        - do: |
              Заполнить форму поиска билетов
              Откуда: Москва
              Куда: Севастополь
              Туда: текущее число, дату обратно не ставить.
              Пассажиры: 1 взрослых
              Класс: Эконом
        - do: Нажать кнопку “Найти”
        - assert: открылась выдача
        - assert: выдача соответствует параметрам поиска
        - do: Кликнуть по первому сниппету(не по кнопке купить)
        - assert: открылась страница покупки
        - assert: есть заголовок Москва- Симферополь
        - assert: есть дата вылета
        - assert: есть надпись "1 пассажир эконом-класс"
        - assert: есть хотя бы одна кнопка перехода к партнеру
        - do: перейти по кнопке купить у любого партнера(no_autotest)
        - assert: в новой вкладке открылась страница партнера, параметры поиска соответствуют выбранным на сервисе(no_autotest)

    Соответствие данных на покупке Москва — Санкт-Петербург:
        - do: открыть главную страницу путешествий, вкладка Авиабилеты
        - do: |
            Заполнить форму поиска билетов
            Откуда: Домодедово
            Куда: Пулково
            Туда: текущее число, дату обратно не ставить.
            Пассажиры: 1 взрослых
            Класс: Эконом
        - do: Нажать кнопку “Найти”
        - assert: открылась выдача
        - assert: выдача соответствует параметрам поиска
        - do: Кликнуть по первому сниппету(не по кнопке купить)
        - assert: открылась страница покупки
        - assert: есть заголовок Москва — Санкт-Петербург
        - assert: есть дата вылета
        - assert: есть надпись "1 пассажир эконом-класс"
        - assert: есть хотя бы одна кнопка перехода к партнеру
        - do: перейти по кнопке купить у любого партнера(no_autotest)
        - assert: в новой вкладке открылась страница партнера, параметры поиска соответствуют выбранным на сервисе(no_autotest)

    Соответствие данных на покупке Берлин — Париж:
        - do: открыть главную страницу путешествий, вкладка Авиабилеты
        - do: |
              Заполнить форму поиска билетов
              Откуда: Берлин
              Куда: Париж
              Туда: текущее число, дату обратно не ставить.
              Пассажиры: 1 взрослых
              Класс: Бизнес
        - do: Нажать кнопку “Найти”
        - assert: открылась выдача
        - assert: выдача соответствует параметрам поиска
        - do: Кликнуть по первому сниппету(не по кнопке купить)
        - assert: открылась страница покупки
        - assert: есть заголовок Берлин — Париж
        - assert: есть дата вылета
        - assert: есть надпись "1 пассажир бизнес-класс"
        - assert: есть хотя бы одна кнопка перехода к партнеру
        - do: перейти по кнопке купить у любого партнера(no_autotest)
        - assert: в новой вкладке открылась страница партнера, параметры поиска соответствуют выбранным на сервисе(no_autotest)

    Соответствие данных на покупке Новосибирск — Иркутск:
        - do: открыть главную страницу путешествий, вкладка Авиабилеты
        - do: |
            Заполнить форму поиска билетов
            Откуда: Новосибирск
            Куда: Иркутск
            Туда: текущее число, дату обратно указать через пару дней.
            Пассажиры: 2 взрослых
            Класс: Эконом
        - do: Нажать кнопку “Найти”
        - assert: открылась выдача
        - assert: выдача соответствует параметрам поиска
        - do: Кликнуть по первому сниппету(не по кнопке купить)
        - assert: открылась страница покупки
        - assert: есть заголовки Новосибирск — Иркутск, Иркутск — Новосибирск
        - assert: есть дата вылета и прилёта
        - assert: есть надпись "2 пассажира эконом-класс"
        - assert: есть хотя бы одна кнопка перехода к партнеру
        - do: перейти по кнопке купить у любого партнера(no_autotest)
        - assert: в новой вкладке открылась страница партнера, параметры поиска соответствуют выбранным на сервисе(no_autotest)

files:
    - tests/common/avia/order/order-correct-data.hermione.ts

tags: regression

Сервис: Авиа
Страница: Покупка
Функциональность: Инфа на покупке
Устройство:
    - Десктоп
    - Тач
Окружение:
    - Testing
Тестирование асессорами: Да
