feature: Записная книжка
type: Пассажиры
description: |
      При тестировании тач-версии внешний вид формы и элементов может отличаться от скринов в кейсе, но ОР должен совпадать.
      Для Асессоров: Выполнить вход удается ТОЛЬКО через кнопку Мои поездки (рядом с кнопкой Войти) > кликнуть Войдите в аккаунт > Авторизоваться тестовым аккаунтом (ссылка ведет на passport-test.yandex.ru). Важно чтобы это был именно тестовый аккаунт, т.к. через свой аккаунт не впустит
      ![image](https://jing.yandex-team.ru/files/gouken67/Новый%20вход%20в%20ЛК.png).
      Для тестинга асессоры могут пользоваться тестовым аккаунтом : vladlen@yandex.ru password: v12345678

specs:
    Добавление первого пассажира на кириллице:
        - do: |
              Зайти в Мои поездки (иконка находится на главной в правом верхнем углу)
              Перейти во вкладку “Пассажиры” (на тачах Пассажиры находятся внутри бургера)

        - assert: Отображается кнопка "Добавить первого пассажира"
        - do: Нажать на пноку "Добавить первого пассажира"
        - assert: Открылась форма заполнения данных
        - do: |
              Заполнить форму добавления пассажира все поля на кириллице
              ФИО - Иванов Иван Иванович
              Дата рождения - 01.01.1970
              Пол - м
              Гражданство - Россия
              Документ - Паспорт РФ
              Серия и Номер - 6505123456
        - do: Нажать кнопку "Сохранить"
        - assert: Пассажир добавился, данные совпадают с введенными (проверяем все поля документа, который добавился)
        - do: Для тачей - кликнуть по блоку с ФИО созданного пассажира
        - assert: Информация о пассажире совпадает (псевдоним = Фамилия + Имя)
        - do: Нажать кнопку "Удалить пассажира"
        - do: Подтвердить удаление
        - assert: Проверить, что пассажиров в аккаунте нет
        - assert: Отображается кнопка "Добавить первого пассажира"

    Добавление первого пассажира на латинице:
        - do: |
              Зайти в личный кабинет (иконка ЛК находится на главной в правом верхнем углу, в тачах - внутри бургера)
              Перейти в раздел "Моя поездка", затем во вкладку “Пассажиры”
        - assert: Отображается кнопка "Добавить первого пассажира"
        - do: Нажать на пноку "Добавить первого пассажира"
        - assert: Открылась форма заполнения данных
        - do: |
              Заполнить форму добавления пассажира все поля на латинице
              ФИО - Ivanov Ivan Ivanovich
              Дата рождения - 01.01.1970
              Пол - м
              Гражданство - Россия
              Документ - Паспорт РФ
              Серия и Номер - 6505654321
        - do: Нажать кнопку "Сохранить"
        - assert: Пассажир добавился, данные совпадают с введенными (проверяем все поля документа, который добавился)
        - assert: Информация о пассажире совпадает (псевдоним = Фамилия + Имя)
        - do: Нажать кнопку "Удалить пассажира"
        - do: Подтвердить удаление
        - assert: Проверить, что пассажиров в аккаунте нет
        - assert: Отображается кнопка "Добавить первого пассажира"

    Добавление и редактирование пассажира с ИНН:
        - do: |
              Зайти в личный кабинет (иконка ЛК находится на главной в правом верхнем углу, в тачах - внутри бургера)
              Перейти в раздел "Моя поездка", затем во вкладку “Пассажиры”
        - assert: Отображается кнопка "Добавить первого пассажира"
        - do: Нажать на пноку "Добавить первого пассажира"
        - assert: Открылась форма заполнения данных
        - do: |
              Заполнить форму добавления пассажира все поля на кириллице
              ФИО - Иванов Иван Иванович
              Дата рождения - 01.01.1970
              Пол - м
              Гражданство - Россия
              Документ - Паспорт РФ
              Серия и Номер - 6505123456
              ИНН - 123123123123
        - do: Нажать кнопку "Сохранить"
        - assert: Пассажир добавился, данные совпадают с введенными (проверяем все поля документа, который добавился)
        - assert: Информация о пассажире совпадает (псевдоним = Фамилия + Имя)
        - do: Нажать на кнопку редатирования пассажира (карандаш напротив псевдонима)
        - assert: Открылась форма редактирования данных
        - do: |
              Заполнить форму редатирования пассажира все поля на кириллице
              Имя на сайте - Джохни джжохнсон
              Дата рождения - 01.01.1980
              Пол - ж
              ИНН - 321321321321
        - do: Нажать кнопку "Сохранить"
        - assert: Пассажир сохранился. Данные пасажира совпадают с введенными (псевдоним = lastName firstName из данных, дата рождения, пол и номер ИНН)
        - do: Нажать кнопку "Удалить пассажира"
        - do: Подтвердить удаление
        - assert: Проверить, что пассажиров в аккаунте нет
        - assert: Отображается кнопка "Добавить первого пассажира"

    Добавление пассажира, когда уже есть созданные:
        - do: |
              Зайти в личный кабинет (иконка ЛК находится на главной в правом верхнем углу, в тачах - внутри бургера)
              Перейти в раздел "Моя поездка", затем во вкладку “Пассажиры”
        - assert: Отображается кнопка "Добавить первого пассажира"
        - do: Нажать на пноку "Добавить первого пассажира"
        - assert: Открылась форма заполнения данных
        - do: |
              Заполнить форму добавления пассажира все поля на латинице
              ФИО - Ivanov Ivan Ivanovich
              Дата рождения - 01.01.1970
              Пол - м
              Гражданство - Россия
              Документ - Паспорт РФ
              Серия и Номер - 6505654321
        - do: Нажать кнопку "Сохранить"
        - assert: Пассажир добавился, данные совпадают с введенными (проверяем все поля документа, который добавился)
        - assert: Информация о пассажире совпадает (псевдоним = Фамилия + Имя)
        - do: Нажать кнопку "Добавить"
        - assert: Открылась форма заполнения данных
        - do: |
              Заполнить форму добавления пассажира все поля на кириллице
              ФИО - Иванов Иван Иванович
              Дата рождения - 01.01.1970
              Пол - м
              Гражданство - Россия
              Документ - Паспорт РФ
              Серия и Номер - 6505123456
        - do: Нажать кнопку "Сохранить"
        - assert: Пассажир добавился, данные совпадают с введенными (проверяем все поля документа, который добавился)
        - assert: Информация о пассажире совпадает (псевдоним = Фамилия + Имя)
        - do: Нажать кнопку "Удалить пассажира"
        - do: Подтвердить удаление
        - do: Нажать кнопку "Удалить пассажира"
        - do: Подтвердить удаление
        - assert: Проверить, что пассажиров в аккаунте нет
        - assert: Отображается кнопка "Добавить первого пассажира"

    Добавление паспорта со всеми полями:
        - do: |
              Зайти в личный кабинет (иконка ЛК находится на главной в правом верхнем углу, в тачах - внутри бургера)
              Перейти в раздел "Моя поездка", затем во вкладку “Пассажиры”
        - assert: Отображается кнопка "Добавить первого пассажира"
        - do: Нажать на пноку "Добавить первого пассажира"
        - assert: Открылась форма заполнения данных
        - do: |
              Заполнить форму добавления пассажира все поля на кириллице
              ФИО - Иванов Иван Иванович
              Дата рождения - 01.01.1970
              Пол - м
              Гражданство - Россия
              Документ - Паспорт РФ
              Серия и Номер - 6505123456
        - do: Нажать кнопку "Сохранить"
        - assert: Пассажир добавился, данные совпадают с введенными (проверяем все поля документа, который добавился)
        - assert: Информация о пассажире совпадает (псевдоним = Фамилия + Имя)
        - do: На документе нажать на иконку "Корзинка"
        - assert: Открылся диалог подтверджения удаления
        - do: Нажать кнопку "Да, удалить"
        - assert: Проверить, что отобразилась надпись "Без документов вы не сможете купить билет или забронировать номер."
        - do: |
              На десктопе - Нажимаем на интент (кнопку ниже текста "Добавить документ:") "Паспорт гражданина РФ"
              На таче - Нажимаем на кнопку Добавить документ, далее - синюю кнопку Паспорт гражданина РФ
        - assert: Открылась форма заполнения данных для документа
        - do: |
              Заполнить форму добавления документа
              Фамилия (кириллица) - Иванов
              Имя (кириллица) - Иван
              Отчество (кириллица) - Иванович
              Фамилия (латиница) - Ivanov
              Имя (латиница) - Ivan
              Отчество (латиница) - Ivanovich
              Серия и Номер - 1234567890
        - do: Нажать кнопку "Сохранить"
        - assert: Пассажир добавился, данные совпадают с введенными (проверяем все поля документа, который добавился)
        - do: Нажать кнопку "Удалить пассажира"
        - do: Подтвердить удаление
        - assert: Проверить, что пассажиров в аккаунте нет
        - assert: Отображается кнопка "Добавить первого пассажира"

    Добавление паспорта только с обязательными полями:
        - do: |
              Зайти в личный кабинет (иконка ЛК находится на главной в правом верхнем углу, в тачах - внутри бургера)
              Перейти в раздел "Моя поездка", затем во вкладку “Пассажиры”
        - assert: Отображается кнопка "Добавить первого пассажира"
        - do: Нажать на пноку "Добавить первого пассажира"
        - assert: Открылась форма заполнения данных
        - do: |
              Заполнить форму добавления пассажира все поля на кириллице
              ФИО - Иванов Иван Иванович
              Дата рождения - 01.01.1970
              Пол - м
              Гражданство - Россия
              Документ - Паспорт РФ
              Серия и Номер - 6505123456
        - do: Нажать кнопку "Сохранить"
        - assert: Пассажир добавился, данные совпадают с введенными (проверяем все поля документа, который добавился)
        - assert: Информация о пассажире совпадает (псевдоним = Фамилия + Имя)
        - do: |
              На десктопе - Нажимаем на интент (кнопку ниже текста "Добавить документ:") "Паспорт гражданина РФ"
              На таче - Нажимаем на кнопку "Добавить документ", далее - синюю кнопку Паспорт гражданина РФ
        - assert: Открылась форма заполнения данных для документа
        - do: |
              Заполнить форму добавления документа
              Серия и Номер - 0987654321
        - do: Нажать кнопку "Сохранить"
        - assert: Пассажир добавился, данные совпадают с введенными (проверяем все поля документа, который добавился)
        - do: Нажать кнопку "Удалить пассажира"
        - do: Подтвердить удаление
        - assert: Проверить, что пассажиров в аккаунте нет
        - assert: Отображается кнопка "Добавить первого пассажира"

    Добавление заграна только с обязательными полями:
        - do: |
              Зайти в личный кабинет (иконка ЛК находится на главной в правом верхнем углу, в тачах - внутри бургера)
              Перейти в раздел "Моя поездка", затем во вкладку “Пассажиры”
        - assert: Отображается кнопка "Добавить первого пассажира"
        - do: Нажать на пноку "Добавить первого пассажира"
        - assert: Открылась форма заполнения данных
        - do: |
              Заполнить форму добавления пассажира все поля на кириллице
              ФИО - Иванов Иван Иванович
              Дата рождения - 01.01.1970
              Пол - м
              Гражданство - Россия
              Документ - Паспорт РФ
              Серия и Номер - 6505123456
        - do: Нажать кнопку "Сохранить"
        - assert: Пассажир добавился, данные совпадают с введенными (проверяем все поля документа, который добавился)
        - assert: Информация о пассажире совпадает (псевдоним = Фамилия + Имя)
        - do: |
              На десктопе - Нажимаем на интент (синюю кнопку ниже текста "Добавить документ:") "Заграничный паспорт гражданина РФ"
              На таче - Нажимаем на кнопку Добавить документ, далее - синюю кнопку "Заграничный паспорт гражданина РФ"
        - assert: Открылась форма заполнения данных для документа
        - do: |
              Заполнить форму добавления документа
              Серия и Номер - 123456789
        - do: Нажать кнопку "Сохранить"
        - assert: Пассажир добавился, данные совпадают с введенными (проверяем все поля документа, который добавился)
        - do: Нажать кнопку "Удалить пассажира"
        - do: Подтвердить удаление
        - assert: Проверить, что пассажиров в аккаунте нет
        - assert: Отображается кнопка "Добавить первого пассажира"

    Добавление свидетельства о рождении только с обязательными полями:
        - do: |
              Зайти в личный кабинет (иконка ЛК находится на главной в правом верхнем углу, в тачах - внутри бургера)
              Перейти в раздел "Моя поездка", затем во вкладку “Пассажиры”
        - assert: Отображается кнопка "Добавить первого пассажира"
        - do: Нажать на пноку "Добавить первого пассажира"
        - assert: Открылась форма заполнения данных
        - do: |
              Заполнить форму добавления пассажира все поля на кириллице
              ФИО - Иванов Иван Иванович
              Дата рождения - 01.01.1970
              Пол - м
              Гражданство - Россия
              Документ - Паспорт РФ
              Серия и Номер - 6505123456
        - do: Нажать кнопку "Сохранить"
        - assert: Пассажир добавился, данные совпадают с введенными (проверяем все поля документа, который добавился)
        - assert: Информация о пассажире совпадает (псевдоним = Фамилия + Имя)
        - do: |
              На десктопе - Нажимаем на интент (синюю кнопку ниже текста "Добавить документ:") "Свидетельство о рождении"
              На таче - Нажимаем на кнопку Добавить документ, далее - синюю кнопку "Свидетельство о рождении"
        - assert: Открылась форма заполнения данных для документа
        - do: |
              Заполнить форму добавления документа
              Серия и Номер - XIАБ123456
        - do: Нажать кнопку "Сохранить"
        - assert: Пассажир добавился, данные совпадают с введенными (проверяем все поля документа, который добавился)
        - do: Нажать кнопку "Удалить пассажира"
        - do: Подтвердить удаление
        - assert: Проверить, что пассажиров в аккаунте нет
        - assert: Отображается кнопка "Добавить первого пассажира"

    Добавление военного билета только с обязательными полями:
        - do: |
              Зайти в личный кабинет (иконка ЛК находится на главной в правом верхнем углу, в тачах - внутри бургера)
              Перейти в раздел "Моя поездка", затем во вкладку “Пассажиры”
        - assert: Отображается кнопка "Добавить первого пассажира"
        - do: Нажать на пноку "Добавить первого пассажира"
        - assert: Открылась форма заполнения данных
        - do: |
              Заполнить форму добавления пассажира все поля на кириллице
              ФИО - Иванов Иван Иванович
              Дата рождения - 01.01.1970
              Пол - м
              Гражданство - Россия
              Документ - Паспорт РФ
              Серия и Номер - 6505123456
        - do: Нажать кнопку "Сохранить"
        - assert: Пассажир добавился, данные совпадают с введенными (проверяем все поля документа, который добавился)
        - assert: Информация о пассажире совпадает (псевдоним = Фамилия + Имя)
        - do: |
              На десктопе - Нажимаем на интент (синюю кнопку ниже текста "Добавить документ:") "..." (троеточие) а затем выбираем "Военный билет"
              На таче - Нажимаем на кнопку Добавить документ, далее - синюю кнопку "Военный билет"
        - assert: Открылась форма заполнения данных для документа
        - do: |
              Заполнить форму добавления документа
              Фамилия - Иванов
              Имя - Иван
              Серия и Номер - АБ1234567
        - do: Нажать кнопку "Сохранить"
        - assert: Пассажир добавился, данные совпадают с введенными (проверяем все поля документа, который добавился)
        - do: Нажать кнопку "Удалить пассажира"
        - do: Подтвердить удаление
        - assert: Проверить, что пассажиров в аккаунте нет
        - assert: Отображается кнопка "Добавить первого пассажира"

    Добавление паспорта моряка только с обязательными полями:
        - do: |
              Зайти в личный кабинет (иконка ЛК находится на главной в правом верхнем углу, в тачах - внутри бургера)
              Перейти в раздел "Моя поездка", затем во вкладку “Пассажиры”
        - assert: Отображается кнопка "Добавить первого пассажира"
        - do: Нажать на пноку "Добавить первого пассажира"
        - assert: Открылась форма заполнения данных
        - do: |
              Заполнить форму добавления пассажира все поля на кириллице
              ФИО - Иванов Иван Иванович
              Дата рождения - 01.01.1970
              Пол - м
              Гражданство - Россия
              Документ - Паспорт РФ
              Серия и Номер - 6505123456
        - do: Нажать кнопку "Сохранить"
        - assert: Пассажир добавился, данные совпадают с введенными (проверяем все поля документа, который добавился)
        - assert: Информация о пассажире совпадает (псевдоним = Фамилия + Имя)
        - do: |
              На десктопе - Нажимаем на интент (синюю кнопку ниже текста "Добавить документ:") "..." (троеточие) а затем выбираем "Паспорт моряка"
              На таче - Нажимаем на кнопку Добавить документ, далее - синюю кнопку "Паспорт моряка"
        - assert: Открылась форма заполнения данных для документа
        - do: |
              Заполнить форму добавления документа
              Фамилия - Иванов
              Имя - Иван
              Серия и Номер - XX1234567
        - do: Нажать кнопку "Сохранить"
        - assert: Пассажир добавился, данные совпадают с введенными (проверяем все поля документа, который добавился)
        - do: Нажать кнопку "Удалить пассажира"
        - do: Подтвердить удаление
        - assert: Проверить, что пассажиров в аккаунте нет
        - assert: Отображается кнопка "Добавить первого пассажира"

    Добавление другого документа (Украина) только с обязательными полями:
        - do: |
              Зайти в личный кабинет (иконка ЛК находится на главной в правом верхнем углу, в тачах - внутри бургера)
              Перейти в раздел "Моя поездка", затем во вкладку “Пассажиры”
        - assert: Отображается кнопка "Добавить первого пассажира"
        - do: Нажать на пноку "Добавить первого пассажира"
        - assert: Открылась форма заполнения данных
        - do: |
              Заполнить форму добавления пассажира все поля на кириллице
              ФИО - Иванов Иван Иванович
              Дата рождения - 01.01.1970
              Пол - м
              Гражданство - Россия
              Документ - Паспорт РФ
              Серия и Номер - 6505123456
        - do: Нажать кнопку "Сохранить"
        - assert: Пассажир добавился, данные совпадают с введенными (проверяем все поля документа, который добавился)
        - assert: Информация о пассажире совпадает (псевдоним = Фамилия + Имя)
        - do: |
              На десктопе - Нажимаем на интент (синюю кнопку ниже текста "Добавить документ:") "..." (троеточие) а затем выбираем "Другой документ"
              На таче - Нажимаем на кнопку Добавить документ, далее - синюю кнопку "Другой документ"
        - assert: Открылась форма заполнения данных для документа
        - do: |
              Заполнить форму добавления документа
              Гражданство - Украина
              Серия и Номер - es123456
        - do: Нажать кнопку "Сохранить"
        - assert: Пассажир добавился, данные совпадают с введенными (проверяем все поля документа, который добавился)
        - do: Нажать кнопку "Удалить пассажира"
        - do: Подтвердить удаление
        - assert: Проверить, что пассажиров в аккаунте нет
        - assert: Отображается кнопка "Добавить первого пассажира"

    Редактирование документа пассажира:
        - do: |
              Зайти в личный кабинет (иконка ЛК находится на главной в правом верхнем углу, в тачах - внутри бургера)
              Перейти в раздел "Моя поездка", затем во вкладку “Пассажиры”
        - assert: Отображается кнопка "Добавить первого пассажира"
        - do: Нажать на пноку "Добавить первого пассажира"
        - assert: Открылась форма заполнения данных
        - do: |
              Заполнить форму добавления пассажира все поля на латинице
              ФИО - Ivanov Ivan Ivanovich
              Дата рождения - 01.01.1970
              Пол - м
              Гражданство - Россия
              Документ - Паспорт РФ
              Серия и Номер - 6505654321
        - do: Нажать кнопку "Сохранить"
        - assert: Информация о пассажире совпадает (псевдоним = Фамилия + Имя)
        - assert: Пассажир добавился, данные совпадают с введенными (проверяем все поля документа, который добавился)
        - do: Нажимает на "карандаш" (редактирование) у документа пассажира (должен быть 1 и все поля совпадают с введенными)
        - assert: Открылась форма редактирования документа
        - do: |
              Заполнить форму редактирования следующими полями
              Серия и Номер - АБЫРВАЛГ
        - do: Нажать кнопку "Сохранить"
        - assert: Отобразился хинт о неправильном вводе с текстом "Введите 10 цифр без пробелов"
        - do: |
              Заполнить форму редактирования следующими полями
              Фамилия - Изменен
              Имя - Измен
              Отчество - Изменыч
              Фамилия на латинице - "" (пустая строка)
              Имя на латинице - "" (пустая строка)
              Отчество на латинице - "" (пустая строка)
              Серия и Номер - 6507321123
        - do: Нажать кнопку "Сохранить"
        - assert: Документ сохранился, данные совпадают с введенными (проверяем все поля документа, который добавился)
        - do: Нажать кнопку "Удалить пассажира"
        - do: Подтвердить удаление
        - assert: Проверить, что пассажиров в аккаунте нет
        - assert: Отображается кнопка "Добавить первого пассажира"

    Поиск пассажиров в записной книжке:
        - do: |
            Для прохождения кейса нужно быть залогиненным.
            Для прода можно использовать свой личный аккаунт.
            Для тестинга асессоры могут пользоваться тестовым аккаунтом : vladlen@yandex.ru password: v12345678

            Важно, чтобы в записной книжке было как минимум два пассажира с разными псевдонимами.
            Псевдонимы должны быть двух видов: отличны от имен (например, “Дочь”, “Ленка”) и не отличны (“Иванов Петр”)
        - do: |
              Зайти в личный кабинет (иконка ЛК находится на главной в правом верхнем углу)
              Перейти в раздел "Моя поездка", затем во вкладку “Пассажиры”
        - assert: Слева на странице есть список пассажиров
        - assert: Над списком отображается поисковая строка
        - assert: В строке есть значок лупы и подсказка "Например, псевдоним пассажира"
        - do: Ввести в поисковую строку псевдоним любого пассажира из списка
        - assert: В списке пассажиров отображается только пассажиры с соответствующим псевдонимом
        - do: Нажать на крестик в конце строки
        - assert: Значение в поиске очистилось
        - assert: В списке отображаются все пассажиры
        - do: Ввести в поиск любую комбинацию символов, не соответствующую ни одному псевдониму
        - assert: Вместо списка пассажиров отображается сообщение "Пассажиры не найдены"

files:
    - tests/common/account/passengers/passengers.hermione.ts

tags: smoke

# meta
system:
    parallelLimit: 1

Сервис: Записная книжка
Страница: Пассажиры
Устройство:
    - Десктоп
    - Тач
Функциональность: Действия в записной книжке
Окружение:
    - Production
    - Testing
Tag:
    - automation (iliasova)
    - Smoke
Тестирование асессорами: Да
