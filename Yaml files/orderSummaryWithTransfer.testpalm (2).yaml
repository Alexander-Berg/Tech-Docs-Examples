feature: Поезда
type: Подтверждение
description: |
    Бронируем места в оба поезда со схемой.

    Пример ссылки на выбор мест для пересадок: https://travel-test.yandex.ru/trains/order/?adults=1&forward=P1_049А_c2_c213_2021-07-10T13.32%2CP1_070Ч_c213_c54_2021-07-11T13.50&fromId=c2&fromName=Санкт-Петербург&number=049А&provider=P1&time=13.32&toId=c54&toName=Екатеринбург&when=2021-07-10

specs:
    ЖД+ЖД Корзинка в таче:
        - do: Перейти на страницу выбора мест в первый поезд, для сложного заказа с пересадкой
        - do: Выбрать 1 взрослого пассажира, 1 ребенка с местом, 1 ребенка без места
        - assert: внизу отображается корзинка с кнопкой Далее, заголовком "Стоимость билетов" и направлением для первого рейса
        - do: Выбрать тип вагона Плацкарт
        - do: Выбрать любые места
        - assert: корзина переместилась под схему
        - assert: отображается стоимость за 2 места
        - do: Нажать на иконку вопроса
        - assert: открылось окно с расшифровкой стоимости
        - assert: есть заголовок с направлением движения первого поезда
        - assert: отображается стоимость за все билеты, для ребенка без места стоимость = 0
        - assert: есть чекбокс постельного белья, установлен
        - assert: есть сумма Итого, она включает сумму за все билеты в первый поезд
        - do: Нажать "Далее"
        - assert: произошел переход на страницу выбора мест во второй поезд
        - assert: внизу страницы в корзинке появился блок с направлением второго рейса
        - do: Выбрать любые места в плацкарте
        - assert: корзина переместилась к схеме
        - assert: отображается стоимость за 2 места во втором поезде
        - do: Нажать на иконку вопроса
        - assert: открылось окно с расшифровкой стоимости
        - assert: есть 2 блока, в заголовках направление движения первого и второго поезда
        - assert: отображается стоимость за все билеты, для ребенка без места стоимость = 0
        - assert: есть чекбокс постельного белья для обоих рейсов, установлен
        - assert: есть сумма Итого, она включает сумму за все билеты в оба поезда
        - do: Снять чекбокс "Постельное белье" для второго рейса
        - assert: чекбокс снялся
        - assert: сумма Итого уменьшилась на сумму за белье
        - do: Нажать Указать пассажиров
        - do: Ввести любые данные
        - do: Нажать Проверить заказ и купить
        - assert: открылась страница подтверждения заказа
        - assert: внизу страницы в корзине есть два блока - с билетами на первый рейс и на второй
        - assert: для каждого блока есть заголовок с направлением рейса
        - assert: в блоке с билетами во второй рейс нет информации о белье, в блоке с первым рейсом есть текст "Бельё включено в стоимость"
        - assert: есть сумма Итого, она совпадает с суммой за все билеты на оба рейса
        - do: Установить чекбокс страховки
        - assert: сумма Итого увеличилась на сумму страховки

files:
    - tests/touch/trains/order/confirmation/orderSummaryWithTransfer/orderSummaryWithTransfer.hermione.ts

# meta
Сервис: ЖД
Страница: Подтверждение
Функциональность: ЖД+ЖД Пересадки
Устройство:
    - Тач
Окружение:
    - Production
    - Testing
Тестирование асессорами: Нет
