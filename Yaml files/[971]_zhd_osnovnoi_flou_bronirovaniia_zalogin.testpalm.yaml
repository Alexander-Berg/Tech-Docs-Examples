feature: ЖД
type: ''
description: >-
  Информация для асессоров: форма оплаты с полями ввода данных карты в тестинге
  намеренно пропускается. Шаги в кейсе, где требуется ввести данные карты и
  нажать кнопку Оплатить, нужно пропустить.


  Для заполнения форм на странице оплаты использовать тестовые карты, подробнее
  здесь: https://wiki.yandex-team.ru/TRUST/testdata/#operaciisbankovskimikartami


  Например:

  Номер карты: 5100003697253468

  CVN: 060

  Дата: 01/20

  Залогиниться под тестовым аккаунтом

  Создать взрослого пассажира с валидными данными

  Перейти на главную сервиса

  Перейти на вкладку Ж/Д билеты
specs:
  'ЖД: Основной флоу бронирования залогин':
    - do: Открыть выдачу Москва - Калуга через месяц
    - do: >-
        Кликнуть по кнопке “Выбрать место” для поезда со свободными
        платцкартными местами
    - assert: Осуществился переход на страницу выбора мест
    - do: Выбрать любое свободное плацкартное место
    - assert: 'Галка "Постельное белье" стоит, указана стоимость билета'
    - do: >-
        Кликнуть по кнопке перехода на следующий шаг покупки. (Кнопка может
        называться по разному, сейчас называется “Указать пассажиров”
    - assert: Открылась страница данных пассажира
    - do: Выбрать из интентов пассажира из ЗКП
    - assert: 'Поля заполнились данными, ошибок валидации нет'
    - do: >-
        Кликнуть по кнопке перехода на следующий шаг покупки. (Кнопка может
        называться по разному, сейчас называется “Проверить заказ и купить”)
    - assert: Открылась страница подтверждения
    - do: >-
        Проверить что номер поезда, даты, данные пассажира, номер места, сумма
        соответствуют введенным ранее
    - do: >-
        Кликнуть по кнопке перехода на следущий шаг покупки. (Кнопка может
        называться по разному, сейчас называется “Ввести карту и оплатить”
    - assert: Открылась страница оплаты заказа
    - do: Оплатить заказ (как- зависит от реализации)
    - assert: >-
        Открылась страница хэппи-пейдж: Вы успешно купили билет на поезд.

        Номер поезда, даты, данные пассажира, номер места, сумма соответствуют
        введенным ранее
manual: true
Устройство:
  - Десктоп
  - Тач
tlds: ru
Сервис: ЖД
Тестирование асессорами: Нет
Окружение:
  - Production
  - Testing
Tag: Blocker
Автор: tcheremnykh
