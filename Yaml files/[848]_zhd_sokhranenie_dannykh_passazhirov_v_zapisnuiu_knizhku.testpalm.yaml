feature: Записная книжка
type: Ввод данных
description: >-
  **Для асессоров:**

  Для работы с записной книжкой требуется быть авторизованным. Можно
  использовать учетную запись: vladlen@yandex.ru password: v12345678


  **Для Асессоров: Выполнить вход удается ТОЛЬКО через кнопку ЛК (рядом с
  кнопкой Войти) > кликнуть Войдите в аккаунт > Авторизоваться тестовым
  аккаунтом (ссылка ведет на passport-test.yandex.ru). Важно чтобы это был
  именно тестовый аккаунт, т.к. через свой аккаунт не впустит**

  ![image](https://jing.yandex-team.ru/files/shenfeld/2020-03-25_17.35.08-4bpdm.png)

  Перейти на главную сервиса

  Перейти на вкладку Ж/Д билеты

  Перейти на покупку для любого поезда


  Находимся на странице ввода данных для 2 взрослых пассажиров, залогинены под
  тестовым аккаунтом из описания кейса
specs:
  'ЖД: Сохранение данных пассажиров в записную книжку':
    - do: 'Заполнить поля ввода произвольными валидными значениями, запомнить их'
    - do: Кликнуть по кнопке Проверить заказ и купить
    - assert: '* Произошел переход на страницу подтверждения'
    - do: Вернуться обратно на страницу ввода данных
    - assert: >-
        * Появились 2 новых интента для обоих пассажиров

        ![image](https://jing.yandex-team.ru/files/shenfeld/Zapolnenie_dannyh_passazhirov_v_poezde_050M_Moskva_Samara_iz_Moskvy_v_Samaru_na_13_fevralya__Yandeks.Puteshestviya_2019-01-29_18-12-04.png)

        * Вся информация соответствует заполненной ранее - ФИО, дата рождения,
        тип документа, номер документа
    - do: >-
        Для первого пассажира оставить все поля заполненными теми же данными,
        для второго заполнить другими валидными данными
    - do: Кликнуть Проверить заказ и купить
    - assert: '* Произошел переход на страницу подтверждения'
    - do: Вернуться назад на страницу ввода данных
    - assert: >-
        * Появился один новый интент с данными, которыми заполняли поля для
        второго пассажира

        * С данными первого пассажира нового интента не создалось, дублирования
        нет
    - do: >-
        Для первого пассажира заменить поля с типом документа и номером
        документа (например, на загран паспорт), остальные поля оставить
        прежними
    - do: Кликнуть Проверить заказ и купить
    - assert: '* Произошел переход на страницу подтверждения'
    - do: Вернуться назад на страницу ввода данных
    - assert: >-
        * Создался новый интент, который отличается от старого только типом
        документа и номером:

        ![image](https://jing.yandex-team.ru/files/shenfeld/Zapolnenie_dannyh_passazhirov_v_poezde_050M_Moskva_Samara_iz_Moskvy_v_Samaru_na_13_fevralya__Yandeks.Puteshestviya_2019-01-29_18-23-19.png)
    - do: >-
        * Для одного из пассажиров поменять ФИО на латиницу (документ должен
        быть загран паспорт)

        * Для второго пассажира записать ФИО без отчества - вместо отчества
        ввести "-"
    - do: Кликнуть Проверить заказ и купить
    - assert: '* Произошел переход на страницу заказа'
    - do: Вернуться на страницу ввода данных
    - assert: |-
        * Появились 2 новых интента - один с ФИО латиницей, второй без отчества
        * Все данные на новых интентах соответствуют введенным ранее
    - do: >-
        Зайти в личный кабинет (иконка ЛК находится на главной в правом верхнем
        углу):

        ![image](https://jing.yandex-team.ru/files/gouken67/Иконка%20ЛК.png)

        Перейти во вкладку “Пассажиры”
    - assert: >-
        В записной книжке добавились пассажиры с данными, указанными в п.1, 4 7,
        10
manual: true
Устройство: Десктоп
Страница: Ввод данных
Сервис:
  - Записная книжка
  - ЖД
Тестирование асессорами: Да
Окружение:
  - Production
  - Testing
Автор: shenfeld
