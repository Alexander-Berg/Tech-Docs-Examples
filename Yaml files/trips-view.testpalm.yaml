feature: Комод
type: Мои поездки
description: Общий вид страницы со списком моих поездок

specs:
    Общий вид страницы (есть и будущие и прошедшие проездки):
        - do: Авторизоваться
        - do: Включить фронтовые моки бекенда (cookie "use_trips_mock" со значением "true")
        - do: Зайти на главную сервиса
        - do: Кликнуть в иконку личного кабинета
        - assert: Должна открыться страница Мои поездки
        - assert: На странице в десктопе должна быть вкладка "Мои поездки"
        - assert: На странице в десктопе должна быть вкладка "Пассажиры"
        - assert: На странице в десктопе вкладка "Мои поездки" должна быть активна
        - assert: На странице должен быть текст "Поможем с заказом" и номер телефона
        - assert: На странице должна быть ссылка "Найти свой заказ"
        - assert: |
              На странице должны отображаться поездки в блоке активных поездок
                1. Тексты "Санкт-Петербург", "Послезавтра", картинка соответствует городу, ссылка ведет на my/trips/{id}
                2. Тексты "Франция", "24 — 25 мар, 2021", картинка-заглушка, ссылка ведет на my/trips/{id}
                3. Тексты "Лондон", "5 мая, 2021", картинка-заглушка, ссылка ведет на /my/order/{id}
        - assert: |
              На странице должен отображаться заголовок "Прошлые поездки" в блоке прошедших поездок, а также поездки
                1. Тексты "Сочи", "20 дек, 2021 - 11 янв, 2022", картинка соответствует городу, ссылка ведет на my/trips/{id}
                2. Тексты "Санкт-Петербург — Александровск-Сахалинский", "20 дек, 2021 - 11 янв, 2022", картинка соответствует городу, ссылка ведет на my/trips/{id}

    Общий вид страницы (есть только прошедшие проездки):
        - do: Авторизоваться
        - do: Включить моки (количество активных поездок = 0)
        - do: Зайти на страницу Мои поездки
        - assert: Должна отображаться картинка-заглушка
        - assert: Текст картинки-заглушки должен быть "Никуда не собираетесь? Это стоит исправить"
        - assert: Текст кнопки картинки-заглушки должен быть "Подобрать билеты или отель"
        - assert: Кнопка с картинки-заглушки должна вести на главную
        - assert: Должен отображаться заголовок "Прошлые поездки"
        - assert: Должны отображаться прошлые поездки

    Общий вид страницы (есть только активные поездки):
        - do: Авторизоваться
        - do: Включить моки (количество прошедших поездок = 0, количество активных поездок = 1)
        - do: Зайти на страницу Мои поездки
        - assert: Должна быть одна активная поездка
        - assert: Заголовок активной поездки должен быть "Санкт–Петербург"
        - assert: Должен отсутствовать заголовок "Прошлые поездки"
        - assert: Должны отсутствовать прошлые поездки

files:
    - tests/common/account/trips/trips-view.hermione.ts

tags: smoke

Сервис: Поездка
Страница: Мои поездки
Функциональность: Список моих поездок
Устройство:
    - Десктоп
    - Тач
Окружение:
    - Testing
Тестирование асессорами: Нет
