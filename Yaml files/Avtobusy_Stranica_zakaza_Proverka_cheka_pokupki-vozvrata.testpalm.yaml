feature: Автобусы
type: Страница заказа
description: |
    Для воспроизведения сценария нужно приобрести 2 билета любой рейс в тестинге

    Пример направлений:
    "Санкт-Петербург - Великий Новрогод",
    "Ростов-на-Дону - Москва",
    "Москва - Воронеж",

    Перейти на страницу заказа
specs:
    Автобусы. Страница заказов. Проверка чека покупки-возврата:
        - assert: Находимся на странице заказа
        - do: Кликнуть по ссылке "Чек на оплату"
        - assert: |
                В новом окне открылся чек продажи
                Сумма в чеке совпадает с суммой на странице заказа
        - do: Выбрать одного из пассажиров и нажать кнопку "Сдать билет"
        - do: Подтвердить возврат билета
        - assert:
                Через пару минут после возврата сформировался чек возврата (если чек не сформировался - пропустить сценарий)
                Под фио прописалась сумма "К возврату" и рядом с ней есть ссылка "скачать чек"
        - do: Кликнуть по "Скачать чек"
        - assert: |
                В новом окне открылся чек возврата
                Сумма в чеке возврата совпадает с суммой на странице заказа
        - assert: В блоке "Сумма за все билеты" рядом с "Чеком продажи" появился "Чек возврата 1"
        - do: Кликнуть по "Чек возврата 1"
        - assert: |
                В новом окне открылся чек возврата 1
                Сумма в чеке возврата совпадает с суммой возврата на странице заказа
        - do: Сдать оставшийся билет
        - assert: В блоке "Сумма за все билеты" рядом с "Чеком продажи" появился "Чек возврата 2"
        - do: Кликнуть по "Чек возврата 2"
        - assert: |
                В новом окне открылся чек возврата 2
                Сумма в чеке возврата совпадает с суммой возврата на странице заказа

manual: true
Функциональность: Возврат билета
Устройство:
    - Десктоп
    - Тач
Страница: Страница заказа
Сервис: Автобусы
Тестирование асессорами: Нет
Автор: arhey
Окружение:
    - Production
    - Testing
