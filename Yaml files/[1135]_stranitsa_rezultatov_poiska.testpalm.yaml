feature: Автобусы. Старый фронт
type: Главная
description: |-
  Открыта главная страница сервиса Яндекс.Путешествия
  Активен раздел Автобусы
specs:
  Страница результатов поиска:
    - do: >-
        Ввести в поля поиска Куда, Откуда и Дата корректные значения

        Нажать кнопку Найти

        Если отображается заглушка "На эту дату рейсов нет", подобрать другие
        условия поиска
    - assert: 'Отображается список рейсов, удовлетворяющий условиям поиска'
    - do: Проверить внешний вид страницы с результатами поиска
    - assert: >-
        - Поле поиска переместилось в шапку, в нём заполнены ранее выбранные
        значения

        - В заголовке отображается "Рейсы", указаны пункты Откуда и Куда, дата
        отправления

        - Количество найденных рейсов

        - Указание на местное время

        - Блок "Хорошие цены"

        - Список рейсов
    - do: Выбрать поле поиска в шапке
    - assert: |-
        Поиск разворачивается
        Поля ввода позволяют выбрать и изменить значения
        Кнопка Найти обновляет результаты поиска
    - do: Проверить визуально блок Есть дешевле!
    - assert: |-
        Блок содержит элементы:
        - Заголовок "Есть дешевле!"
        - Под заголовком текст "Проверьте другие даты, цены могут быть ниже"
        - Горизонтальный ряд с датами, начиная с текущей
        - На каждую дату указана минимальная стоимость билета
        - Если минимальная стоимость не определена, отображается значок "Лупа"
    - do: Выбрать любую дату в блоке Есть дешевле
    - assert: >-
        Заголовок поиска сменился на выбранную дату

        Результаты поиска обновились

        Среди результатов поиска минимальное значение соответствует цене в блоке
        Есть дешевле
    - do: Выбрать дату без установленной цены в блоке Есть дешевле
    - assert: >-
        Заголовок поиска сменился на выбранную дату

        Результаты поиска обновились

        В блоке Есть дешевле появилось значение

        Среди результатов поиска минимальное значение соответствует цене в блоке
        Есть дешевле
    - do: Проверить визуально блок с результатами поиска
    - assert: |-
        Таблица результатов содержит колонки:
        - Отправление (время и населённый пункт)
        - Прибытие (время и населённый пункт)
        - Время в пути
        - Цена (сумма и знак валюты)
        - Кнопка Выбрать (Надпись Выбрать и ниже количество оставшихся мест)
    - do: Нажать на заголовки колонок
    - assert: |-
        Сортировка рейсов выполняется по выбранной колонке
        При повторном нажатии направление сортировки меняется
    - do: (Десктоп) Навести курсор на любой рейс
    - assert: Строка таблицы выделяется жёлтой рамкой
    - do: Выбрать любой рейс
    - assert: |-
        Описание рейса разворачивается и показывается дополнительная информация:
        - Временная линия с временем и пунктами остановок
        - Рейс
        - Перевозчик
        - Транспорт
        - Ссылка Прочие условия
        - Ссылка Скрыть
    - do: Нажать ссылку Прочие условия
    - assert: Разворачивается текст с дополнительным описанием
    - do: Нажать ссылку Скрыть
    - assert: |-
        Дополнительная информация скрывается
        Строка рейса не выделена
    - do: Нажать кнопку Выбрать любого рейса со свободными местами
    - assert: >-
        Открывается страница выбора мест, ввода персональных данных и оплаты
        билетов

        Рейс соответствует выбранному в таблице
manual: true
Функциональность: Личный кабинет
Страница: Главная
Сервис: Автобусы. Старый фронт
Tag: form-2814823
