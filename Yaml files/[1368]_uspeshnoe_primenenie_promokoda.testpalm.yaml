feature: Отели
type: Бронирование
description: Залогиниться
specs:
  Успешное применение промокода:
    - do: 'Перейти на страницу бронирования для любого отеля, на любые даты'
    - assert: >-
        Открылась страница бронирования.

        В корзинке есть галка "У меня есть промокод", по умолчанию выключена.
        Поле инпут для промокода и кнопка "Применить" не показывается.
    - do: Включить галку "У меня есть промокод"
    - assert: Появилось Поле инпут для промокода и кнопка "Применить"
    - do: >-
        Если есть чекбоксы предоплаты и полной оплаты, выбрать Оплатить
        полностью

        Запомнить итоговую сумму заказа
    - do: 'В инпут написать промокод "SUCCESS", нажать применить'
    - assert: |-
        Инпут, кнопка и галка задизейблились
        В блоке с промокодом появилась сумма скидки: "− 200 ₽"
        Появилась ссылка "Отменить"
        Сумма заказа стала на 200р меньше, чем была в п.3
    - do: >-
        Заполнить информацию о гостях и контактную информацию любыми валидными
        данными.

        Нажать оплатить.
    - assert: |-
        Открылась страница с формой оплаты.
        Сумма к оплате соответствует сумме из п.4
    - do: Оплачиваем заказ
    - assert: Открылась страница успешной брони happy page
    - do: Нажать Подробнее о заказе
    - assert: >-
        Сумма заказа соответствует сумме из п.4

        В корзинке есть информация о примененном промокоде: "Скидка по промокоду
        SUCCESS − 200 ₽"
manual: true
Функциональность: Промокод
Устройство:
  - Десктоп
  - Тач
Страница: Бронирование
Сервис: Отели
Тестирование асессорами: Нет
Окружение: Testing
