feature: Автобусы. Старый фронт
type: Покупка
description: >-
  Проверка корретности загрузки страницы поиска и ее элементов, бронирование
  билета
specs:
  Автобусы. Бронирование незалогин:
    - do: |-
        Открыть главную страницу путешествий, вкладка Автобусы
        Пользователь не залогинен
        Открыть произвольную выдачу, например, Москва - Рязань на завтра
        На произвольном сниппете нажать кнопку выбора мест
    - assert: >-
        Открылась страница покупки билета.

        Состоит из

        - лого путешествий, блока поиска, кнопки Войти

        - блока с информацией о рейсе с указанием время и место отправления и
        прибытия, инфо о рейсе и транспорте, указанием что время отправления и
        прибытия местное и кнопкой-ссылкой на Прочие условия

        - блока "Укажите пассажиров" с кнопками о тарифе и месте, информацией о
        фио, пол, дате рождения, документе с серией-номером и кнопкой добавления
        багажа

        - блока "Укажите контактные данные"

        - блока "К оплате" с указанием суммы билета, информацией о величине
        сервисного сбора и кнопкой "Забронировать и оплатить"
    - do: >-
        Задать данные пассажиров (произвольные данные, удовлетворяющие
        валидации), задать контактную информацию (произвольные данные,
        удовлетворяющие валидации). (Все введенные данные необходимо
        заполнить).

        Нажать кнопку "Забронировать и оплатить", под ней информация о доступных
        способах оплаты.
    - assert: >-
        Открывается окно Оплата картой.

        В окне находится

        - блок "Ваши карты" с кнопкой "Новая карта"

        - блок с данными карты, пустой, поля для ввода номера карты с кнопкой
        "Вставить", срока действия и CVC/CVV

        - блок текста "Защищено сертификатом SSL Сайт отвечает стандартам
        безопасности Visa и Mastercard"

        - таймер бронирования (15 минут) на оплату заказа

        - чекбокс для сохранения карты

        - сумма покупки и кнопка "Оплатить"
    - do: Закрыть окно оплаты
    - assert: >-
        На странице появился блок "Билеты ожидают оплату", состоит из

        - номера заказа

        - блок с информацией о билете, место пассажира, статус оплаты, ФИО и
        данные о документе, стоимость билета.

        Кнопка “Забронировать и оплатить” поменялась и стала кнопкой "Оплатить",
        под ней информация о доступных способах оплаты.
    - do: |-
        Открыть главную страницу путешествий, вкладка Автобусы
        Залогиниться пользователем
        Открыть произвольную выдачу, например, Москва - Рязань на завтра
        На произвольном сниппете нажать кнопку “Выбрать места”
    - assert: >-
        Открылась страница покупки билета.

        В хедере появился логин пользователя и кнопка "Мои билеты"

        Контактные данные заполнены имеющимися данными из профиля пользователя
        (телефон, емейл)

        Данные о пассажире заполнились данными из ЗКП.
    - do: Очистить поле ФИО или кликнуть по крестику в этом поле.
    - assert: Открывается список пассажиров из ЗКП в дропдауне
    - do: Выбрать любого другого пассажира
    - assert: Все поля с информацией о пассажира заполнились данными нового пассажира
    - do: Кликнуть по кнопке "Мои билеты"
    - assert: >-
        Открылась страница "Мои заказы"

        На странице отображаются заказы, которые пользователь бронировал.

        Блок состоит из

        - заголовок "Мои заказы", чекбокс "Показать аннулированные"

        - номера заказа, даты оплаты, кнопки "Детали заказа"

        - инфо о времени и дате отправления

        - инфо о времени, дате и месте прибытия

        - инфо о номере места в автобусе, статусе билета (Подтвержден, Ожидает
        оплаты, Возвращено, Аннулировано), ФИО, документе и стоимости билета
manual: true
Устройство: Десктоп
Сервис: Автобусы. Старый фронт
Страница:
  - Покупка
  - Страница заказа
  - Подтверждение
Тестирование асессорами: Нет
Окружение: Testing
