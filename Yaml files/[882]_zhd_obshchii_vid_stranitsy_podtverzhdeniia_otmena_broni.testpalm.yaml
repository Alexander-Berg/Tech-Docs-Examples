feature: ЖД
type: Подтверждение
description: |-
  Перейти на вкладку ЖД билеты

  Открыта произвольная выдача, например, Москва - Санкт-Петербург на дату через месяц от текущей
specs:
  'ЖД: Общий вид страницы подтверждения. Отмена брони':
    - do: >-
        Выбрать любой поезд из выдачи и нажать кнопку "Выбрать место"
        Выбрать любой тип вагона и выбрать в нем место №10 (если место занято, найти другой вагон)
        Нажать кнопку "Указать пассажиров" и ввести валидные данные пассажиров.
        Нажать кнопку "проверить заказ и купить"
    - assert: >-
        Открывается страница Подтверждение.
        Вверху страницы находится таймер бронирования (30 минут) на оплату заказа
        Есть следующие блоки и данные:
        **Блок с информацией о поезде**
        - номер поезда
        - дата, время и место отправления (соответствует выбранному поезду)
        - дата, время и место прибытия (соответствует выбранному поезду)
        - информация, что время местное
        - время в пути
        - дополнительная информация, например, Электронная регистрация
        **Блок Вагон и места**
        - номер вагона, тип вагона, класс вагона (все соответствует выбранным)
        - места
        - схема вагона с указанным положением мест
        **Блок Пассажиры**
        - Фамилия, Имя, Отчество
        - стоимость билета, вид тарифа (например, полный)
        - дата рождения
        - паспортные данные или данные используемого документа
        - кнопка ? возле суммы
        **Блок Контактная информация**
        - номер мобильного телефона
        - электронная почта
        **Блок Стоимость билетов**
        - тарифы за каждое место
        - чекбокс добавить страховку, стоимость (по умолчанию выключен)
        - название страховой компании
        - сумма Итого
        - есть кнопка "Ввести карту и оплатить"
        - ниже есть ссылка Отменить заказ (если передумали)
    - do: Включить чекбокс страховки
    - assert: Итоговая сумма увеличилась ровно на указанную стоимость страховки
    - do: Проскроллить схему вагона вправо-влево (тач)
    - assert: 'Схема свободно скроллится, верстка соответствует странице'
    - do: кликнуть по иконке ? в блоке паспортных данных
    - assert: >-
        Появляется информационное сообщение о том, из чего складывается
        стоимость билета: цена билета, сервисный сбор

        Общая сумма посчитана верно (цена билета + сервисный сбор)
    - do: Нажать на "Отменить заказ"
    - assert: Перешли к странице выбора мест.
manual: true
Функциональность: Действия на подтверждении
Устройство:
  - Десктоп
  - Тач
Страница: Подтверждение
Сервис: ЖД
Тестирование асессорами: Да
Окружение:
  - Production
  - Testing
Tag:
  - Smoke
  - Blocker
Автор: shenfeld
