feature: ЖД
type: Страница заказа
description: >-
  **Информация для асессоров: форма оплаты с полями ввода данных карты в
  тестинге намеренно пропускается. Шаги кейса, где требуется ввести данные карты
  и нажать кнопку Оплатить, нужно пропустить.**

  Перейти на главную сервиса

  Перейти на вкладку Ж/Д билеты
specs:
  'ЖД: Покупка билетов на поезд, у которого нет схемы и требований':
    - do: Открыть выдачу Усинск - Микунь на завтра
    - do: >-
        Для поезда 305Я кликнуть по кнопке "Выбрать место" (если нет поезда,
        поискать на другие даты)
    - assert: >-
        * Осуществился переход на страницу выбора мест

        * Для сидячего типа внутри класса 3С есть кнопка Указать пассажиров

        * Есть подсказка "Для этих вагонов нет схем, места выбираются
        автоматически"

        ![image](https://jing.yandex-team.ru/files/shenfeld/2021-01-14_11.47.21-ffl46.png)
    - do: >-
        Кликнуть по кнопке Указать пассажиров для одного из сидячих классов без
        схем (внутри класса)
    - assert: |-
        * Произошел переход на страницу ввода данных
        * Справа в корзине со стоимостью есть текст
        **Стоимость билетов
        Будет известна на шаге подтверждения данных.
        Итого
        ... Р**
    - do: |-
        Заполнить все поля валидной информацией

        Пример валидного номера паспорта: 6505 111111
    - do: Кликнуть кнопку "Проверить заказ и купить"
    - assert: >-
        * Осуществился переход на страницу "Подтверждение данных"

        * На странице подтверждения данных вагон и место указаны корректно (нет
        undefined)

        * Номер вагона совпадает с запомненым ранее

        * Схема вагона не отображается

        * Справа в корзине отображается цена без предлога "От"
    - do: Кликнуть кнопку "Оплатить"
    - assert: >-
        * Осуществился переход на страницу оплаты (у асессоров сразу переход на
        страницу заказа, без оплаты)

        * Вагон и место в шапке указаны корректно (нет undefined)
    - do: Заполнить все поля валидными данными (асессоры пропускают)
    - do: Кликнуть кнопку "Оплатить"
    - assert: |-
        * Осуществился переход на хэппи пейдж
        * Вагон и место указаны корректно (нет undefined)
    - do: Нажать "Подробнее о заказе"
    - assert: |-
        - Открылась страница заказа с информацией о бронировании
        * Вагон и место указаны корректно (нет undefined)
manual: true
Функциональность: Покупка
Устройство: Десктоп
Страница: Страница заказа
Сервис: ЖД
Тестирование асессорами: Нет
Окружение: Testing
Автор: shenfeld
