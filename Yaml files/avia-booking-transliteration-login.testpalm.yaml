feature: Авиа
type: Бронирование
description: >-
    Как попасть на страницу бронирования аэрофлота:


    **Если вы тестируете тач-версию, можно для удобства создавать нужную ссылку на
    бронирование (или другие ссылки из кейсов) в десктопе, потом просто копировать
    и проверять кейс в таче.**


    * В поиске авиа поискать по направлению, по которому летает аэрофлот
    (например, Москва - Екатеринбург, или направление, указанное в кейсе).

    * Выбрать в фильтре по авиакомпаниям Аэрофлот

    * Кликнуть по сниппету с предложением Аэрофлота (где есть приписка Заказ на Я.Путешествиях).

    * На открывшейся странице кликнуть по кнопке Купить для Я.Путешествий. //
    произойдет переход на travel-test

    ![image](https://jing.yandex-team.ru/files/gouken67/Я.Путешествия%20Авиа.png)

    * **У Асессоров откроется travel.crowdtest** - должна открыться страница
    бронирования с формой ввода данных пассажиров

    **Для Асессоров: Выполнить вход удается ТОЛЬКО через кнопку ЛК (рядом с
    кнопкой Войти) > кликнуть Войдите в аккаунт > Авторизоваться тестовым
    аккаунтом (ссылка ведет на passport-test.yandex.ru). Важно чтобы это был
    именно тестовый аккаунт, т.к. через свой аккаунт не впустит**

    ![image](https://jing.yandex-team.ru/files/arhey/2022-04-04T09:56:21Z.ced9ee6.png)

    Нужно быть залогиненым. Проверяем только почту, потому что телефона у этого
    аккаунта нет (а свой не хочется добавлять).

    Для тестинга асессоры могут пользоваться тестовым аккаунтом :
    transliteration password: 1234ASDF
specs:
    Проверка автоматической транслитерации данных пассажира залогин:
        - do: |
            Войти в аккаунт transliteration
            Выполнить переход как описано в Description для 1 взрослого, 1 ребёнка и 1 младенца.
        - assert: Переход сработал, открылась страница бронирования
        - do: |
            Кликнуть в поле фамилии для взрослого
            Подставить данные из саджеста для Транслитерированный Иван (можно написать в поле "Транслит", и тогда данные должны отобразиться)
        - assert: |
            Подставленные данные транслитерировались.
            Появляется сообщение "Перевели ваши данные на латиницу. Проверьте, что всё правильно"
        - do: (Только для тачей) Кликнуть по появившемуся сообщению
        - assert: Сообщение исчезает
        - do: Подставить данные Транслитерированного Сергея для ребёнка
        - assert: |
            Подставились данные Translated Sergey Ivanovich
            Сообщения о перевода на латиницу нет
        - do: Подставить данные Транслитерированной Ольги для младенца
        - assert: |
            Подставились данные Translated Olga Ivanovna
            Сообщения о перевода на латиницу нет

manual: true
Функциональность: Бронирование
Устройство:
    - Десктоп
    - Тач
Сервис: Авиа
Тестирование асессорами: Да
Окружение: Testing
Tag: Smoke
Автор: gouken67
