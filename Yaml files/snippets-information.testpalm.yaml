feature: Автобусы
type: Поиск
description: Сниппеты

specs:
    Сниппеты:
        - do: |
            Сформировать поиск по направлению "Москва - Санкт-Петербург" на завтра
            Если рейсов нет - выбрать одно из https://testing.backend.internal.bus.yandex.net/api/popular
        - assert: |
            - Открылась выдача, поиск произошел на дату "Завтра"
            - Каждый сниппет содержит информацию о
            - пунктах отправления и прибытия,
            - времени отправления и прибытия, (время прибытия может быть "Неизвестно")
            - времени в пути, (может отсутствовать при неизвестном времени прибытия")
            - названии перевозчика,
            - стоимости билета,
            - наличии мест.
            В правой части кнопка "Выбрать"
        - do: |
            Пункт отправления или прибытия может содержать координаты (а может не содержать), тогда: в дестопе он будет подсвечен синим шрифтом, в таче будет выводиться ссылка "Детали рейса" (no_autotest)
            Кликните на подсвеченный пункт, либо ссылку. (no_autotest)
            (если пунктов с координатами, подсвеченным синим нет, попробуйте другой поиск, например Москва-Бронницы, либо любой из описания кейса) (no_autotest)
        - assert: открылась модалка с картой (no_autotest)
        - do: |
            В таче - заголовок Адреса остановок, ниже есть название остановки, на карте отмечена точка расположения остановки есть кнопки изменения масштаба, ниже кнопка "Как добраться" (no_autotest)
            В десктопе: в заголовке модалки с картой название остановки, ниже ссылка "Построить маршрут до остановки", на карте кнопки изменения масштаба (no_autotest)
        - assert: |
            - все элементы работают (no_autotest)
            - по клику на ссылку "Построить маршрут до остановки", либо кнопку "Как добраться" открывается новое окно яндекс карт, в пункте "куда" подставлен адрес остановки, карта открыта на этой же области (no_autotest)
        - do: Проверить закрытие модалки. На десктопе - по крестику и по клику мимо, в таче - переходом назад по ссылке Назад, либо аппаратной кнопкой (no_autotest)
        - assert: модалка закрывается корректно (no_autotest)



files:
    - tests/common/buses/search/date/snippets-information.hermione.ts

tags: smoke

# meta
Сервис: Автобусы
Страница: Выдача
Функциональность: Поиск, общий вид выдачи
Устройство:
    - Десктоп
    - Тач
Окружение:
    - Testing
    - Production
Тестирование асессорами: Да
